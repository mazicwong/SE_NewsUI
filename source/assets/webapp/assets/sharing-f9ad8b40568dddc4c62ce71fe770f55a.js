!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(St.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e={};return pt.each(t.match(Ct)||[],function(t,i){e[i]=!0}),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),pt.ready())}function c(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Nt,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Lt.test(i)?pt.parseJSON(i):i)}catch(t){}pt.data(t,e,i)}else i=void 0}return i}function l(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,i,n){if(jt(t)){var r,o,s=pt.expando,a=t.nodeType,c=a?pt.cache:t,l=a?t[s]:t[s]&&s;if(l&&c[l]&&(n||c[l].data)||void 0!==i||"string"!=typeof e)return l||(l=a?t[s]=it.pop()||pt.guid++:s),c[l]||(c[l]=a?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?c[l]=pt.extend(c[l],e):c[l].data=pt.extend(c[l].data,e)),o=c[l],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[pt.camelCase(e)]=i),"string"==typeof e?(r=o[e],null==r&&(r=o[pt.camelCase(e)])):r=o,r}}function d(t,e,i){if(jt(t)){var n,r,o=t.nodeType,s=o?pt.cache:t,a=o?t[pt.expando]:pt.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!l(n):!pt.isEmptyObject(n))return}(i||(delete s[a].data,l(s[a])))&&(o?pt.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function h(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},c=a(),l=i&&i[3]||(pt.cssNumber[e]?"":"px"),u=(pt.cssNumber[e]||"px"!==l&&+c)&&Ot.exec(pt.css(t,e));if(u&&u[3]!==l){l=l||u[3],i=i||[],u=+c||1;do o=o||".5",u/=o,pt.style(t,e,u+l);while(o!==(o=a()/c)&&1!==o&&--s)}return i&&(u=+u||+c||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}function p(t){var e=Yt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||pt.nodeName(n,e)?o.push(n):pt.merge(o,f(n,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],o):o}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function m(t){It.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,r){for(var o,s,a,c,l,u,d,h=t.length,v=p(e),y=[],b=0;h>b;b++)if(s=t[b],s||0===s)if("object"===pt.type(s))pt.merge(y,s.nodeType?[s]:s);else if(qt.test(s)){for(c=c||v.appendChild(e.createElement("div")),l=($t.exec(s)||["",""])[1].toLowerCase(),d=Ft[l]||Ft._default,c.innerHTML=d[1]+pt.htmlPrefilter(s)+d[2],o=d[0];o--;)c=c.lastChild;if(!dt.leadingWhitespace&&zt.test(s)&&y.push(e.createTextNode(zt.exec(s)[0])),!dt.tbody)for(s="table"!==l||Ut.test(s)?"<table>"!==d[1]||Ut.test(s)?0:c:c.firstChild,o=s&&s.childNodes.length;o--;)pt.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(pt.merge(y,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=v.lastChild}else y.push(e.createTextNode(s));for(c&&v.removeChild(c),dt.appendChecked||pt.grep(f(y,"input"),m),b=0;s=y[b++];)if(n&&pt.inArray(s,n)>-1)r&&r.push(s);else if(a=pt.contains(s.ownerDocument,s),c=f(v.appendChild(s),"script"),a&&g(c),i)for(o=0;s=c[o++];)Xt.test(s.type||"")&&i.push(s);return c=null,v}function y(){return!0}function b(){return!1}function _(){try{return nt.activeElement}catch(t){}}function w(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)w(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return pt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,n,i)})}function x(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function S(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,r,o=pt._data(t),s=pt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)pt.event.add(e,i,a[i][n])}s.data&&(s.data=pt.extend({},s.data))}}function k(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[pt.expando]){r=pt._data(e);for(n in r.events)pt.removeEvent(e,n,r.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(S(e).text=t.text,T(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&It.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function B(t,e,i,n){e=ot.apply([],e);var r,o,s,a,c,l,u=0,d=t.length,h=d-1,p=e[0],g=pt.isFunction(p);if(g||d>1&&"string"==typeof p&&!dt.checkClone&&ne.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),B(o,e,i,n)});if(d&&(l=v(e,t[0].ownerDocument,!1,t,n),r=l.firstChild,1===l.childNodes.length&&(l=r),r||n)){for(a=pt.map(f(l,"script"),S),s=a.length;d>u;u++)o=l,u!==h&&(o=pt.clone(o,!0,!0),s&&pt.merge(a,f(o,"script"))),i.call(t[u],o,u);if(s)for(c=a[a.length-1].ownerDocument,pt.map(a,T),u=0;s>u;u++)o=a[u],Xt.test(o.type||"")&&!pt._data(o,"globalEval")&&pt.contains(c,o)&&(o.src?pt._evalUrl&&pt._evalUrl(o.src):pt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(oe,"")));l=r=null}return t}function E(t,e,i){for(var n,r=e?pt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function C(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function P(t){var e=nt,i=le[t];return i||(i=C(t,e),"none"!==i&&i||(ce=(ce||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ce[0].contentWindow||ce[0].contentDocument).document,e.write(),e.close(),i=C(t,e),ce.detach()),le[t]=i),i}function A(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function j(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=Se.length;i--;)if(t=Se[i]+e,t in Te)return t}function L(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=pt._data(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Ht(n)&&(o[s]=pt._data(n,"olddisplay",P(n.nodeName)))):(r=Ht(n),(i&&"none"!==i||!r)&&pt._data(n,"olddisplay",r?i:pt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function N(t,e,i){var n=_e.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function D(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=pt.css(t,i+Wt[o],!0,r)),n?("content"===i&&(s-=pt.css(t,"padding"+Wt[o],!0,r)),"margin"!==i&&(s-=pt.css(t,"border"+Wt[o]+"Width",!0,r))):(s+=pt.css(t,"padding"+Wt[o],!0,r),"padding"!==i&&(s+=pt.css(t,"border"+Wt[o]+"Width",!0,r)));return s}function O(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=fe(t),s=dt.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=ge(t,e,o),(0>r||null==r)&&(r=t.style[e]),de.test(r))return r;n=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+D(t,e,i||(s?"border":"content"),n,o)+"px"}function W(t,e,i,n,r){return new W.prototype.init(t,e,i,n,r)}function H(){return t.setTimeout(function(){Me=void 0}),Me=pt.now()}function R(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=Wt[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function I(t,e,i){for(var n,r=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,e,t))return n}function $(t,e,i){var n,r,o,s,a,c,l,u,d=this,h={},p=t.style,f=t.nodeType&&Ht(t),g=pt._data(t,"fxshow");i.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=pt.css(t,"display"),u="none"===l?pt._data(t,"olddisplay")||P(t.nodeName):l,"inline"===u&&"none"===pt.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==P(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",dt.shrinkWrapBlocks()||d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Be.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;f=!0}h[n]=g&&g[n]||pt.style(t,n)}else l=void 0;if(pt.isEmptyObject(h))"inline"===("none"===l?P(t.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(f=g.hidden):g=pt._data(t,"fxshow",{}),o&&(g.hidden=!f),f?pt(t).show():d.done(function(){pt(t).hide()}),d.done(function(){var e;pt._removeData(t,"fxshow");for(e in h)pt.style(t,e,h[e])});for(n in h)s=I(f?g[n]:0,n,d),n in g||(g[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function X(t,e){var i,n,r,o,s;for(i in t)if(n=pt.camelCase(i),r=e[n],o=t[i],pt.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=pt.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function z(t,e,i){var n,r,o=0,s=z.prefilters.length,a=pt.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Me||H(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,s=0,c=l.tweens.length;c>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,i]),1>o&&c?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:Me||H(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(X(u,l.opts.specialEasing);s>o;o++)if(n=z.prefilters[o].call(l,t,u,l.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(l.elem,l.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(u,I,l),pt.isFunction(l.opts.start)&&l.opts.start.call(t,l),pt.fx.timer(pt.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Y(t){return pt.attr(t,"class")||""}function F(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Ct)||[];if(pt.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function q(t,e,i,n){function r(a){var c;return o[a]=!0,pt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},s=t===Qe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function U(t,e){var i,n,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function V(t,e,i){for(var n,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){c.unshift(s);break}if(c[0]in i)o=c[0];else{for(s in i){if(!c[0]||t.converters[s+" "+c[0]]){o=s;break}n||(n=s)}o=o||n}return o?(o!==c[0]&&c.unshift(o),i[o]):void 0}function K(t,e,i,n){var r,o,s,a,c,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=l[c+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function J(t){return t.style&&t.style.display||pt.css(t,"display")}function G(t){if(!pt.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===J(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,i,n){var r;if(pt.isArray(e))pt.each(e,function(e,r){i||ni.test(t)?n(t,r):Q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(r in e)Q(t+"["+r+"]",e[r],i,n)}function Z(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,rt=it.slice,ot=it.concat,st=it.push,at=it.indexOf,ct={},lt=ct.toString,ut=ct.hasOwnProperty,dt={},ht="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||pt.isFunction(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(r=arguments[a]))for(n in r)t=s[n],i=r[n],s!==i&&(l&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,o=t&&pt.isArray(t)?t:[]):o=t&&pt.isPlainObject(t)?t:{},s[n]=pt.extend(l,o,i)):void 0!==i&&(s[n]=i));return s},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;)t[r++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;s>o;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;r>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(r=t[e],e=t,t=r),pt.isFunction(t)?(i=rt.call(arguments,2),n=function(){return t.apply(e||this,i.concat(rt.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):void 0},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,i,n){var r,o,s,a,c,l,d,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:I)!==j&&A(e),e=e||j,N)){if(11!==g&&(l=vt.exec(t)))if(r=l[1]){if(9===g){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(f&&(s=f.getElementById(r))&&H(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!F[t+" "]&&(!D||!D.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=R),d=M(t),o=d.length,c=ht.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=c+" "+h(d[o]);p=d.join(","),f=yt.test(t)&&u(e.parentNode)||e}if(p)try{return Q.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===R&&e.removeAttribute("id")}}}return B(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[R]=!0,t}function r(t){var e=j.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=X++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,c,l,u=[$,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[R]||(e[R]={}),c=l[e.uniqueID]||(l[e.uniqueID]={}),(a=c[n])&&a[0]===$&&a[1]===o)return u[2]=a[2];if(c[n]=u,u[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function m(t,e,i,n,r){for(var o,s=[],a=0,c=t.length,l=null!=e;c>a;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),l&&e.push(a)));return s}function v(t,e,i,r,o,s){return r&&!r[R]&&(r=v(r)),o&&!o[R]&&(o=v(o,s)),n(function(n,s,a,c){var l,u,d,h=[],p=[],f=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,h,t,a,c),b=i?o||(n?t:f||r)?[]:s:y;if(i&&i(y,b,a,c),r)for(l=m(b,p),r(l,[],a,c),u=l.length;u--;)(d=l[u])&&(b[p[u]]=!(y[p[u]]=d));if(n){if(o||t){if(o){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(y[u]=d);o(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=o?tt(n,d):h[u])>-1&&(n[l]=!(s[l]=d))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,c):Q.apply(s,b)})}function y(t){for(var e,i,n,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,c=p(function(t){return t===e},s,!0),l=p(function(t){return tt(e,t)>-1},s,!0),u=[function(t,i,n){var r=!o&&(n||i!==E)||((e=i).nodeType?c(t,i,n):l(t,i,n));return e=null,r}];r>a;a++)if(i=x.relative[t[a].type])u=[p(f(u),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[R]){for(n=++a;r>n&&!x.relative[t[n].type];n++);return v(a>1&&f(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),r>n&&y(t=t.slice(n)),r>n&&h(t))}u.push(i)}return f(u)}function b(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,c,l){var u,d,h,p=0,f="0",g=n&&[],v=[],y=E,b=n||o&&x.find.TAG("*",l),_=$+=null==y?1:Math.random()||.1,w=b.length;for(l&&(E=s===j||s||l);f!==w&&null!=(u=b[f]);f++){if(o&&u){for(d=0,s||u.ownerDocument===j||(A(u),a=!N);h=t[d++];)if(h(u,s||j,a)){c.push(u);break}l&&($=_)}r&&((u=!h&&u)&&p--,n&&g.push(u))}if(p+=f,r&&f!==p){for(d=0;h=i[d++];)h(g,v,s,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=J.call(c));v=m(v)}Q.apply(c,v),l&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(c)}return l&&($=_,E=y),g};return r?n(s):s}var _,w,x,S,T,M,k,B,E,C,P,A,j,L,N,D,O,W,H,R="sizzle"+1*new Date,I=t.document,$=0,X=0,z=i(),Y=i(),F=i(),q=function(t,e){return t===e&&(P=!0),0},U=1<<31,V={}.hasOwnProperty,K=[],J=K.pop,G=K.push,Q=K.push,Z=K.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){A()};try{Q.apply(K=Z.call(I.childNodes),I.childNodes),K[I.childNodes.length].nodeType}catch(t){Q={apply:K.length?function(t,e){G.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:I;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,L=j.documentElement,N=!T(j),(i=j.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(j.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(j.getElementsByClassName),w.getById=r(function(t){return L.appendChild(t).id=R,!j.getElementsByName||!j.getElementsByName(R).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}},x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&N?e.getElementsByClassName(t):void 0},O=[],D=[],(w.qsa=mt.test(j.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||D.push(".#.+[+~]")}),r(function(t){var e=j.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=mt.test(W=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){w.disconnectedMatch=W.call(t,"div"),W.call(t,"[s!='']:x"),O.push("!=",ot)}),D=D.length&&new RegExp(D.join("|")),O=O.length&&new RegExp(O.join("|")),e=mt.test(L.compareDocumentPosition),H=e||mt.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return P=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===j||t.ownerDocument===I&&H(I,t)?-1:e===j||e.ownerDocument===I&&H(I,e)?1:C?tt(C,t)-tt(C,e):0:4&i?-1:1)}:function(t,e){if(t===e)return P=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],c=[e];if(!r||!o)return t===j?-1:e===j?1:r?-1:o?1:C?tt(C,t)-tt(C,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;a[n]===c[n];)n++;return n?s(a[n],c[n]):a[n]===I?-1:c[n]===I?1:0},j):j},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==j&&A(t),i=i.replace(ut,"='$1']"),w.matchesSelector&&N&&!F[i+" "]&&(!O||!O.test(i))&&(!D||!D.test(i)))try{var n=W.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&A(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&A(t);var i=x.attrHandle[e.toLowerCase()],n=i&&V.call(x.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:w.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(P=!w.detectDuplicates,C=!w.sortStable&&t.slice(0),t.sort(q),P){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return C=null,t},S=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=S(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=M(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,c){var l,u,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!c&&!a,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(h=m,d=h[R]||(h[R]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),l=u[t]||[],p=l[0]===$&&l[1],b=p&&l[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[$,p,b];break}}else if(y&&(h=e,d=h[R]||(h[R]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),l=u[t]||[],p=l[0]===$&&l[1],b=p),b===!1)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[R]||(h[R]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[t]=[$,b]),h!==e)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(i):o.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{
not:n(function(t){var e=[],i=[],r=k(t.replace(at,"$1"));return r[R]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,wt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:n(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=c(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,M=e.tokenize=function(t,i){var n,r,o,s,a,c,l,u=Y[t+" "];if(u)return i?0:u.slice(0);for(a=t,c=[],l=x.preFilter;a;){n&&!(r=ct.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(s in x.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):Y(t,c).slice(0)},k=e.compile=function(t,e){var i,n=[],r=[],o=F[t+" "];if(!o){for(e||(e=M(t)),i=e.length;i--;)o=y(e[i]),o[R]?n.push(o):r.push(o);o=F(t,b(r,n)),o.selector=t}return o},B=e.select=function(t,e,i,n){var r,o,s,a,c,l="function"==typeof t&&t,d=!n&&M(t=l.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&N&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(_t,wt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((c=x.find[a])&&(n=c(s.matches[0].replace(_t,wt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&h(o),!t)return Q.apply(i,n),i;break}}return(l||k(t,d))(n,e,!N,i,!e||yt.test(t)&&u(e.parentNode)||e),i},w.sortStable=R.split("").sort(q).join("")===R,w.detectDuplicates=!!P,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var bt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},wt=pt.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;r>e;e++)if(pt.contains(n[e],this))return!0}));for(e=0;r>e;e++)pt.find(t,n[e],i);return i=this.pushStack(r>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&wt.test(t)?pt(t):t||[],!1).length}});var Tt,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kt=pt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Tt,"string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Mt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),xt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(r=nt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return Tt.find(t);this.length=1,this[0]=r}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};kt.prototype=pt.fn,Tt=pt(nt);var Bt=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=wt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,i){return bt(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,i){return bt(t,"nextSibling",i)},prevUntil:function(t,e,i){return bt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var r=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=pt.filter(n,r)),this.length>1&&(Et[t]||(r=pt.uniqueSort(r)),Bt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var Ct=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?o(t):pt.extend({},t);var e,i,n,r,s=[],a=[],c=-1,l=function(){for(r=t.once,n=e=!0;a.length;c=-1)for(i=a.shift();++c<s.length;)s[c].apply(i[0],i[1])===!1&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(c=s.length-1,a.push(i)),function e(i){pt.each(i,function(i,n){pt.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,s,i))>-1;)s.splice(i,1),c>=i&&c--}),this},has:function(t){return t?pt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=!0,i||u.disable(),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,o){var s=pt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},r={};return n.pipe=n.then,pt.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&pt.isFunction(t.promise)?s:0,c=1===a?t:pt.Deferred(),l=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?rt.call(arguments):r,n===e?c.notifyWith(i,n):--a||c.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&pt.isFunction(o[r].promise)?o[r].promise().progress(l(r,i,e)).done(l(r,n,o)).fail(c.reject):--a;return a||c.resolveWith(n,o),c.promise()}});var Pt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Pt.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Pt)if(Pt=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&!function e(){if(!pt.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}s(),pt.ready()}}()}return Pt.promise(e)},pt.ready.promise();var At;for(At in pt(dt))break;dt.ownFirst="0"===At,dt.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var jt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||e!==!0&&t.getAttribute("classid")===e)},Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!l(t)},data:function(t,e,i){return u(t,e,i)},removeData:function(t,e){return d(t,e)},_data:function(t,e,i){return u(t,e,i,!0)},_removeData:function(t,e){return d(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=pt.data(o),1===o.nodeType&&!pt._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),c(o,n,r[n])));pt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):o?c(o,t,pt.data(o,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,r=i.shift(),o=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=pt._data(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}}),function(){var t;dt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ot=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),Wt=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Rt=function(t,e,i,n,r,o,s){var a=0,c=t.length,l=null==i;if("object"===pt.type(i)){r=!0;for(a in i)Rt(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,pt.isFunction(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(pt(t),i)})),e))for(;c>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):c?e(t[0],i):o},It=/^(?:checkbox|radio)$/i,$t=/<([\w:-]+)/,Xt=/^$|\/(?:java|ecma)script/i,zt=/^\s+/,Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===t.firstChild.nodeType,dt.tbody=!t.getElementsByTagName("tbody").length,dt.htmlSerialize=!!t.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),dt.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),dt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,dt.attributes=!t.getAttribute(pt.expando)}();var Ft={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td;var qt=/<|&#?\w+;/,Ut=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(dt[e]=i in t)||(n.setAttribute(i,"t"),dt[e]=n.attributes[i].expando===!1);n=null}();var Vt=/^(?:input|select|textarea)$/i,Kt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gt=/^(?:focusinfocus|focusoutblur)$/,Qt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,r){var o,s,a,c,l,u,d,h,p,f,g,m=pt._data(t);if(m){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=pt.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(Ct)||[""],a=e.length;a--;)o=Qt.exec(e[a])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(l=pt.event.special[p]||{},p=(r?l.delegateType:l.bindType)||p,l=pt.event.special[p]||{},d=pt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:f.join(".")},c),(h=s[p])||(h=s[p]=[],h.delegateCount=0,l.setup&&l.setup.call(t,n,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),l.add&&(l.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,r){var o,s,a,c,l,u,d,h,p,f,g,m=pt.hasData(t)&&pt._data(t);if(m&&(u=m.events)){for(e=(e||"").match(Ct)||[""],l=e.length;l--;)if(a=Qt.exec(e[l])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=pt.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=h.length;o--;)s=h[o],!r&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));c&&!h.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||pt.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)pt.event.remove(t,p+e[l],i,n,!0);pt.isEmptyObject(u)&&(delete m.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,c,l,u,d,h=[n||nt],p=ut.call(e,"type")?e.type:e,f=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Gt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),l=pt.event.special[p]||{},r||!l.trigger||l.trigger.apply(n,i)!==!1)){if(!r&&!l.noBubble&&!pt.isWindow(n)){for(c=l.delegateType||p,Gt.test(c+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(n.ownerDocument||nt)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?c:l.bindType||p,o=(pt._data(a,"events")||{})[e.type]&&pt._data(a,"handle"),o&&o.apply(a,i),o=s&&a[s],o&&o.apply&&jt(a)&&(e.result=o.apply(a,i),e.result===!1&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(h.pop(),i)===!1)&&jt(n)&&s&&n[p]&&!pt.isWindow(n)){u=n[s],u&&(n[s]=null),pt.event.triggered=p;try{n[p]()}catch(t){}pt.event.triggered=void 0,u&&(n[s]=u)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,r,o,s=[],a=rt.call(arguments),c=(pt._data(this,"events")||{})[t.type]||[],l=pt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=pt.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,n=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,c=t.target;if(a&&c.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?pt(r,this).index(c)>-1:pt.find(r,this,null,[c]).length),n[r]&&n.push(o);n.length&&s.push({elem:c,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[pt.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Jt.test(r)?this.mouseHooks:Kt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new pt.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:b):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||pt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),dt.submit||(pt.event.special.submit={setup:function(){return!pt.nodeName(this,"form")&&void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!pt.nodeName(this,"form")&&void pt.event.remove(this,"._submit")}}),dt.change||(pt.event.special.change={setup:function(){return Vt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Vt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Vt.test(this.nodeName)}}),dt.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=pt._data(n,e);r||n.addEventListener(t,i,!0),pt._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=pt._data(n,e)-1;r?pt._data(n,e,r):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return w(this,t,e,i,n)},one:function(t,e,i,n){return w(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=b),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?pt.event.trigger(t,e,i,!0):void 0}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Yt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ie=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se=p(nt),ae=se.appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,c=pt.contains(t.ownerDocument,t);if(dt.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(o=ae.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(o),a=f(t),s=0;null!=(r=a[s]);++s)n[s]&&k(r,n[s]);if(e)if(i)for(a=a||f(t),n=n||f(o),s=0;null!=(r=a[s]);s++)M(r,n[s]);else M(t,o);return n=f(o,"script"),n.length>0&&g(n,!c&&f(t,"script")),n=a=r=null,o},cleanData:function(t,e){for(var i,n,r,o,s=0,a=pt.expando,c=pt.cache,l=dt.attributes,u=pt.event.special;null!=(i=t[s]);s++)if((e||jt(i))&&(r=i[a],o=r&&c[r])){if(o.events)for(n in o.events)u[n]?pt.event.remove(i,n):pt.removeEvent(i,n,o.handle);c[r]&&(delete c[r],l||"undefined"==typeof i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(r))}}}),pt.fn.extend({domManip:B,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Rt(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return B(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return B(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return B(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return B(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Zt,""):void 0;if("string"==typeof t&&!ie.test(t)&&(dt.htmlSerialize||!te.test(t))&&(dt.leadingWhitespace||!zt.test(t))&&!Ft[($t.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return B(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,r=[],o=pt(t),s=o.length-1;s>=n;n++)i=n===s?this:this.clone(!0),pt(o[n])[e](i),st.apply(r,i.get());return this.pushStack(r)}});var ce,le={HTML:"block",BODY:"block"},ue=/^margin/,de=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),he=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},pe=nt.documentElement;!function(){function e(){var e,u,d=nt.documentElement;d.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=a=!1,n=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(l),i="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,l.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,e=l.appendChild(nt.createElement("div")),e.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",l.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),l.removeChild(e)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",
e=l.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===e[0].offsetHeight,o&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),d.removeChild(c)}var i,n,r,o,s,a,c=nt.createElement("div"),l=nt.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===l.style.opacity,dt.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===l.style.backgroundClip,c=nt.createElement("div"),c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),dt.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,pt.extend(dt,{reliableHiddenOffsets:function(){return null==i&&e(),o},boxSizingReliable:function(){return null==i&&e(),r},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var fe,ge,me=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},ge=function(t,e,i){var n,r,o,s,a=t.style;return i=i||fe(t),s=i?i.getPropertyValue(e)||i[e]:void 0,""!==s&&void 0!==s||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),i&&!dt.pixelMarginRight()&&de.test(s)&&ue.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},ge=function(t,e,i){var n,r,o,s,a=t.style;return i=i||fe(t),s=i?i[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),de.test(s)&&!me.test(e)&&(n=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,_e=new RegExp("^("+Dt+")(.*)$","i"),we={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Se=["Webkit","O","Moz","ms"],Te=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ge(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=pt.camelCase(e),c=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=j(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:c[e];if(o=typeof i,"string"===o&&(r=Ot.exec(i))&&r[1]&&(i=h(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(pt.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(t,i,n)))))try{c[e]=i}catch(t){}}},css:function(t,e,i,n){var r,o,s,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=j(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=ge(t,e,n)),"normal"===o&&e in xe&&(o=xe[e]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){return i?be.test(pt.css(t,"display"))&&0===t.offsetWidth?he(t,we,function(){return O(t,e,n)}):O(t,e,n):void 0},set:function(t,i,n){var r=n&&fe(t);return N(t,i,n?D(t,e,n,dt.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r),r):0)}}}),dt.opacity||(pt.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(o.replace(ve,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ve.test(o)?o.replace(ve,r):o+" "+r)}}),pt.cssHooks.marginRight=A(dt.reliableMarginRight,function(t,e){return e?he(t,{display:"inline-block"},ge,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=A(dt.reliableMarginLeft,function(t,e){return e?(parseFloat(ge(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+Wt[n]+e]=o[n]||o[n-2]||o[0];return r}},ue.test(t)||(pt.cssHooks[t+e].set=N)}),pt.fn.extend({css:function(t,e){return Rt(this,function(t,e,i){var n,r,o={},s=0;if(pt.isArray(e)){for(n=fe(t),r=e.length;r>s;s++)o[e[s]]=pt.css(t,e[s],!1,n);return o}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=W,W.prototype={constructor:W,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(pt.cssNumber[i]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,i=W.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=W.prototype.init,pt.fx.step={};var Me,ke,Be=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;pt.Animation=pt.extend(z,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return h(i.elem,t,Ot.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ct);for(var i,n=0,r=t.length;r>n;n++)i=t[n],z.tweeners[i]=z.tweeners[i]||[],z.tweeners[i].unshift(e)},prefilters:[$],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=pt.isEmptyObject(t),o=pt.speed(e,i,n),s=function(){var e=z(this,pt.extend({},t),o);(r||pt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,s=pt._data(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Ee.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=pt.timers,s=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(R(e,!0),t,n,r)}}),pt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(Me=pt.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),Me=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){ke||(ke=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(ke),ke=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),r=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",dt.getSetAttribute="t"!==i.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=r.selected,dt.enctype=!!nt.createElement("form").enctype,n.disabled=!0,dt.optDisabled=!r.disabled,e=nt.createElement("input"),e.setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Ce=/\r/g,Pe=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=pt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,pt(this).val()):t,null==r?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Ce,""):null==i?"":i)):void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,c=0>r?a:o?r:0;a>c;c++)if(i=n[c],(i.selected||c===r)&&(dt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=pt.makeArray(e),s=r.length;s--;)if(n=r[s],pt.inArray(pt.valHooks.option.get(n),o)>-1)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},dt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ae,je,Le=pt.expr.attrHandle,Ne=/^(?:checked|selected)$/i,De=dt.getSetAttribute,Oe=dt.input;pt.fn.extend({attr:function(t,e){return Rt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===o&&pt.isXMLDoc(t)||(e=e.toLowerCase(),r=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?je:Ae)),void 0!==i?null===i?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(Ct);if(o&&1===t.nodeType)for(;i=o[r++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?Oe&&De||!Ne.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(De?i:n)}}),je={set:function(t,e,i){return e===!1?pt.removeAttr(t,i):Oe&&De||!Ne.test(i)?t.setAttribute(!De&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Le[e]||pt.find.attr;Oe&&De||!Ne.test(e)?Le[e]=function(t,e,n){var r,o;return n||(o=Le[e],Le[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,Le[e]=o),r}:Le[e]=function(t,e,i){return i?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Oe&&De||(pt.attrHooks.value={set:function(t,e,i){return pt.nodeName(t,"input")?void(t.defaultValue=e):Ae&&Ae.set(t,e,i)}}),De||(Ae={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Le.id=Le.name=Le.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:Ae.set},pt.attrHooks.contenteditable={set:function(t,e,i){Ae.set(t,""!==e&&e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),dt.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var We=/^(?:input|select|textarea|button|object)$/i,He=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Rt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),pt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):We.test(t.nodeName)||He.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),dt.enctype||(pt.propFix.enctype="encoding");var Re=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,Y(this)))});if("string"==typeof t&&t)for(e=t.match(Ct)||[];i=this[c++];)if(r=Y(i),n=1===i.nodeType&&(" "+r+" ").replace(Re," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=pt.trim(n),r!==a&&pt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ct)||[];i=this[c++];)if(r=Y(i),n=1===i.nodeType&&(" "+r+" ").replace(Re," ")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=pt.trim(n),r!==a&&pt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,Y(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=pt(this),o=t.match(Ct)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=Y(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+Y(i)+" ").replace(Re," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ie=t.location,$e=pt.now(),Xe=/\?/,ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,r=pt.trim(e+"");return r&&!pt.trim(r.replace(ze,function(t,e,r,o){return i&&e&&(n=0),0===n?t:(i=r||e,n+=!o-!r,"")}))?Function("return "+r)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var Ye=/#.*$/,Fe=/([?&])_=[^&]*/,qe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Ke=/^\/\//,Je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ge={},Qe={},Ze="*/".concat("*"),ti=Ie.href,ei=Je.exec(ti.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti,type:"GET",isLocal:Ue.test(ei[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,pt.ajaxSettings),e):U(pt.ajaxSettings,t)},ajaxPrefilter:F(Ge),ajaxTransport:F(Qe),ajax:function(e,i){function n(e,i,n,r){var o,d,y,b,w,S=i;2!==_&&(_=2,c&&t.clearTimeout(c),u=void 0,a=r||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(b=V(h,x,n)),b=K(h,b,x,o),o?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(pt.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(pt.etag[s]=w)),204===e||"HEAD"===h.type?S="nocontent":304===e?S="notmodified":(S=b.state,d=b.data,y=b.error,o=!y)):(y=S,!e&&S||(S="error",0>e&&(e=0))),x.status=e,x.statusText=(i||S)+"",o?g.resolveWith(p,[d,S,x]):g.rejectWith(p,[x,S,y]),x.statusCode(v),v=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?d:y]),m.fireWith(p,[x,S]),l&&(f.trigger("ajaxComplete",[x,h]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,c,l,u,d,h=pt.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pt(p):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!d)for(d={};e=qe.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ti)+"").replace(Ye,"").replace(Ke,ei[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=pt.trim(h.dataType||"*").toLowerCase().match(Ct)||[""],null==h.crossDomain&&(r=Je.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===ei[1]&&r[2]===ei[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ei[3]||("http:"===ei[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pt.param(h.data,h.traditional)),q(Ge,h,i,x),2===_)return x;l=pt.event&&h.global,l&&0===pt.active++&&pt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ve.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Xe.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Fe.test(s)?s.replace(Fe,"$1_="+$e++):s+(Xe.test(s)?"&":"?")+"_="+$e++)),h.ifModified&&(pt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[s]),pt.etag[s]&&x.setRequestHeader("If-None-Match",pt.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ze+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===_))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(u=q(Qe,h,i,x)){if(x.readyState=1,l&&f.trigger("ajaxSend",[x,h]),2===_)return x;h.async&&h.timeout>0&&(c=t.setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,u.send(y,n)}catch(t){if(!(2>_))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,r){return pt.isFunction(i)&&(r=r||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:G(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ii=/%20/g,ni=/\[\]$/,ri=/\r?\n/g,oi=/^(?:submit|button|image|reset|file)$/i,si=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],r=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(i in t)Q(i,t[i],e,r);return n.join("&").replace(ii,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&si.test(this.nodeName)&&!oi.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ri,"\r\n")}}):{name:e.name,value:i.replace(ri,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var ai=0,ci={},li=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ci)ci[t](void 0,!0)}),dt.cors=!!li&&"withCredentials"in li,li=dt.ajax=!!li,li&&pt.ajaxTransport(function(e){if(!e.crossDomain||dt.cors){var i;return{send:function(n,r){var o,s=e.xhr(),a=++ai;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var o,c,l;if(i&&(n||4===s.readyState))if(delete ci[a],i=void 0,s.onreadystatechange=pt.noop,n)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{c=s.statusText}catch(t){c=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&r(o,c,l,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=ci[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,r){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ui=[],di=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ui.pop()||pt.expando+"_"+$e++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(di.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&di.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(di,"$1"+r):e.jsonp!==!1&&(e.url+=(Xe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||pt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,ui.push(r)),s&&pt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=xt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,r),r&&r.length&&pt(r).remove(),pt.merge([],n.childNodes))};var hi=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&hi)return hi.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=pt.trim(t.slice(a,t.length)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,r,o,s,a,c,l,u=pt.css(t,"position"),d=pt(t),h={};"static"===u&&(t.style.position="relative"),a=d.offset(),o=pt.css(t,"top"),c=pt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&pt.inArray("auto",[o,c])>-1,l?(n=d.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):d.css(h)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,pt.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=et(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Rt(this,function(t,n,r){var o=et(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?pt(o).scrollLeft():r,i?r:pt(o).scrollTop()):t[n]=r)},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=A(dt.pixelPosition,function(t,i){return i?(i=ge(t,e),de.test(i)?pt(t).position()[e]+"px":i):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return Rt(this,function(e,i,n){var r;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?pt.css(e,i,s):pt.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var pi=t.jQuery,fi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=fi),e&&t.jQuery===pt&&(t.jQuery=pi),pt},e||(t.jQuery=t.$=pt),pt}),function(){$.extend({nextTick:function(t){return window.requestAnimationFrame(function(){return window.requestAnimationFrame(function(){return window.requestAnimationFrame(function(){return t()})})})}}),$.fn.extend({transitionEnd:function(t){return this.one("transitionend",t)},disableTransition:function(){return this.css("transition","none").css("transition")},enableTransition:function(t){return this.css("transition","all "+t+" ease-in-out").css("transition")},zindex:function(t){return this.css("z-index",t)},
translateX:function(t){return this.css("transform","translateX("+t+"px)")},translateY:function(t){return this.css("transform","translateY("+t+"px)")},translate:function(t,e){return this.css("transform","translate("+t+"px, "+e+"px)")},onScroll:function(t){var e;return e=!!MB.supportsPassive&&{passive:!0},this[0].removeEventListener("scroll",t,e),this[0].addEventListener("scroll",t,e)}})}.call(this),!function(t){"use strict";function e(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function i(t,e){return t<<e|t>>>32-e}function n(t,n,r,o,s,a){return e(i(e(e(n,t),e(o,a)),s),r)}function r(t,e,i,r,o,s,a){return n(e&i|~e&r,t,e,o,s,a)}function o(t,e,i,r,o,s,a){return n(e&r|i&~r,t,e,o,s,a)}function s(t,e,i,r,o,s,a){return n(e^i^r,t,e,o,s,a)}function a(t,e,i,r,o,s,a){return n(i^(e|~r),t,e,o,s,a)}function c(t,i){t[i>>5]|=128<<i%32,t[(i+64>>>9<<4)+14]=i;var n,c,l,u,d,h=1732584193,p=-271733879,f=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)c=h,l=p,u=f,d=g,h=r(h,p,f,g,t[n],7,-680876936),g=r(g,h,p,f,t[n+1],12,-389564586),f=r(f,g,h,p,t[n+2],17,606105819),p=r(p,f,g,h,t[n+3],22,-1044525330),h=r(h,p,f,g,t[n+4],7,-176418897),g=r(g,h,p,f,t[n+5],12,1200080426),f=r(f,g,h,p,t[n+6],17,-1473231341),p=r(p,f,g,h,t[n+7],22,-45705983),h=r(h,p,f,g,t[n+8],7,1770035416),g=r(g,h,p,f,t[n+9],12,-1958414417),f=r(f,g,h,p,t[n+10],17,-42063),p=r(p,f,g,h,t[n+11],22,-1990404162),h=r(h,p,f,g,t[n+12],7,1804603682),g=r(g,h,p,f,t[n+13],12,-40341101),f=r(f,g,h,p,t[n+14],17,-1502002290),p=r(p,f,g,h,t[n+15],22,1236535329),h=o(h,p,f,g,t[n+1],5,-165796510),g=o(g,h,p,f,t[n+6],9,-1069501632),f=o(f,g,h,p,t[n+11],14,643717713),p=o(p,f,g,h,t[n],20,-373897302),h=o(h,p,f,g,t[n+5],5,-701558691),g=o(g,h,p,f,t[n+10],9,38016083),f=o(f,g,h,p,t[n+15],14,-660478335),p=o(p,f,g,h,t[n+4],20,-405537848),h=o(h,p,f,g,t[n+9],5,568446438),g=o(g,h,p,f,t[n+14],9,-1019803690),f=o(f,g,h,p,t[n+3],14,-187363961),p=o(p,f,g,h,t[n+8],20,1163531501),h=o(h,p,f,g,t[n+13],5,-1444681467),g=o(g,h,p,f,t[n+2],9,-51403784),f=o(f,g,h,p,t[n+7],14,1735328473),p=o(p,f,g,h,t[n+12],20,-1926607734),h=s(h,p,f,g,t[n+5],4,-378558),g=s(g,h,p,f,t[n+8],11,-2022574463),f=s(f,g,h,p,t[n+11],16,1839030562),p=s(p,f,g,h,t[n+14],23,-35309556),h=s(h,p,f,g,t[n+1],4,-1530992060),g=s(g,h,p,f,t[n+4],11,1272893353),f=s(f,g,h,p,t[n+7],16,-155497632),p=s(p,f,g,h,t[n+10],23,-1094730640),h=s(h,p,f,g,t[n+13],4,681279174),g=s(g,h,p,f,t[n],11,-358537222),f=s(f,g,h,p,t[n+3],16,-722521979),p=s(p,f,g,h,t[n+6],23,76029189),h=s(h,p,f,g,t[n+9],4,-640364487),g=s(g,h,p,f,t[n+12],11,-421815835),f=s(f,g,h,p,t[n+15],16,530742520),p=s(p,f,g,h,t[n+2],23,-995338651),h=a(h,p,f,g,t[n],6,-198630844),g=a(g,h,p,f,t[n+7],10,1126891415),f=a(f,g,h,p,t[n+14],15,-1416354905),p=a(p,f,g,h,t[n+5],21,-57434055),h=a(h,p,f,g,t[n+12],6,1700485571),g=a(g,h,p,f,t[n+3],10,-1894986606),f=a(f,g,h,p,t[n+10],15,-1051523),p=a(p,f,g,h,t[n+1],21,-2054922799),h=a(h,p,f,g,t[n+8],6,1873313359),g=a(g,h,p,f,t[n+15],10,-30611744),f=a(f,g,h,p,t[n+6],15,-1560198380),p=a(p,f,g,h,t[n+13],21,1309151649),h=a(h,p,f,g,t[n+4],6,-145523070),g=a(g,h,p,f,t[n+11],10,-1120210379),f=a(f,g,h,p,t[n+2],15,718787259),p=a(p,f,g,h,t[n+9],21,-343485551),h=e(h,c),p=e(p,l),f=e(f,u),g=e(g,d);return[h,p,f,g]}function l(t){var e,i="";for(e=0;e<32*t.length;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function u(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function d(t){return l(c(u(t),8*t.length))}function h(t,e){var i,n,r=u(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=c(r,8*t.length)),i=0;16>i;i+=1)o[i]=909522486^r[i],s[i]=1549556828^r[i];return n=c(o.concat(u(e)),512+8*e.length),l(c(s.concat(n),640))}function p(t){var e,i,n="0123456789abcdef",r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function f(t){return unescape(encodeURIComponent(t))}function g(t){return d(f(t))}function m(t){return p(g(t))}function v(t,e){return h(f(t),f(e))}function y(t,e){return p(v(t,e))}function b(t,e,i){return e?i?v(e,t):y(e,t):i?g(t):m(t)}"function"==typeof define&&define.amd?define(function(){return b}):t.md5=b}(this),function(t){t.fn.qrcode=function(e){function i(t){this.mode=a,this.data=t}function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function o(t,e){this.totalCount=t,this.dataCount=e}function s(){this.buffer=[],this.length=0}var a;i.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},n.prototype={addData:function(t){this.dataList.push(new i(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var e=o.getRSBlocks(t,this.errorCorrectLevel),i=new s,n=0,r=0;r<e.length;r++)n+=e[r].dataCount;for(r=0;r<this.dataList.length;r++)e=this.dataList[r],i.put(e.mode,4),i.put(e.getLength(),c.getLengthInBits(e.mode,t)),e.write(i);if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&6>=i&&(0==n||6==n)||0<=n&&6>=n&&(0==i||6==i)||2<=i&&4>=i&&2<=n&&4>=n)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;8>i;i++){this.makeImpl(!0,i);var n=c.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){for(t=t.createEmptyMovieClip(e,i),this.make(),e=0;e<this.modules.length;e++)for(var i=1*e,n=0;n<this.modules[e].length;n++){var r=1*n;this.modules[e][n]&&(t.beginFill(0,100),t.moveTo(r,i),t.lineTo(r+1,i),t.lineTo(r+1,i+1),t.lineTo(r,i+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=c.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var o=-2;2>=o;o++)for(var s=-2;2>=s;s++)this.modules[n+o][r+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(t){for(var e=c.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;18>i;i++)n=!t&&1==(e>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n},setupTypeInfo:function(t,e){for(var i=c.getBCHTypeInfo(this.errorCorrectLevel<<3|e),n=0;15>n;n++){var r=!t&&1==(i>>n&1);6>n?this.modules[n][8]=r:8>n?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;15>n;n++)r=!t&&1==(i>>n&1),8>n?this.modules[8][this.moduleCount-n-1]=r:9>n?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,o=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var a=0;2>a;a++)if(null==this.modules[n][s-a]){var l=!1;o<t.length&&(l=1==(t[o]>>>r&1)),c.getMask(e,n,s-a)&&(l=!l),this.modules[n][s-a]=l,r--,-1==r&&(o++,r=7)}if(n+=i,0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(t,e,i){for(var e=o.getRSBlocks(t,e),r=new s,a=0;a<i.length;a++){var l=i[a];r.put(l.mode,4),r.put(l.getLength(),c.getLengthInBits(l.mode,t)),l.write(r)}for(a=t=0;a<e.length;a++)t+=e[a].dataCount;if(r.getLengthInBits()>8*t)throw Error("code length overflow. ("+r.getLengthInBits()+">"+8*t+")");for(r.getLengthInBits()+4<=8*t&&r.put(0,4);0!=r.getLengthInBits()%8;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*t)&&(r.put(n.PAD0,8),!(r.getLengthInBits()>=8*t));)r.put(n.PAD1,8);return n.createBytes(r,e)},n.createBytes=function(t,e){for(var i=0,n=0,o=0,s=Array(e.length),a=Array(e.length),l=0;l<e.length;l++){var u=e[l].dataCount,d=e[l].totalCount-u,n=Math.max(n,u),o=Math.max(o,d);s[l]=Array(u);for(var h=0;h<s[l].length;h++)s[l][h]=255&t.buffer[h+i];for(i+=u,h=c.getErrorCorrectPolynomial(d),u=new r(s[l],h.getLength()-1).mod(h),a[l]=Array(h.getLength()-1),h=0;h<a[l].length;h++)d=h+u.getLength()-a[l].length,a[l][h]=0<=d?u.get(d):0}for(h=l=0;h<e.length;h++)l+=e[h].totalCount;for(i=Array(l),h=u=0;h<n;h++)for(l=0;l<e.length;l++)h<s[l].length&&(i[u++]=s[l][h]);for(h=0;h<o;h++)for(l=0;l<e.length;l++)h<a[l].length&&(i[u++]=a[l][h]);return i},a=4;for(var c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=c.getBCHDigit(e)-c.getBCHDigit(c.G15);)e^=c.G15<<c.getBCHDigit(e)-c.getBCHDigit(c.G15);return(t<<10|e)^c.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=c.getBCHDigit(e)-c.getBCHDigit(c.G18);)e^=c.G18<<c.getBCHDigit(e)-c.getBCHDigit(c.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return c.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case 0:return 0==(e+i)%2;case 1:return 0==e%2;case 2:return 0==i%3;case 3:return 0==(e+i)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(i/3))%2;case 5:return 0==e*i%2+e*i%3;case 6:return 0==(e*i%2+e*i%3)%2;case 7:return 0==(e*i%3+(e+i)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),i=0;i<t;i++)e=e.multiply(new r([1,l.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case a:return 8;case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case a:return 16;case 8:return 10;default:throw Error("mode:"+t)}else{if(!(41>e))throw Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case a:return 16;case 8:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var r=0;r<e;r++){for(var o=0,s=t.isDark(n,r),a=-1;1>=a;a++)if(!(0>n+a||e<=n+a))for(var c=-1;1>=c;c++)0>r+c||e<=r+c||0==a&&0==c||s==t.isDark(n+a,r+c)&&o++;5<o&&(i+=3+o-5)}for(n=0;n<e-1;n++)for(r=0;r<e-1;r++)o=0,t.isDark(n,r)&&o++,t.isDark(n+1,r)&&o++,t.isDark(n,r+1)&&o++,t.isDark(n+1,r+1)&&o++,(0==o||4==o)&&(i+=3);for(n=0;n<e;n++)for(r=0;r<e-6;r++)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(r=0;r<e;r++)for(n=0;n<e-6;n++)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);for(r=o=0;r<e;r++)for(n=0;n<e;n++)t.isDark(n,r)&&o++;return t=Math.abs(100*o/e/e-50)/5,i+10*t}},l={glog:function(t){if(1>t)throw Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},u=0;8>u;u++)l.EXP_TABLE[u]=1<<u;for(u=8;256>u;u++)l.EXP_TABLE[u]=l.EXP_TABLE[u-4]^l.EXP_TABLE[u-5]^l.EXP_TABLE[u-6]^l.EXP_TABLE[u-8];for(u=0;255>u;u++)l.LOG_TABLE[l.EXP_TABLE[u]]=u;return r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=l.gexp(l.glog(this.get(i))+l.glog(t.get(n)));return new r(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=l.glog(this.get(0))-l.glog(t.get(0)),i=Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=l.gexp(l.glog(t.get(n))+e);return new r(i,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var i=o.getRsBlockTable(t,e);if(void 0==i)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,r=[],s=0;s<n;s++)for(var a=i[3*s+0],c=i[3*s+1],l=i[3*s+2],u=0;u<a;u++)r.push(new o(c,l));return r},o.getRsBlockTable=function(t,e){switch(e){case 1:return o.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return o.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return o.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return o.RS_BLOCK_TABLE[4*(t-1)+3]}},s.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.each(function(){var i;if("canvas"==e.render){i=new n(e.typeNumber,e.correctLevel),i.addData(e.text),i.make();var r=document.createElement("canvas");r.width=e.width,r.height=e.height;for(var o=r.getContext("2d"),s=e.width/i.getModuleCount(),a=e.height/i.getModuleCount(),c=0;c<i.getModuleCount();c++)for(var l=0;l<i.getModuleCount();l++){o.fillStyle=i.isDark(c,l)?e.foreground:e.background;var u=Math.ceil((l+1)*s)-Math.floor(l*s),d=Math.ceil((c+1)*s)-Math.floor(c*s);o.fillRect(Math.round(l*s),Math.round(c*a),u,d)}}else for(i=new n(e.typeNumber,e.correctLevel),i.addData(e.text),i.make(),r=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),o=e.width/i.getModuleCount(),s=e.height/i.getModuleCount(),a=0;a<i.getModuleCount();a++)for(c=t("<tr></tr>").css("height",s+"px").appendTo(r),l=0;l<i.getModuleCount();l++)t("<td></td>").css("width",o+"px").css("background-color",i.isDark(a,l)?e.foreground:e.background).appendTo(c);i=r,jQuery(i).appendTo(this)})}}(jQuery),function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(e,i){var n,r=t,o=[];if(i=i||r.length,e)for(n=0;n<e;n++)o[n]=r[0|Math.random()*i];else{var s;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(s=0|16*Math.random(),o[n]=r[19==n?3&s|8:s])}return o.join("")},Math.uuidFast=function(){for(var e,i=t,n=new Array(36),r=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?n[o]="-":14==o?n[o]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[o]=i[19==o?3&e|8:e]);return n.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})}}(),$(function(){jQuery.timeago.settings.strings["zh-CN"]={prefixAgo:null,prefixFromNow:"\u4ece\u73b0\u5728\u5f00\u59cb",suffixAgo:"\u4e4b\u524d",suffixFromNow:null,seconds:"\u4e0d\u5230 1 \u5206\u949f",minute:"\u5927\u7ea6 1 \u5206\u949f",minutes:"%d \u5206\u949f",hour:"\u5927\u7ea6 1 \u5c0f\u65f6",hours:"\u5927\u7ea6 %d \u5c0f\u65f6",day:"1 \u5929",days:"%d \u5929",month:"\u5927\u7ea6 1 \u4e2a\u6708",months:"%d \u6708",year:"\u5927\u7ea6 1 \u5e74",years:"%d \u5e74",numbers:[],wordSeparator:""}}),function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){"use strict";function i(t){t.fn.perfectScrollbar=function(t){return this.each(function(){if("object"==typeof t||"undefined"==typeof t){var e=t;r.get(this)||n.initialize(this,e)}else{var i=t;"update"===i?n.update(this):"destroy"===i&&n.destroy(this)}})}}var n=t("../main"),r=t("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],i);else{var o=window.jQuery?window.jQuery:window.$;"undefined"!=typeof o&&i(o)}e.exports=i},{"../main":7,"../plugin/instances":18}],2:[function(t,e,i){"use strict";function n(t,e){var i=t.className.split(" ");i.indexOf(e)<0&&i.push(e),t.className=i.join(" ")}function r(t,e){var i=t.className.split(" "),n=i.indexOf(e);n>=0&&i.splice(n,1),t.className=i.join(" ")}i.add=function(t,e){t.classList?t.classList.add(e):n(t,e)},i.remove=function(t,e){t.classList?t.classList.remove(e):r(t,e)},i.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e){"use strict";function i(t,e){return window.getComputedStyle(t)[e]}function n(t,e,i){return"number"==typeof i&&(i=i.toString()+"px"),t.style[e]=i,t}function r(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n=n.toString()+"px"),t.style[i]=n}return t}var o={};o.e=function(t,e){var i=document.createElement(t);return i.className=e,i},o.appendTo=function(t,e){return e.appendChild(t),t},o.css=function(t,e,o){return"object"==typeof e?r(t,e):"undefined"==typeof o?i(t,e):n(t,e,o)},o.matches=function(t,e){return"undefined"!=typeof t.matches?t.matches(e):"undefined"!=typeof t.matchesSelector?t.matchesSelector(e):"undefined"!=typeof t.webkitMatchesSelector?t.webkitMatchesSelector(e):"undefined"!=typeof t.mozMatchesSelector?t.mozMatchesSelector(e):"undefined"!=typeof t.msMatchesSelector?t.msMatchesSelector(e):void 0},o.remove=function(t){"undefined"!=typeof t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},o.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return o.matches(t,e)})},e.exports=o},{}],4:[function(t,e){"use strict";var i=function(t){this.element=t,this.events={}};i.prototype.bind=function(t,e){"undefined"==typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},i.prototype.unbind=function(t,e){var i="undefined"!=typeof e;this.events[t]=this.events[t].filter(function(n){return!(!i||n===e)||(this.element.removeEventListener(t,n,!1),!1)},this)},i.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var n=function(){this.eventElements=[]};n.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return"undefined"==typeof e&&(e=new i(t),this.eventElements.push(e)),e},n.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},n.prototype.unbind=function(t,e,i){this.eventElement(t).unbind(e,i)},n.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},n.prototype.once=function(t,e,i){var n=this.eventElement(t),r=function(t){n.unbind(e,r),i(t)};n.bind(e,r)},e.exports=n},{}],5:[function(t,e){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,i){"use strict";var n=t("./class"),r=t("./dom"),o=i.toInt=function(t){return parseInt(t,10)||0},s=i.clone=function(t){if(null===t)return null;if(t.constructor===Array)return t.map(s);if("object"==typeof t){var e={};for(var i in t)e[i]=s(t[i]);return e}return t};i.extend=function(t,e){var i=s(t);for(var n in e)i[n]=s(e[n]);return i},i.isEditable=function(t){return r.matches(t,"input,[contenteditable]")||r.matches(t,"select,[contenteditable]")||r.matches(t,"textarea,[contenteditable]")||r.matches(t,"button,[contenteditable]")},i.removePsClasses=function(t){for(var e=n.list(t),i=0;i<e.length;i++){var r=e[i];0===r.indexOf("ps-")&&n.remove(t,r)}},i.outerWidth=function(t){return o(r.css(t,"width"))+o(r.css(t,"paddingLeft"))+o(r.css(t,"paddingRight"))+o(r.css(t,"borderLeftWidth"))+o(r.css(t,"borderRightWidth"))},i.startScrolling=function(t,e){n.add(t,"ps-in-scrolling"),"undefined"!=typeof e?n.add(t,"ps-"+e):(n.add(t,"ps-x"),n.add(t,"ps-y"))},i.stopScrolling=function(t,e){n.remove(t,"ps-in-scrolling"),"undefined"!=typeof e?n.remove(t,"ps-"+e):(n.remove(t,"ps-x"),n.remove(t,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e){"use strict";var i=t("./plugin/destroy"),n=t("./plugin/initialize"),r=t("./plugin/update");e.exports={initialize:n,update:r,destroy:i}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e){"use strict";var i=t("../lib/helper"),n=t("../lib/dom"),r=t("./instances");e.exports=function(t){var e=r.get(t);e&&(e.event.unbindAll(),n.remove(e.scrollbarX),n.remove(e.scrollbarY),n.remove(e.scrollbarXRail),n.remove(e.scrollbarYRail),i.removePsClasses(t),r.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e){"use strict";function i(t,e){function i(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",function(r){var a=n.toInt(e.scrollbarYHeight/2),c=e.railYRatio*(r.pageY-window.pageYOffset-i(e.scrollbarYRail).top-a),l=e.railYRatio*(e.railYHeight-e.scrollbarYHeight),u=c/l;u<0?u=0:u>1&&(u=1),s(t,"top",(e.contentHeight-e.containerHeight)*u),o(t),r.stopPropagation()}),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",function(r){var a=n.toInt(e.scrollbarXWidth/2),c=e.railXRatio*(r.pageX-window.pageXOffset-i(e.scrollbarXRail).left-a),l=e.railXRatio*(e.railXWidth-e.scrollbarXWidth),u=c/l;u<0?u=0:u>1&&(u=1),s(t,"left",(e.contentWidth-e.containerWidth)*u-e.negativeScrollAdjustment),o(t),r.stopPropagation()})}var n=t("../../lib/helper"),r=t("../instances"),o=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){var e=r.get(t);i(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e){"use strict";function i(t,e){function i(i){var o=n+i*e.railXRatio,s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);o<0?e.scrollbarXLeft=0:o>s?e.scrollbarXLeft=s:e.scrollbarXLeft=o;var a=r.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;c(t,"left",a)}var n=null,s=null,l=function(e){i(e.pageX-s),a(t),e.stopPropagation(),e.preventDefault()},u=function(){r.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarX,"mousedown",function(i){s=i.pageX,n=r.toInt(o.css(e.scrollbarX,"left"))*e.railXRatio,r.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",u),i.stopPropagation(),i.preventDefault()})}function n(t,e){function i(i){var o=n+i*e.railYRatio,s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);o<0?e.scrollbarYTop=0:o>s?e.scrollbarYTop=s:e.scrollbarYTop=o;var a=r.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));c(t,"top",a)}var n=null,s=null,l=function(e){i(e.pageY-s),a(t),e.stopPropagation(),e.preventDefault()},u=function(){r.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarY,"mousedown",function(i){s=i.pageY,n=r.toInt(o.css(e.scrollbarY,"top"))*e.railYRatio,r.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",u),i.stopPropagation(),i.preventDefault()})}var r=t("../../lib/helper"),o=t("../../lib/dom"),s=t("../instances"),a=t("../update-geometry"),c=t("../update-scroll");e.exports=function(t){var e=s.get(t);i(t,e),n(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e){"use strict";function i(t,e){function i(i,n){var r=t.scrollTop;if(0===i){if(!e.scrollbarYActive)return!1;if(0===r&&n>0||r>=e.contentHeight-e.containerHeight&&n<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===n){if(!e.scrollbarXActive)return!1;if(0===o&&i<0||o>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}var o=!1;e.event.bind(t,"mouseenter",function(){o=!0}),e.event.bind(t,"mouseleave",function(){o=!1});var c=!1;e.event.bind(e.ownerDocument,"keydown",function(l){if(!l.isDefaultPrevented||!l.isDefaultPrevented()){var u=r.matches(e.scrollbarX,":focus")||r.matches(e.scrollbarY,":focus");if(o||u){var d=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(n.isEditable(d))return}var h=0,p=0;switch(l.which){case 37:h=-30;break;case 38:p=30;break;case 39:h=30;break;case 40:p=-30;break;case 33:p=90;break;case 32:p=l.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=l.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:p=l.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}a(t,"top",t.scrollTop-p),a(t,"left",t.scrollLeft+h),s(t),c=i(h,p),c&&l.preventDefault()}}})}var n=t("../../lib/helper"),r=t("../../lib/dom"),o=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){var e=o.get(t);i(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e){"use strict";function i(t,e){function i(i,n){var r=t.scrollTop;if(0===i){if(!e.scrollbarYActive)return!1;if(0===r&&n>0||r>=e.contentHeight-e.containerHeight&&n<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===n){if(!e.scrollbarXActive)return!1;if(0===o&&i<0||o>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}function n(t){var e=t.deltaX,i=-1*t.deltaY;return"undefined"!=typeof e&&"undefined"!=typeof i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!==e&&i!==i&&(e=0,i=t.wheelDelta),[e,i]}function s(e,i){var n=t.querySelector("textarea:hover, .ps-child:hover");if(n){if("TEXTAREA"!==n.tagName&&!window.getComputedStyle(n).overflow.match(/(scroll|auto)/))return!1;var r=n.scrollHeight-n.clientHeight;if(r>0&&!(0===n.scrollTop&&i>0||n.scrollTop===r&&i<0))return!0;var o=n.scrollLeft-n.clientWidth;if(o>0&&!(0===n.scrollLeft&&e<0||n.scrollLeft===o&&e>0))return!0}return!1}function a(a){var l=n(a),u=l[0],d=l[1];s(u,d)||(c=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(d?o(t,"top",t.scrollTop-d*e.settings.wheelSpeed):o(t,"top",t.scrollTop+u*e.settings.wheelSpeed),c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(u?o(t,"left",t.scrollLeft+u*e.settings.wheelSpeed):o(t,"left",t.scrollLeft-d*e.settings.wheelSpeed),c=!0):(o(t,"top",t.scrollTop-d*e.settings.wheelSpeed),o(t,"left",t.scrollLeft+u*e.settings.wheelSpeed)),r(t),c=c||i(u,d),c&&(a.stopPropagation(),a.preventDefault()))}var c=!1;"undefined"!=typeof window.onwheel?e.event.bind(t,"wheel",a):"undefined"!=typeof window.onmousewheel&&e.event.bind(t,"mousewheel",a)}var n=t("../instances"),r=t("../update-geometry"),o=t("../update-scroll");e.exports=function(t){var e=n.get(t);i(t,e)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e){"use strict";function i(t,e){e.event.bind(t,"scroll",function(){r(t)})}var n=t("../instances"),r=t("../update-geometry");e.exports=function(t){var e=n.get(t);i(t,e)}},{"../instances":18,"../update-geometry":19}],15:[function(t,e){"use strict";function i(t,e){function i(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function a(){l||(l=setInterval(function(){return r.get(t)?(s(t,"top",t.scrollTop+u.top),s(t,"left",t.scrollLeft+u.left),void o(t)):void clearInterval(l)},50))}function c(){l&&(clearInterval(l),l=null),n.stopScrolling(t)}var l=null,u={top:0,left:0},d=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(i())?d=!0:(d=!1,c())}),e.event.bind(window,"mouseup",function(){d&&(d=!1,c())}),e.event.bind(window,"mousemove",function(e){
if(d){var i={x:e.pageX,y:e.pageY},r={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};i.x<r.left+3?(u.left=-5,n.startScrolling(t,"x")):i.x>r.right-3?(u.left=5,n.startScrolling(t,"x")):u.left=0,i.y<r.top+3?(r.top+3-i.y<5?u.top=-5:u.top=-20,n.startScrolling(t,"y")):i.y>r.bottom-3?(i.y-r.bottom+3<5?u.top=5:u.top=20,n.startScrolling(t,"y")):u.top=0,0===u.top&&0===u.left?c():a()}})}var n=t("../../lib/helper"),r=t("../instances"),o=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){var e=r.get(t);i(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e){"use strict";function i(t,e,i,n){function a(i,n){var r=t.scrollTop,o=t.scrollLeft,s=Math.abs(i),a=Math.abs(n);if(a>s){if(n<0&&r===e.contentHeight-e.containerHeight||n>0&&0===r)return!e.settings.swipePropagation}else if(s>a&&(i<0&&o===e.contentWidth-e.containerWidth||i>0&&0===o))return!e.settings.swipePropagation;return!0}function c(e,i){s(t,"top",t.scrollTop-i),s(t,"left",t.scrollLeft-e),o(t)}function l(){_=!0}function u(){_=!1}function d(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function p(t){if(h(t)){w=!0;var e=d(t);m.pageX=e.pageX,m.pageY=e.pageY,v=(new Date).getTime(),null!==b&&clearInterval(b),t.stopPropagation()}}function f(t){if(!w&&e.settings.swipePropagation&&p(t),!_&&w&&h(t)){var i=d(t),n={pageX:i.pageX,pageY:i.pageY},r=n.pageX-m.pageX,o=n.pageY-m.pageY;c(r,o),m=n;var s=(new Date).getTime(),l=s-v;l>0&&(y.x=r/l,y.y=o/l,v=s),a(r,o)&&(t.stopPropagation(),t.preventDefault())}}function g(){!_&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return r.get(t)?Math.abs(y.x)<.01&&Math.abs(y.y)<.01?void clearInterval(b):(c(30*y.x,30*y.y),y.x*=.8,void(y.y*=.8)):void clearInterval(b)},10))}var m={},v=0,y={},b=null,_=!1,w=!1;i&&(e.event.bind(window,"touchstart",l),e.event.bind(window,"touchend",u),e.event.bind(t,"touchstart",p),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",g)),n&&(window.PointerEvent?(e.event.bind(window,"pointerdown",l),e.event.bind(window,"pointerup",u),e.event.bind(t,"pointerdown",p),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",g)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",l),e.event.bind(window,"MSPointerUp",u),e.event.bind(t,"MSPointerDown",p),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",g)))}var n=t("../../lib/helper"),r=t("../instances"),o=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){if(n.env.supportsTouch||n.env.supportsIePointer){var e=r.get(t);i(t,e,n.env.supportsTouch,n.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e){"use strict";var i=t("../lib/helper"),n=t("../lib/class"),r=t("./instances"),o=t("./update-geometry"),s={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},a=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},n.add(t,"ps-container");var c=r.add(t);c.settings=i.extend(c.settings,e),n.add(t,"ps-theme-"+c.settings.theme),c.settings.handlers.forEach(function(e){s[e](t)}),a(t),o(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,i){"use strict";function n(t){function e(){c.add(t,"ps-focus")}function i(){c.remove(t,"ps-focus")}var n=this;n.settings=a.clone(l),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===u.css(t,"direction"),n.isNegativeScroll=function(){var e=t.scrollLeft,i=null;return t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=e,i}(),n.negativeScrollAdjustment=n.isNegativeScroll?t.scrollWidth-t.clientWidth:0,n.event=new d,n.ownerDocument=t.ownerDocument||document,n.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),t),n.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",e),n.event.bind(n.scrollbarX,"blur",i),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=a.toInt(u.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:a.toInt(u.css(n.scrollbarXRail,"top")),n.railBorderXWidth=a.toInt(u.css(n.scrollbarXRail,"borderLeftWidth"))+a.toInt(u.css(n.scrollbarXRail,"borderRightWidth")),u.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=a.toInt(u.css(n.scrollbarXRail,"marginLeft"))+a.toInt(u.css(n.scrollbarXRail,"marginRight")),u.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),t),n.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",e),n.event.bind(n.scrollbarY,"blur",i),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=a.toInt(u.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:a.toInt(u.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?a.outerWidth(n.scrollbarY):null,n.railBorderYWidth=a.toInt(u.css(n.scrollbarYRail,"borderTopWidth"))+a.toInt(u.css(n.scrollbarYRail,"borderBottomWidth")),u.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=a.toInt(u.css(n.scrollbarYRail,"marginTop"))+a.toInt(u.css(n.scrollbarYRail,"marginBottom")),u.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function r(t){return t.getAttribute("data-ps-id")}function o(t,e){t.setAttribute("data-ps-id",e)}function s(t){t.removeAttribute("data-ps-id")}var a=t("../lib/helper"),c=t("../lib/class"),l=t("./default-setting"),u=t("../lib/dom"),d=t("../lib/event-manager"),h=t("../lib/guid"),p={};i.add=function(t){var e=h();return o(t,e),p[e]=new n(t),p[e]},i.remove=function(t){delete p[r(t)],s(t)},i.get=function(t){return p[r(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e){"use strict";function i(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function n(t,e){var i={width:e.railXWidth};e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-t.scrollTop:i.top=e.scrollbarXTop+t.scrollTop,s.css(e.scrollbarXRail,i);var n={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:n.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+t.scrollLeft,s.css(e.scrollbarYRail,n),s.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),s.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var r=t("../lib/helper"),o=t("../lib/class"),s=t("../lib/dom"),a=t("./instances"),c=t("./update-scroll");e.exports=function(t){var e=a.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var l;t.contains(e.scrollbarXRail)||(l=s.queryChildren(t,".ps-scrollbar-x-rail"),l.length>0&&l.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||(l=s.queryChildren(t,".ps-scrollbar-y-rail"),l.length>0&&l.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=i(e,r.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=r.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=i(e,r.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=r.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),n(t,e),e.scrollbarXActive?o.add(t,"ps-active-x"):(o.remove(t,"ps-active-x"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,c(t,"left",0)),e.scrollbarYActive?o.add(t,"ps-active-y"):(o.remove(t,"ps-active-y"),e.scrollbarYHeight=0,e.scrollbarYTop=0,c(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e){"use strict";var i,n,r=t("./instances"),o=document.createEvent("Event"),s=document.createEvent("Event"),a=document.createEvent("Event"),c=document.createEvent("Event"),l=document.createEvent("Event"),u=document.createEvent("Event"),d=document.createEvent("Event"),h=document.createEvent("Event"),p=document.createEvent("Event"),f=document.createEvent("Event");o.initEvent("ps-scroll-up",!0,!0),s.initEvent("ps-scroll-down",!0,!0),a.initEvent("ps-scroll-left",!0,!0),c.initEvent("ps-scroll-right",!0,!0),l.initEvent("ps-scroll-y",!0,!0),u.initEvent("ps-scroll-x",!0,!0),d.initEvent("ps-x-reach-start",!0,!0),h.initEvent("ps-x-reach-end",!0,!0),p.initEvent("ps-y-reach-start",!0,!0),f.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,g){if("undefined"==typeof t)throw"You must provide an element to the update-scroll function";if("undefined"==typeof e)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof g)throw"You must provide a value to the update-scroll function";"top"===e&&g<=0&&(t.scrollTop=g=0,t.dispatchEvent(p)),"left"===e&&g<=0&&(t.scrollLeft=g=0,t.dispatchEvent(d));var m=r.get(t);"top"===e&&g>=m.contentHeight-m.containerHeight&&(g=m.contentHeight-m.containerHeight,g-t.scrollTop<=1?g=t.scrollTop:t.scrollTop=g,t.dispatchEvent(f)),"left"===e&&g>=m.contentWidth-m.containerWidth&&(g=m.contentWidth-m.containerWidth,g-t.scrollLeft<=1?g=t.scrollLeft:t.scrollLeft=g,t.dispatchEvent(h)),i||(i=t.scrollTop),n||(n=t.scrollLeft),"top"===e&&g<i&&t.dispatchEvent(o),"top"===e&&g>i&&t.dispatchEvent(s),"left"===e&&g<n&&t.dispatchEvent(a),"left"===e&&g>n&&t.dispatchEvent(c),"top"===e&&(t.scrollTop=i=g,t.dispatchEvent(l)),"left"===e&&(t.scrollLeft=n=g,t.dispatchEvent(u))}},{"./instances":18}],21:[function(t,e){"use strict";var i=t("../lib/helper"),n=t("../lib/dom"),r=t("./instances"),o=t("./update-geometry"),s=t("./update-scroll");e.exports=function(t){var e=r.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,n.css(e.scrollbarXRail,"display","block"),n.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=i.toInt(n.css(e.scrollbarXRail,"marginLeft"))+i.toInt(n.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=i.toInt(n.css(e.scrollbarYRail,"marginTop"))+i.toInt(n.css(e.scrollbarYRail,"marginBottom")),n.css(e.scrollbarXRail,"display","none"),n.css(e.scrollbarYRail,"display","none"),o(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),n.css(e.scrollbarXRail,"display",""),n.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"undefined"!=typeof module&&module.exports?module.exports=e(t,t.document):t.Shake=e(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(i){if(this.hasDeviceMotion="ondevicemotion"in t,this.options={threshold:15,timeout:1e3},"object"==typeof i)for(var n in i)i.hasOwnProperty(n)&&(this.options[n]=i[n]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof e.CustomEvent)this.event=new e.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof e.createEvent)return!1;this.event=e.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return i.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},i.prototype.start=function(){this.reset(),this.hasDeviceMotion&&t.addEventListener("devicemotion",this,!1)},i.prototype.stop=function(){this.hasDeviceMotion&&t.removeEventListener("devicemotion",this,!1),this.reset()},i.prototype.devicemotion=function(e){var i=e.accelerationIncludingGravity;if(i){var n,r,o=0,s=0,a=0;if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=i.x,this.lastY=i.y,void(this.lastZ=i.z);o=Math.abs(this.lastX-i.x),s=Math.abs(this.lastY-i.y),a=Math.abs(this.lastZ-i.z),(o>this.options.threshold&&s>this.options.threshold||o>this.options.threshold&&a>this.options.threshold||s>this.options.threshold&&a>this.options.threshold)&&(n=new Date,r=n.getTime()-this.lastTime.getTime(),r>this.options.timeout&&(t.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=i.x,this.lastY=i.y,this.lastZ=i.z}},i.prototype.handleEvent=function(t){if("function"==typeof this[t.type])return this[t.type](t)},i}),void function(t){var e="2.0.4",i=t.AV||{};t.AV=i,"function"==typeof define&&define.amd&&define("AV",[],function(){return i});var n={heartbeatsTime:3e4},r={},o={},s={open:"open",close:"close",message:"message",reuse:"reuse",error:"error"},a=function(){var e={options:void 0,ws:void 0,heartbeatsTimer:void 0,ec:void 0,closeFlag:!1,reuseTimer:void 0},i=function(){r.log("WebSocket opened."),o.loginPush(e.options),o.heartbeats(),o.guard(),e.ec.emit(s.open)},a=function(){r.log("WebSocket closed."),e.ec.emit(s.close)},c=function(t){var i=JSON.parse(t.data);if("data"===i.cmd){o.ackPush(i.ids);var n,r=i.msg.length;for(n=0;n<r;n++)e.ec.emit(s.message,i.msg[n])}},l=function(t){throw t},u=function(t){e.ws.send(JSON.stringify(t))},d=function(t,e,i){var n=[];"string"==typeof t?n.push(t):n=t,o.channels(n,e,i)};return o.getId=function(t){var e="AV/"+t.appId+"/installationId",i=r.storage(e);return i?i:(id=r.getId(),t.id=id,o.sendId(t,function(){r.storage(e,id)}),id)},o.sendId=function(t,i){r.ajax({url:"https://"+e.options.host+"/1.1/installations",method:"post",appId:t.appId,appKey:t.appKey,data:{deviceType:t.deviceType,installationId:t.id,channels:t.channels}},function(n){n?i&&(i(n),e.ec.emit("leancloud-send-id-ok")):setTimeout(function(){o.sendId(t)},5e3)})},o.sendPush=function(t,i){r.ajax({url:"https://"+e.options.host+"/1.1/push",method:"post",appId:t.appId,appKey:t.appKey,data:t},function(e,n){if(e)i&&i(e);else{if(403===n.code||404===n.code)throw n.error;setTimeout(function(){o.sendPush(t,i)},5e3)}})},o.channels=function(t,i,n){var o={installationId:e.options.id,deviceType:e.options.deviceType};n?o.channels={__op:"Remove",objects:t}:o.channels=t,r.ajax({url:"https://"+e.options.host+"/1.1/installations",method:"post",appId:e.options.appId,appKey:e.options.appKey,data:o},function(t){i&&i(t)})},o.createSocket=function(t){var n=new WebSocket(t);e.ws=n,n.addEventListener("open",i),n.addEventListener("close",a),n.addEventListener("message",c),n.addEventListener("error",l)},o.heartbeats=function(){u({}),e.ws.addEventListener("message",function(){e.heartbeatsTimer&&clearTimeout(e.heartbeatsTimer),e.heartbeatsTimer=setTimeout(function(){u({})},n.heartbeatsTime)})},o.guard=function(){e.ec.on(s.close,function(){e.closeFlag||e.ec.emit(s.reuse)})},o.connect=function(t){var i=t.server;if(!(i&&r.now()<i.expires))throw e.ec.emit(s.error),"WebSocket connet failed.";o.createSocket(i.server)},o.ackPush=function(t){u({cmd:"ack",appId:e.options.appId,installationId:e.options.id,ids:t})},o.loginPush=function(t){u({cmd:"login",appId:t.appId,installationId:t.id})},o.getServer=function(i,n){var o=i.appId,a=i.secure,c="",l="http://";t&&"https:"===t.location.protocol&&(l="https://");var u="";switch(i.region){case"cn":u="g0";break;case"us":u="a0";break;default:throw"There is no this region."}c=l+"router-"+u+"-push.leancloud.cn/v1/route?appId="+o,a&&(c+="&secure=1"),r.ajax({url:c},function(t,i){if(t)t.expires=r.now()+1e3*t.ttl,e.server=t,n(t);else{if(403===i.code||404===i.code)throw i.error;e.ec.emit(s.error)}})},{installationId:"",cache:e,open:function(t){var i=this;return o.getServer(e.options,function(t){t&&o.connect({server:e.server})}),t&&e.ec.on(s.open,t),e.ec.once(s.reuse+" "+s.error,function(){e.reuseTimer&&clearTimeout(e.reuseTimer),e.reuseTimer=setTimeout(function(){i.open()},5e3)}),this},close:function(){return e.closeFlag=!0,e.ws.close(),this},on:function(t,i){return e.ec.on(t,i),this},once:function(t,i){return e.ec.once(t,i),this},off:function(t,i){return e.ec.off(t,i),this},emit:function(t,i){return e.ec.emit(t,i),this},send:function(t,i){var n={appId:e.options.appId,appKey:e.options.appKey};if(t.channels||t.where||t.expiration_time||t.expiration_interval||t.push_time||t.prod){for(var r in t)n[r]=t[r];o.sendPush(n,i)}else n.data=t,o.sendPush(n,i);return this},subscribe:function(t,e){return d(t,e),this},unsubscribe:function(t,e){return d(t,e,!0),this},receive:function(t){if(!t)throw"Receive must hava callback.";return e.ec.on(s.message,function(e){t(e)}),this}}};i.push=function(e){if("object"!=typeof e)throw"AV.push need a argument at least.";if(e.appId){if(e.appKey){var i=!t.WebSocket.loadFlashPolicyFile;switch(e={appId:e.appId,appKey:e.appKey,peerId:e.clientId,secure:"undefined"==typeof e.secure?i:e.secure,region:e.region||"cn",channels:e.channels||[],deviceType:"web"},e.region){case"cn":e.host="leancloud.cn";break;case"us":e.host="us-api.leancloud.cn"}var n=a();return n.cache.options=e,e.id=o.getId(e),n.installationId=e.id,n.cache.ec=r.eventCenter(),n}throw"Options must have appKey."}throw"Options must have appId."},i.push.version=e,i.push._tool=r,i.push._engine=o,r.noop=function(){},r.getId=function(){var t=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2,3)};return"AV-"+t()+"-"+t()+"-"+t()},r.log=function(t){console.log(t)},r.ajax=function(t,e){var i=t.url,n=t.method||"get",r=new XMLHttpRequest;r.open(n,i),"post"!==n&&"put"!==n||r.setRequestHeader("Content-Type","application/json"),t.appId&&r.setRequestHeader("X-AVOSCloud-Application-Id",t.appId),t.appKey&&r.setRequestHeader("X-AVOSCloud-Application-Key",t.appKey),r.onprogress=function(){},r.ontimeout=function(){},r.timeout=0,r.onload=function(){r.status>=200&&r.status<300?e(JSON.parse(r.responseText)):e(null,JSON.parse(r.responseText))},r.onerror=function(t){throw e(null,t),"Network error."},r.send(JSON.stringify(t.data))},r.now=function(){return Date.now()},r.storage=function(e,i){if(!i){var n=t.localStorage.getItem(e);return/^[\{|\[]/.test(n)&&/[\}|\]]$/.test(n)&&(n=JSON.parse(n)),n}"object"==typeof i&&(i=JSON.stringify(i)),t.localStorage.setItem(e,i)},r.eventCenter=function(){function t(t){var e=[],i=0,n=t.length;if(n){for(;i<n;i++)t[i]&&e.push(t[i]);return e}return null}var e={},i={},n=function(t,n,r){if(!t)throw"No event name.";if(!n)throw"No callback function.";var o,s=t.split(/\s+/);o=r?i:e;for(var a=0,c=s.length;a<c;a++)s[a]&&(o[s[a]]||(o[s[a]]=[]),o[s[a]].push(n))},r=function(t,n,r){var o;if(o=r?i:e,o[t])for(var s=0,a=o[t].length;s<a;s++)if(o[t][s]===n)return void(o[t][s]=null)};return{on:function(t,e){return n(t,e),this},once:function(t,e){return n(t,e,!0),this},emit:function(n,o){if(!n)throw"No emit event name.";var s=0,a=0;if(e[n]){for(s=0,a=e[n].length;s<a;s++)e[n][s]&&e[n][s].call(this,o);e[n]=t(e[n])}if(i[n]){for(s=0,a=i[n].length;s<a;s++)i[n][s]&&(i[n][s].call(this,o),r(n,i[n][s],!0));i[n]=t(i[n])}return this},off:function(t,e){return r(t,e),this}}}}(window),function(t,e,i){function n(i,n){this.wrapper="string"==typeof i?e.querySelector(i):i,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof t.onmousedown};for(var r in n)this.options[r]=n[r];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,i,n){var r=e.createElement("div"),o=e.createElement("div");return n===!0&&(r.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==t?(n===!0&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(n===!0&&(r.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),r.className="iScrollVerticalScrollbar"),r.style.cssText+=";overflow:hidden",i||(r.style.pointerEvents="none"),r.appendChild(o),r}function o(i,n){this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var r in n)this.options[r]=n[r];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[a.style.transform]=this.scroller.translateZ;var o=a.style.transitionDuration;if(!o)return;this.wrapperStyle[o]=a.isBadAndroid?"0.0001ms":"0ms";var c=this;a.isBadAndroid&&s(function(){"0.0001ms"===c.wrapperStyle[o]&&(c.wrapperStyle[o]="0s")}),this.wrapperStyle.opacity="0"}}var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function n(t){return s!==!1&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}var r={},o=e.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,n=e.length;i<n;i++)if(t=e[i]+"ransform",t in o)return e[i].substr(0,e[i].length-1);return!1}();r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(t,e){for(var i in e)t[i]=e[i]},r.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},r.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},r.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},r.momentum=function(t,e,n,r,o,s){var a,c,l=t-e,u=i.abs(l)/n;return s=void 0===s?6e-4:s,a=t+u*u/(2*s)*(l<0?-1:1),c=u/s,a<r?(a=o?r-o/2.5*(u/8):r,l=i.abs(a-t),c=l/u):a>0&&(a=o?o/2.5*(u/8):0,l=i.abs(t)+a,c=l/u),{destination:i.round(a),duration:c}};var a=n("transform");return r.extend(r,{hasTransform:a!==!1,hasPerspective:n("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:n("transition")in o}),r.isBadAndroid=function(){var e=t.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var i=e.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&i.length>=2)||parseFloat(i[1])<535.19}return!1}(),r.extend(r.style={},{transform:a,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin"),touchAction:n("touchAction")}),r.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},r.addClass=function(t,e){if(!r.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},r.removeClass=function(t,e){if(r.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},r.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},r.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),r.tap=function(t,i){var n=e.createEvent("Event");n.initEvent(i,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},r.click=function(i){var n,r=i.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||(n=e.createEvent(t.MouseEvent?"MouseEvents":"Event"),n.initEvent("click",!0,!0),n.view=i.view||t,n.detail=1,n.screenX=r.screenX||0,n.screenY=r.screenY||0,n.clientX=r.clientX||0,n.clientY=r.clientY||0,n.ctrlKey=!!i.ctrlKey,n.altKey=!!i.altKey,n.shiftKey=!!i.shiftKey,n.metaKey=!!i.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,r.dispatchEvent(n))},r.getTouchAction=function(t,e){var i="none";return"vertical"===t?i="pan-y":"horizontal"===t&&(i="pan-x"),e&&"none"!=i&&(i+=" pinch-zoom"),i},r.getRect=function(t){if(t instanceof SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}},r}();n.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=a.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)&&(!this.options.ignoreEventException||!this.options.ignoreEventException(t))){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var n,r=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(i.round(n.x),i.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated&&(!this.options.ignoreEventException||!this.options.ignoreEventException(t))){this.options.preventDefault&&t.preventDefault();var e,n,r,o,s=t.touches?t.touches[0]:t,c=s.pageX-this.pointX,l=s.pageY-this.pointY,u=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=c,this.distY+=l,r=i.abs(this.distX),o=i.abs(this.distY),!(u-this.endTime>300&&r<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(r>o+this.options.directionLockThreshold?this.directionLocked="h":o>=r+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}c=this.hasHorizontalScroll?c:0,l=this.hasVerticalScroll?l:0,e=this.x+c,n=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+c/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=c>0?-1:c<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,r=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),o=i.round(this.x),s=i.round(this.y),c=i.abs(o-this.startX),l=i.abs(s-this.startY),u=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&r<200&&c<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&r<300&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{
destination:o,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=e.destination,s=n.destination,u=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var h=this._nearestSnap(o,s);this.currentPage=h,u=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-h.x),1e3),i.min(i.abs(s-h.y),1e3)),300),o=h.x,s=h.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}return o!=this.x||s!=this.y?((o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(o,s,u,d)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){a.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var t=a.getRect(this.scroller);this.scrollerWidth=t.width,this.scrollerHeight=t.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,a.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[a.style.touchAction]=a.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[a.style.touchAction]||(this.wrapper.style[a.style.touchAction]=a.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var r=this.options.useTransition&&n.style;!i||r?(r&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,r,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=a.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top;var c=a.getRect(t),l=a.getRect(this.wrapper);n===!0&&(n=i.round(c.width/2-l.width/2)),r===!0&&(r=i.round(c.height/2-l.height/2)),s.left-=n||0,s.top-=r||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-s.left),i.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,o)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=a.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&a.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;s(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(n,a.prefixPointerEvent("pointermove"),this),i(n,a.prefixPointerEvent("pointercancel"),this),i(n,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[a.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){if(a.indicators)for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,s=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:r("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),s.push(e)),this.options.scrollX&&(e={el:r("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),s.push(e))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var c=s.length;c--;)this.indicators.push(new o(this,s[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,n,r,o,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return r=this.currentPage.pageX,o=this.currentPage.pageY,e>0?r--:e<0&&r++,n>0?o--:n<0&&o++,void this.goToPage(r,o);r=this.x+i.round(this.hasHorizontalScroll?e:0),o=this.y+i.round(this.hasVerticalScroll?n:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=n>0?-1:n<0?1:0,r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(r,o,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,r,o,s,c,l=0,u=0,d=0,h=this.options.snapStepX||this.wrapperWidth,p=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(h/2),r=i.round(p/2);d>-this.scrollerWidth;){for(this.pages[l]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[l][t]={x:i.max(d,this.maxScrollX),y:i.max(o,this.maxScrollY),width:h,height:p,cx:d-n,cy:o-r},o-=p,t++;d-=h,l++}else for(s=this.options.snap,t=s.length,e=-1;l<t;l++)c=a.getRect(s[l]),(0===l||c.left<=a.getRect(s[l-1]).left)&&(u=0,e++),this.pages[u]||(this.pages[u]=[]),d=i.max(-c.left,this.maxScrollX),o=i.max(-c.top,this.maxScrollY),n=d-i.round(c.width/2),r=o-i.round(c.height/2),this.pages[u][e]={x:d,y:o,width:c.width,height:c.height,cx:n,cy:r},d>this.maxScrollX&&u++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,r=this.pages.length,o=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<r;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(r=this.pages[n].length;o<r;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),o==this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:n,pageY:o}},goToPage:function(t,e,n,r){r=r||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,s=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-this.x),1e3),i.min(i.abs(s-this.y),1e3)),300):n,this.currentPage={x:o,y:s,pageX:t,pageY:e},this.scrollTo(o,s,n,r)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,r=n?this.currentPage.pageX:this.x,o=n?this.currentPage.pageY:this.y,s=a.getTime(),c=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-c<200?i.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=n?1:this.wrapperWidth:o+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=n?1:this.wrapperWidth:o-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=n?this.pages.length-1:this.maxScrollX,o=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,o=0;break;case this.options.keyBindings.left:r+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(r,o);r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,o,0),this.keyTime=s}},_animate:function(t,e,i,n){function r(){var h,p,f,g=a.getTime();return g>=d?(o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(g=(g-u)/i,f=n(g),h=(t-c)*f+c,p=(e-l)*f+l,o._translate(h,p),o.isAnimating&&s(r),void(3==o.options.probeType&&o._execEvent("scroll")))}var o=this,c=this.x,l=this.y,u=a.getTime(),d=u+i;this.isAnimating=!0,r()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},o.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,r,o=t.touches?t.touches[0]:t,s=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,i=o.pageY-this.lastPointY,this.lastPointY=o.pageY,n=this.x+e,r=this.y+i,this._pos(n,r),1==this.scroller.options.probeType&&s-this.startTime>300?(this.startTime=s,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),r=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,r,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=a.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&a.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;s(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),a.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},n.utils=a,"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t.IScroll=n}(window,document,Math),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var r,o,s,a,c,l;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.data("ujs:submit-button-formmethod")||n.attr("method"),o=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(s.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);return l={type:r||"GET",data:s,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!i.fire(n,"ajax:beforeSend",[t,r])&&void n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(o)},a&&(l.xhrFields={withCredentials:a}),o&&(l.url=o),i.ajax(l)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=i.csrfToken(),c=i.csrfParam(),l=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';c===e||a===e||i.isCrossDomain(r)||(u+='<input name="'+c+'" value="'+a+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(u).appendTo("body"),l.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{r=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,i,n){var r,o,s,a,c=t(),l=i||"input,textarea",u=e.find(l),d={};return u.each(function(){r=t(this),r.is("input[type=radio]")?(a=r.attr("name"),d[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=e.find('input[type=radio][name="'+a+'"]'),c=c.add(s)),d[a]=a)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===n&&(c=c.add(r)))}),!!c.length&&c},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),r=n.data("method"),o=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return r?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return r===!1?i.enableFormElement(n):r.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r,o,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if(r=i.blankInputs(s,i.requiredInputSelector,!1),r&&i.fire(s,"ajax:aborted:required",[r]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var c=i.fire(s,"ajax:aborted:file",[o]);return c||setTimeout(function(){i.enableFormElements(s)},13),c}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus();
},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bs.modal",o=new e(this,s)),"string"==typeof i?o[i](n):s.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());i.is("a")&&e.preventDefault(),r.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",c="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,s=o.test(r);s&&(r=r.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),c=n[0].offsetWidth,l=n[0].offsetHeight;if(s){var u=this.$element.parent(),d=r,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:u.outerWidth(),f="body"==this.options.container?window.innerHeight:u.outerHeight(),g="body"==this.options.container?0:u.offset().left;r="bottom"==r&&a.top+a.height+l-h>f?"top":"top"==r&&a.top-h-l<0?"bottom":"right"==r&&a.right+c>p?"left":"left"==r&&a.left-c<g?"right":r,n.removeClass(d).addClass(r)}var m=this.getCalculatedOffset(r,a,c,l);this.applyPlacement(m,r),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var n,r=this.tip(),o=r[0].offsetWidth,s=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),c=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(c)&&(c=0),e.top=e.top+a,e.left=e.left+c,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;if("top"==i&&u!=s&&(n=!0,e.top=e.top+s-u),/bottom|top/.test(i)){var d=0;e.left<0&&(d=e.left*-2,e.left=0,r.offset(e),l=r[0].offsetWidth,u=r[0].offsetHeight),this.replaceArrow(d-o+l,l,"left")}else this.replaceArrow(u-s,u,"top");n&&r.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof i&&i;(r||"destroy"!=i)&&(r||n.data("bs.tooltip",r=new e(this,o)),"string"==typeof i&&r[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){function e(){var e=o.settings;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var s=i(this);return isNaN(s.datetime)||(0===e.cutoff||Math.abs(r(s.datetime))<e.cutoff?t(this).text(n(s.datetime,t(this).attr("lang")?t(this).attr("lang"):o.settings.lang)):t(this).attr("title").length>0&&t(this).text(t(this).attr("title"))),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var i=t.trim(e.text());o.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function n(t,e){return o.inWords(r(t),e)}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,lang:"en",strings:{en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}}},inWords:function(e,i){function n(i,n){var o=t.isFunction(i)?i(n,e):i,s=r.numbers&&r.numbers[n]||n;return o.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings[i]||this.settings.strings[this.settings.lang]||this.settings.strings.en,o=r.prefixAgo,s=r.suffixAgo;if(this.settings.allowFuture&&e<0&&(o=r.prefixFromNow,s=r.suffixFromNow),!this.settings.allowPast&&e>=0)return r.inPast;var a=Math.abs(e)/1e3,c=a/60,l=c/60,u=l/24,d=u/365,h=a<45&&n(r.seconds,Math.round(a))||a<90&&n(r.minute,1)||c<45&&n(r.minutes,Math.round(c))||c<90&&n(r.hour,1)||l<24&&n(r.hours,Math.round(l))||l<42&&n(r.day,1)||u<30&&n(r.days,Math.round(u))||u<45&&n(r.month,1)||u<365&&n(r.months,Math.round(u/30))||d<1.5&&n(r.year,1)||n(r.years,Math.round(d)),p=r.wordSeparator||"";return void 0===r.wordSeparator&&(p=" "),t.trim([o,h,s].join(p))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=o.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return o.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var s={init:function(){s.dispose.call(this);var i=t.proxy(e,this);i();var n=o.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(i,n.refreshMillis))},update:function(i){var n=i instanceof Date?i:o.parse(i);t(this).data("timeago",{datetime:n}),o.settings.localeTitle&&t(this).attr("title",n.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:o.parse(o.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?s[t]:s.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),function(t){var e=function(){t("time[data-time-ago]").timeago()};t(e),t(document).on("turbolinks:load page:load ajax:success",e)}(jQuery),function(){var t,e,i,n,r,o,s,a,c,l,u=[].slice,d=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},h=function(t,e){function i(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty,f=function(t,e){return function(){return t.apply(e,arguments)}};i={bind:function(t,e){var i,n,r,o,s;for(n=t.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),r=0,o=n.length;r<o;r++)s=n[r],(i=this._callbacks)[s]||(i[s]=[]),this._callbacks[s].push(e);return this},one:function(t,e){var i;return this.bind(t,i=function(){return this.unbind(t,i),e.apply(this,arguments)})},trigger:function(){var t,e,i,n,r,o,s;if(t=1<=arguments.length?u.call(arguments,0):[],i=t.shift(),o=null!=(s=this._callbacks)?s[i]:void 0){for(n=0,r=o.length;n<r&&(e=o[n],e.apply(this,t)!==!1);n++);return!0}},listenTo:function(t,e,i){return t.bind(e,i),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:t,ev:e,callback:i}),this},listenToOnce:function(t,e,i){var n,r;return r=this.listeningToOnce||(this.listeningToOnce=[]),t.bind(e,n=function(){var o,s,a,c,l;for(s=-1,o=a=0,c=r.length;a<c;o=++a)l=r[o],l.obj===t&&l.ev===e&&l.callback===n&&(s=o);return t.unbind(e,n),s!==-1&&r.splice(s,1),i.apply(this,arguments)}),r.push({obj:t,ev:e,callback:n}),this},stopListening:function(e,i,n){var r,o,s,a,c,l,u,h,p,f,g,m,v,y,b,_,w,x;if(0===arguments.length){for(_=[this.listeningTo,this.listeningToOnce],c=0,h=_.length;c<h;c++)if(m=_[c],null!=m?m.length:void 0)for(l=0,p=m.length;l<p;l++)v=m[l],v.obj.unbind(v.ev,v.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(e)for(i=i?i.split(" "):[void 0],w=[this.listeningTo,this.listeningToOnce],u=0,f=w.length;u<f;u++)if(m=w[u])for(y=0,g=i.length;y<g;y++)for(o=i[y],a=b=x=m.length-1;x<=0?b<=0:b>=0;a=x<=0?++b:--b)v=m[a],v.obj===e&&(n&&v.callback!==n||(o&&o!==v.ev?o&&(s=v.ev.split(" "),d.call(s,o)>=0&&(s=function(){var t,e,i;for(i=[],e=0,t=s.length;e<t;e++)r=s[e],r!==o&&i.push(r);return i}(),v.ev=t.trim(s.join(" ")),v.obj.unbind(o,v.callback))):(v.obj.unbind(v.ev,v.callback),a!==-1&&m.splice(a,1))));return this},unbind:function(t,e){var i,n,r,o,s,a,c,l,u,d;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(n=t.split(" "),o=0,a=n.length;o<a;o++)if(u=n[o],l=null!=(d=this._callbacks)?d[u]:void 0)if(e){for(r=s=0,c=l.length;s<c;r=++s)if(i=l[r],i===e){l=l.slice(),l.splice(r,1),this._callbacks[u]=l;break}}else delete this._callbacks[u];return this}},i.on=i.bind,i.off=i.unbind,n={trace:!0,logPrefix:"(App)",log:function(){var t;if(t=1<=arguments.length?u.call(arguments,0):[],this.trace)return this.logPrefix&&t.unshift(this.logPrefix),"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,t),this}},l=["included","extended"],o=function(){function t(){"function"==typeof this.init&&this.init.apply(this,arguments)}return t.include=function(t){var e,i,n;if(!t)throw new Error("include(obj) requires obj");for(e in t)n=t[e],d.call(l,e)<0&&(this.prototype[e]=n);return null!=(i=t.included)&&i.apply(this),this},t.extend=function(t){var e,i,n;if(!t)throw new Error("extend(obj) requires obj");for(e in t)n=t[e],d.call(l,e)<0&&(this[e]=n);return null!=(i=t.extended)&&i.apply(this),this},t.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t.prototype.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t}(),r=function(e){function n(t){n.__super__.constructor.apply(this,arguments),null!=this.constructor.uuid&&"function"==typeof this.constructor.uuid?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(null!=t?t.cid:void 0)||this.constructor.uid("c-"),t&&this.load(t)}return h(n,e),n.extend(i),n.include(i),n.records=[],n.irecords={},n.attributes=[],n.configure=function(){var t,e;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],this.className=e,this.deleteAll(),t.length&&(this.attributes=t),this.attributes&&(this.attributes=c(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},n.toString=function(){return this.className+"("+this.attributes.join(", ")+")"},n.find=function(t,e){var i;return null==e&&(e=this.notFound),(null!=(i=this.irecords[t])?i.clone():void 0)||("function"==typeof e?e(t):void 0)},n.findAll=function(t,e){var i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)i=t[n],this.find(i,e)&&o.push(this.find(i));return o},n.notFound=function(){return null},n.exists=function(t){return Boolean(this.irecords[t])},n.addRecord=function(t,e){var i;return(i=this.irecords[t.id||t.cid])?i.refresh(t):(t.id||(t.id=t.cid),this.irecords[t.id]=this.irecords[t.cid]=t,void 0!==e?this.records.splice(e,0,t):this.records.push(t)),t},n.refresh=function(t,e){var i,n,r,o,s;for(null==e&&(e={}),e.clear&&this.deleteAll(),o=this.fromJSON(t),Array.isArray(o)||(o=[o]),i=0,n=o.length;i<n;i++)r=o[i],this.addRecord(r);return this.sort(),s=this.cloneArray(o),this.trigger("refresh",s,e),s},n.select=function(t){var e,i,n,r,o;for(r=this.records,o=[],e=0,i=r.length;e<i;e++)n=r[e],t(n)&&o.push(n.clone());return o},n.findByAttribute=function(t,e){var i,n,r,o;for(o=this.records,i=0,n=o.length;i<n;i++)if(r=o[i],r[t]===e)return r.clone();return null},n.findAllByAttribute=function(t,e){return this.select(function(i){return i[t]===e})},n.each=function(t){var e,i,n,r,o;for(r=this.records,o=[],e=0,i=r.length;e<i;e++)n=r[e],o.push(t(n.clone()));return o},n.all=function(){return this.cloneArray(this.records)},n.slice=function(t,e){return null==t&&(t=0),this.cloneArray(this.records.slice(t,e))},n.first=function(t){var e;return null==t&&(t=1),t>1?this.cloneArray(this.records.slice(0,t)):null!=(e=this.records[0])?e.clone():void 0},n.last=function(t){var e;return"number"==typeof t?this.cloneArray(this.records.slice(-t)):null!=(e=this.records[this.records.length-1])?e.clone():void 0},n.count=function(){return this.records.length},n.deleteAll=function(){return this.records=[],this.irecords={}},n.destroyAll=function(t){var e,i,n,r,o;for(r=this.records,o=[],e=0,i=r.length;e<i;e++)n=r[e],o.push(n.destroy(t));return o},n.update=function(t,e,i){return this.find(t).updateAttributes(e,i)},n.create=function(t,e){var i;return i=new this(t),i.save(e)},n.destroy=function(t,e){return this.find(t).destroy(e)},n.change=function(t){return"function"==typeof t?this.bind("change",t):this.trigger.apply(this,["change"].concat(u.call(arguments)))},n.fetch=function(t){return"function"==typeof t?this.bind("fetch",t):this.trigger.apply(this,["fetch"].concat(u.call(arguments)))},n.toJSON=function(){return this.records},n.beforeFromJSON=function(t){return t},n.fromJSON=function(t){var e,i,n,r;if(t){if("string"==typeof t&&(t=JSON.parse(t)),t=this.beforeFromJSON(t),Array.isArray(t)){for(n=[],e=0,i=t.length;e<i;e++)r=t[e],r instanceof this?n.push(r):n.push(new this(r));return n}return t instanceof this?t:new this(t)}},n.fromForm=function(){var t;return(t=new this).fromForm.apply(t,arguments)},n.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},n.cloneArray=function(t){var e,i,n,r;for(n=[],e=0,i=t.length;e<i;e++)r=t[e],n.push(r.clone());return n},n.idCounter=0,n.uid=function(t){var e;return null==t&&(t=""),e=t+this.idCounter++,this.exists(e)&&(e=this.uid(t)),e},n.prototype.isNew=function(){return!this.exists()},n.prototype.isValid=function(){return!this.validate()},n.prototype.validate=function(){},n.prototype.load=function(t){var e,i;t.id&&(this.id=t.id);for(e in t)if(i=t[e],"function"==typeof this[e]){if("function"==typeof i)continue;this[e](i)}else this[e]=i;return this},n.prototype.attributes=function(){var t,e,i,n,r;for(r={},n=this.constructor.attributes,t=0,i=n.length;t<i;t++)e=n[t],e in this&&("function"==typeof this[e]?r[e]=this[e]():r[e]=this[e]);return this.id&&(r.id=this.id),r},n.prototype.eql=function(t){return t&&t.constructor===this.constructor&&(t.cid===this.cid||t.id&&t.id===this.id)},n.prototype.save=function(t){var e,i;return null==t&&(t={}),t.validate!==!1&&(e=this.validate())?(this.trigger("error",this,e),!1):(this.trigger("beforeSave",this,t),i=this.isNew()?this.create(t):this.update(t),this.stripCloneAttrs(),this.trigger("save",i,t),i)},n.prototype.stripCloneAttrs=function(){var t,e,i;if(!this.hasOwnProperty("cid")){e=this;for(t in e)p.call(e,t)&&(i=e[t],d.call(this.constructor.attributes,t)>=0&&delete this[t]);return this}},n.prototype.updateAttribute=function(t,e,i){var n;return n={},n[t]=e,this.updateAttributes(n,i)},n.prototype.updateAttributes=function(t,e){return this.load(t),this.save(e)},n.prototype.changeID=function(t){var e;if(t!==this.id)return e=this.constructor.irecords,e[t]=e[this.id],this.cid!==this.id&&delete e[this.id],this.id=t,this.save()},n.prototype.remove=function(t){var e,i,n,r,o;for(null==t&&(t={}),o=this.constructor.records.slice(0),e=i=0,n=o.length;i<n;e=++i)if(r=o[e],this.eql(r)){o.splice(e,1);break}if(this.constructor.records=o,t.clear)return delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]},n.prototype.destroy=function(t){return null==t&&(t={}),null==t.clear&&(t.clear=!0),this.trigger("beforeDestroy",this,t),this.remove(t),this.destroyed=!0,this.trigger("destroy",this,t),this.trigger("change",this,"destroy",t),this.listeningTo&&this.stopListening(),this.unbind(),this},n.prototype.dup=function(t){var e,i;return null==t&&(t=!0),e=this.attributes(),t?delete e.id:e.cid=this.cid,i=new this.constructor(e),t||this._callbacks&&(i._callbacks=this._callbacks),i},n.prototype.clone=function(){return a(this)},n.prototype.reload=function(){var t;return this.isNew()?this:(t=this.constructor.find(this.id),this.load(t.attributes()),t)},n.prototype.refresh=function(t){return t=this.constructor.fromJSON(t),t.id&&this.id!==t.id&&this.changeID(t.id),this.constructor.irecords[this.id].load(t),this.trigger("refresh",this),this.trigger("change",this,"refresh"),this},n.prototype.toJSON=function(){return this.attributes()},n.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},n.prototype.fromForm=function(e){var i,n,r,o,s,a,c,l,u,d,h,p,f,g;for(g={},h=t(e).find("[type=checkbox]:not([value])"),n=0,a=h.length;n<a;n++)i=h[n],g[i.name]=t(i).prop("checked");for(p=t(e).find('[type=checkbox][name$="[]"]'),r=0,c=p.length;r<c;r++)i=p[r],u=i.name.replace(/\[\]$/,""),g[u]||(g[u]=[]),t(i).prop("checked")&&g[u].push(i.value);for(f=t(e).serializeArray(),s=0,l=f.length;s<l;s++)o=f[s],g[d=o.name]||(g[d]=o.value);return this.load(g)},n.prototype.exists=function(){return this.constructor.exists(this.id)},n.prototype.update=function(t){var e,i;return this.trigger("beforeUpdate",this,t),i=this.constructor.irecords,i[this.id].load(this.attributes()),this.constructor.sort(),e=i[this.id].clone(),e.trigger("update",e,t),e.trigger("change",e,"update",t),e},n.prototype.create=function(t){var e,i;return this.trigger("beforeCreate",this,t),this.id||(this.id=this.cid),i=this.dup(!1),this.constructor.addRecord(i,t.idx),this.constructor.sort(),e=i.clone(),e.trigger("create",e,t),e.trigger("change",e,"create",t),e},n.prototype.bind=function(){var t;return t=this.constructor.irecords[this.id]||this,i.bind.apply(t,arguments)},n.prototype.one=function(){var t;return t=this.constructor.irecords[this.id]||this,i.one.apply(t,arguments)},n.prototype.unbind=function(){var t;return t=this.constructor.irecords[this.id]||this,i.unbind.apply(t,arguments)},n.prototype.trigger=function(){var t;return i.trigger.apply(this,arguments),"refresh"===arguments[0]||(t=this.constructor).trigger.apply(t,arguments)},n}(o),r.prototype.on=r.prototype.bind,r.prototype.off=r.prototype.unbind,e=function(e){function r(e){this.release=f(this.release,this);var i,n,o,s,a;this.options=e,s=this.options;for(n in s)a=s[n],this[n]=a;for(this.el||(this.el=document.createElement(this.tag)),this.el=t(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),i=this;o=i.constructor.__super__;)o.events&&(this.events=t.extend({},o.events,this.events)),o.elements&&(this.elements=t.extend({},o.elements,this.elements)),i=o;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),r.__super__.constructor.apply(this,arguments)}return h(r,e),r.include(i),r.include(n),r.prototype.eventSplitter=/^(\S+)\s*(.*)$/,r.prototype.tag="div",r.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},r.prototype.$=function(t){return this.el.find(t)},r.prototype.delegateEvents=function(t){var e,i,n,r,o,s;o=[];for(i in t){if(r=t[i],"function"==typeof r)r=function(t){return function(e){return function(){return e.apply(t,arguments),!0}}}(this)(r);else{if(!this[r])throw new Error(r+" doesn't exist");r=function(t){return function(e){return function(){return t[e].apply(t,arguments),!0}}}(this)(r)}n=i.match(this.eventSplitter),e=n[1],s=n[2],""===s?o.push(this.el.bind(e,r)):o.push(this.el.on(e,s,r))}return o},r.prototype.refreshElements=function(){var t,e,i,n;e=this.elements,i=[];for(t in e)n=e[t],i.push(this[n]=this.$(t));return i},r.prototype.delay=function(t,e){return setTimeout(this.proxy(t),e||0)},r.prototype.html=function(t){return this.el.html(t.el||t),this.refreshElements(),this.el},r.prototype.append=function(){var t,e,i;return e=1<=arguments.length?u.call(arguments,0):[],e=function(){var i,n,r;for(r=[],i=0,n=e.length;i<n;i++)t=e[i],r.push(t.el||t);return r}(),(i=this.el).append.apply(i,e),this.refreshElements(),this.el},r.prototype.appendTo=function(t){return this.el.appendTo(t.el||t),this.refreshElements(),this.el},r.prototype.prepend=function(){var t,e,i;return e=1<=arguments.length?u.call(arguments,0):[],e=function(){var i,n,r;for(r=[],i=0,n=e.length;i<n;i++)t=e[i],r.push(t.el||t);return r}(),(i=this.el).prepend.apply(i,e),this.refreshElements(),this.el},r.prototype.replace=function(e){var i,n,r;return e=e.el||e,"string"==typeof e&&(e=t.trim(e)),r=[this.el,t((null!=(n=t.parseHTML(e))?n[0]:void 0)||e)],i=r[0],this.el=r[1],i.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},r}(o),t=("undefined"!=typeof window&&null!==window?window.jQuery:void 0)||("undefined"!=typeof window&&null!==window?window.Zepto:void 0)||function(t){return t},a=Object.create||function(t){var e;return e=function(){},e.prototype=t,new e},c=function(t){return Array.prototype.slice.call(t,0)},s=this.Spine={},"undefined"!=typeof module&&null!==module&&(module.exports=s),s.version="1.6.0",s.$=t,s.Events=i,s.Log=n,s.Module=o,s.Controller=e,s.Model=r,o.extend.call(s,i),o.create=o.sub=e.create=e.sub=r.sub=function(t,e){var i;return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e}(this),t&&i.include(t),e&&i.extend(e),"function"==typeof i.unbind&&i.unbind(),i},r.setup=function(t,e){var i;return null==e&&(e=[]),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e}(this),i.configure.apply(i,[t].concat(u.call(e))),i},s.Class=o}.call(this),function(){var t,e,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty,r=[].slice,o=function(t,e){return function(){return t.apply(e,arguments)}};e=this.Spine||require("spine"),t=e.$,e.Manager=function(t){function n(){this.controllers=[],this.bind("change",this.change),this.add.apply(this,arguments)}return i(n,t),n.include(e.Events),n.prototype.add=function(){var t,e,i,n,o;for(e=1<=arguments.length?r.call(arguments,0):[],o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(this.addOne(t));return o},n.prototype.addOne=function(t){return t.bind("active",function(e){return function(){var i;return i=1<=arguments.length?r.call(arguments,0):[],e.trigger.apply(e,["change",t].concat(r.call(i)))}}(this)),t.bind("release",function(e){return function(){var i;return e.controllers=function(){var e,n,r,o;for(r=this.controllers,o=[],e=0,n=r.length;e<n;e++)i=r[e],i!==t&&o.push(i);return o}.call(e)}}(this)),this.controllers.push(t)},n.prototype.deactivate=function(){return this.trigger.apply(this,["change",!1].concat(r.call(arguments)))},n.prototype.change=function(){var t,e,i,n,o,s;for(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],s=this.controllers,n=0,o=s.length;n<o;n++)e=s[n],e!==i&&e.deactivate.apply(e,t);if(i)return i.activate.apply(i,t)},n}(e.Module),e.Controller.include({active:function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],"function"==typeof t[0]?this.bind("active",t[0]):(t.unshift("active"),this.trigger.apply(this,t)),this},isActive:function(){return this.el.hasClass("active")},activate:function(){return this.el.addClass("active"),this},deactivate:function(){return this.el.removeClass("active"),this}}),e.Stack=function(t){function n(){this.release=o(this.release,this);var t,i,r,s,a,c;n.__super__.constructor.apply(this,arguments),this.manager=new e.Manager,this.router=null!=(r=e.Route)?r.create():void 0,s=this.controllers;for(i in s){if(c=s[i],null!=this[i])throw Error("'@"+i+"' already assigned");this[i]=new c({stack:this}),this.add(this[i])}a=this.routes,t=function(t){return function(e,i){var n;return"function"==typeof i&&(n=i),n||(n=function(){var e;return(e=t[i]).active.apply(e,arguments)}),t.route(e,n)}}(this);for(i in a)c=a[i],t(i,c);this["default"]&&this[this["default"]].active()}return i(n,t),n.prototype.controllers={},n.prototype.routes={},n.prototype.className="spine stack",n.prototype.add=function(t){return this.manager.add(t),this.append(t)},n.prototype.release=function(){var t;return null!=(t=this.router)&&t.destroy(),n.__super__.release.apply(this,arguments)},n}(e.Controller),"undefined"!=typeof module&&null!==module&&(module.exports=e.Manager),"undefined"!=typeof module&&null!==module&&(module.exports.Stack=e.Stack)}.call(this),function(){var t,e,i,n,r,o,s,a,c,l,u,d=[].slice,h=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;u=this.Spine||require("spine"),t=u.$,a=u.Model,c=t({}),e={getURL:function(t){return null!=t.className?this.generateURL(t):this.generateURL(t,encodeURIComponent(t.id))},getCollectionURL:function(t){return this.generateURL(t)},getScope:function(t){return("function"==typeof t.scope?t.scope():void 0)||t.scope},getCollection:function(t){return t.url!==t.generateURL?"function"==typeof t.url?t.url():t.url:null!=t.className?t.className.toLowerCase()+"s":void 0},generateURL:function(){var t,i,n,r,o;return n=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],i=e.getCollection(n)||e.getCollection(n.constructor),o=e.getScope(n)||e.getScope(n.constructor),t.unshift(i),t.unshift(o),r=t.join("/"),r=r.replace(/(\/\/)/g,"/"),r=r.replace(/^\/|\/$/g,""),0!==r.indexOf("../")?a.host+"/"+r:r},enabled:!0,disable:function(t){var e;if(!this.enabled)return t();this.enabled=!1;try{return t()}catch(t){throw e=t}finally{this.enabled=!0}},queue:function(t){return t?c.queue(t):c.queue()},clearQueue:function(){return this.queue([])},config:{loadMethod:"GET",updateMethod:"PUT",createMethod:"POST",destroyMethod:"DELETE"}},i=function(){function i(){}return i.prototype.defaults={dataType:"json",processData:!1,headers:{"X-Requested-With":"XMLHttpRequest"}},i.prototype.queue=e.queue,i.prototype.ajax=function(e,i){return t.ajax(this.ajaxSettings(e,i))},i.prototype.ajaxQueue=function(i,n,r){var o,s,a,l,u,h;return s=null,o=t.Deferred(),l=o.promise(),e.enabled?(h=this.ajaxSettings(i,n),a=void 0!==h.parallel?h.parallel:"GET"===h.type,u=function(i){var n,l,u;if(null!=(null!=r?r.id:void 0)&&(null==h.url&&(h.url=e.getURL(r)),null!=(n=h.data)&&(n.id=r.id)),"string"!=typeof h.data&&h.processData!==!0&&(h.data=JSON.stringify(h.data)),
u=function(){return o.resolve.apply(this,d.call(arguments).concat([h]))},l=function(){return o.reject.apply(this,d.call(arguments).concat([h]))},s=t.ajax(h),s.done(u),s.fail(l),s.then(i,i),a)return c.dequeue()},l.abort=function(e){var i;return s?s.abort(e):(i=t.inArray(u,this.queue()),i>-1&&this.queue().splice(i,1),o.rejectWith(h.context||h,[l,e,""]),l)},this.queue(u),l):l},i.prototype.ajaxSettings=function(e,i){return t.extend({},this.defaults,i,e)},i}(),n=function(t){function i(t){this.model=t,this.failResponse=h(this.failResponse,this),this.recordsResponse=h(this.recordsResponse,this)}return p(i,t),i.prototype.find=function(t,i,n){var r;return null==n&&(n={}),r=new this.model({id:t}),this.ajaxQueue(i,{type:n.method||e.config.loadMethod,url:n.url||e.getURL(r),parallel:n.parallel}).done(this.recordsResponse(n)).fail(this.failResponse(n))},i.prototype.all=function(t,i){return null==i&&(i={}),this.ajaxQueue(t,{type:i.method||e.config.loadMethod,url:i.url||e.getURL(this.model),parallel:i.parallel}).done(this.recordsResponse(i)).fail(this.failResponse(i))},i.prototype.fetch=function(t,e){var i;return null==t&&(t={}),null==e&&(e={}),(i=t.id)?(delete t.id,this.find(i,t,e).done(function(t){return function(i){return t.model.refresh(i,e)}}(this))):this.all(t,e).done(function(t){return function(i){return t.model.refresh(i,e)}}(this))},i.prototype.recordsResponse=function(t){return function(e){return function(i,n,r,o){var s;return e.model.trigger("ajaxSuccess",null,n,r,o),null!=(s=t.done)?s.call(e.model,o):void 0}}(this)},i.prototype.failResponse=function(t){return function(e){return function(i,n,r,o){var s;return e.model.trigger("ajaxError",null,i,n,r,o),null!=(s=t.fail)?s.call(e.model,o):void 0}}(this)},i}(i),l=function(t){function i(t){this.record=t,this.failResponse=h(this.failResponse,this),this.recordResponse=h(this.recordResponse,this),this.model=this.record.constructor}return p(i,t),i.prototype.reload=function(t,i){return null==i&&(i={}),this.ajaxQueue(t,{type:i.method||e.config.loadMethod,url:i.url,parallel:i.parallel},this.record).done(this.recordResponse(i)).fail(this.failResponse(i))},i.prototype.create=function(t,i){return null==i&&(i={}),this.ajaxQueue(t,{type:i.method||e.config.createMethod,contentType:"application/json",data:this.record.toJSON(),url:i.url||e.getCollectionURL(this.record),parallel:i.parallel}).done(this.recordResponse(i)).fail(this.failResponse(i))},i.prototype.update=function(t,i){return null==i&&(i={}),this.ajaxQueue(t,{type:i.method||e.config.updateMethod,contentType:"application/json",data:this.record.toJSON(),url:i.url,parallel:i.parallel},this.record).done(this.recordResponse(i)).fail(this.failResponse(i))},i.prototype.destroy=function(t,i){return null==i&&(i={}),this.ajaxQueue(t,{type:i.method||e.config.destroyMethod,url:i.url,parallel:i.parallel},this.record).done(this.recordResponse(i)).fail(this.failResponse(i))},i.prototype.recordResponse=function(t){return function(e){return function(i,n,r,o){var s;return null!=i&&Object.getOwnPropertyNames(i).length&&!e.record.destroyed&&e.record.refresh(i,{ajax:!1}),e.record.trigger("ajaxSuccess",e.record,e.model.fromJSON(i),n,r,o),null!=(s=t.done)?s.call(e.record,o):void 0}}(this)},i.prototype.failResponse=function(t){return function(e){return function(i,n,r,o){var s;switch(o.type){case"POST":e.createFailed();break;case"DELETE":e.destroyFailed()}return e.record.trigger("ajaxError",e.record,i,n,r,o),null!=(s=t.fail)?s.call(e.record,o):void 0}}(this)},i.prototype.createFailed=function(){return this.record.remove({clear:!0})},i.prototype.destroyFailed=function(){return this.record.destroyed=!1,this.record.constructor.refresh(this.record)},i}(i),a.host="",o={include:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],t.unshift(encodeURIComponent(this.id)),e.generateURL.apply(e,[this].concat(d.call(t)))},extend:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],e.generateURL.apply(e,[this].concat(d.call(t)))}},s={ajax:function(){return new l(this)},generateURL:o.include,url:o.include},r={ajax:function(){return new n(this)},generateURL:o.extend,url:o.extend},a.Ajax={extended:function(){return this.fetch(this.ajaxFetch),this.change(this.ajaxChange),this.extend(r),this.include(s)},ajaxFetch:function(){var t;return(t=this.ajax()).fetch.apply(t,arguments)},ajaxChange:function(t,e,i){var n;if(null==i&&(i={}),i.ajax!==!1)return"function"==typeof(n=t.ajax())[e]?n[e](i.ajax,i):void 0}},a.Ajax.Methods={extended:function(){return this.extend(r),this.include(s)}},e.defaults=i.prototype.defaults,e.Base=i,e.Singleton=l,e.Collection=n,u.Ajax=e,"undefined"!=typeof module&&null!==module&&(module.exports=e)}.call(this),function(){var t,e;window.MB=window.MB||{},window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,MB.serverCountry="CN",jQuery.timeago&&(jQuery.timeago.settings.lang=window.MBLocale),MB.v={},MB.l={},MB.f={ga:{},inSharing:/^\/app/.test(window.location.pathname),isDuplicateDemo:!1,minFSWarned:!1},MB.config={showRuler:!0,showGeneral:!0,screenBg:"#FFFFFF",assetWidth:158,ignoreError:/(Network error|Uncaught InvalidStateError|Uncaught #<Event>|Blocked a frame|NPObject)/,rulerWidth:16,lnMinWidth:244,screenContainerWidth:1e4,panelBaseZIndex:100,colorList:["#FF7100","#5B6B73"],disableColorList:["#C8CDD0","#C8CDD0"],SCALES:[20,30,50,75,80,90,100,120,150,200,300,400]},MB.maxTimestamp=1,MB.browserInfo=function(){var t,e,i;return i=navigator.userAgent,e=void 0,t=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(t[1])?(e=/\brv[ :]+(\d+)/g.exec(i)||[],{name:"IE",version:parseFloat(e[1]||"")}):"Chrome"===t[1]&&(e=i.match(/\b(OPR|Edge)\/(\d+)/),null!==e)?{name:e[1].replace("OPR","Opera"),version:parseFloat(e[2])}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=i.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]),{name:t[0],version:parseFloat(t[1])})}(),MB.checkFA=function(t){var e,i;for(e=i=12;i>=1;e=--i)$("#font-preload .ah").css("font-size",e+"px"),$("#font-preload .ah").css("line-height","100%"),$("#font-preload .ah").text("a").height()===e&&(MB.config.minFS=e);return t()},MB.trackPageView=function(t){return window.ga&&ga("send","pageview",{page:t})},MB.ga=function(){var t;return t=arguments[arguments.length-1],window.ga&&!this.f.ga[t]&&window.ga.apply(window,arguments),this.f.ga[t]=!0},MB.event=function(t,e,i){return null==e&&(e="goal"),null==i&&(i="v3"),MB.ga("send","event",e,"["+i+"]"+t)},MB.isMac=function(){return/(Macintosh)/i.test(navigator.userAgent)},MB.isWindows=function(){return/(Windows)/i.test(navigator.userAgent)},MB.isElectron=function(){return window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent)},MB.isLegacyElectron=function(){var t,e,i,n,r;return!!(t=window.MB_DESKTOP_VERSION||window.isElectron)&&(r=t.split("."),e=r[0],i=r[1],n=r[2],(e-0||i-6||n-4)<0)},MB.isPhantom=function(){return/Phantom/i.test(navigator.userAgent)},MB.isWechat=function(){return/MicroMessenger/i.test(navigator.userAgent)},MB.isEmbedded=function(){return $("body").hasClass("embed")},MB.isChrome=function(){return/Chrome/i.test(navigator.userAgent)},MB.isChrome63=function(){return/Chrome\/63/i.test(navigator.userAgent)},MB.isFirefox=function(){return/Firefox/i.test(navigator.userAgent)},MB.isMobile=function(){return/(iPod|iPhone|iPad|Android)/.test(navigator.userAgent)},MB.isAndroid=function(){return/Android/i.test(navigator.userAgent)},MB.isiPad=function(){return/(iPad)/.test(navigator.userAgent)},MB.isIOS=function(){return/(iPod|iPhone|iPad)/.test(navigator.userAgent)},MB.isOffline=function(){return Boolean(window.MBData)},MB.isIOSClient=function(){return Boolean(window.webkit&&window.webkit.messageHandlers)},MB.isStandAlone=function(){return navigator.standalone},MB.isIOS9=function(){return/(9_0|9_1)/.test(navigator.userAgent)},MB.isIOS11=function(){return/11_\d/.test(navigator.userAgent)},MB.isOddIOS=function(){return MB.isStandAlone()&&MB.isIOS9()&&(window.innerHeight>window.innerWidth||MB.isiPad())},MB.pointInRect=function(t,e,i){return t>i.left&&t<i.left+i.width&&e>i.top&&e<i.top+i.height},MB.project=function(){return MB.currentProject},MB.staticMap=function(){return"/images/workspace/staticmap_"+window.MBLocale+".png"},MB.exceedProjectQuota=function(t,e){var i,n,r;return i=!1,t&&(t.expired||t.limitation.collaborators<1)&&(r=t.owner_id===MB.user.id?"user":"team",MB.promptRenew(e+"_team_project",{action:"renew",role:r,plan:t.owner_plan}),i=!0),t||!MB.user.expired&&"free"!==MB.user.plan||(n=Project.select(function(t){return t.owner_id===MB.user.id&&!t.team_cid}),n.length>=MB.user.limitation.projects&&(MB.promptRenew("user_projects",{action:"upgrade",role:"user",plan:MB.user.current_plan}),i=!0)),i},MB.scale=function(){return $("body").data("scale")},MB.preference=function(){return Preference.first()},MB.readDataURL=function(t,e,i){var n,r;if(t)return r=/^image\/(png|jpg|jpeg|gif|svg|tiff|svg\+xml)$/i,r.test(t.type)?t.size>1024e3?i?i(new Error(I18N.file_too_large)):MB.alert({title:I18N.file_too_large,desc:I18N.optimize_your_image,isHTML:!0}):(n=new FileReader,n.onload=function(t){var i,n;return i=t.target.result,n=new Image,n.onload=function(){return e(i,n.width,n.height)},n.src=i},n.readAsDataURL(t)):i?i(new Error(I18N.unsupported)):alert(I18N.unsupported)},MB.supportedBrowser=function(){return/(Webkit|Firefox|Coding_iOS|Trident\/7.0)/i.test(navigator.userAgent)},MB.nextgid=function(t){return t?t.substr(0,21)+"-"+Math.uuid(21,16):null},MB.cloneBuiltin=function(t,e,i){var n;return n="/app/"+t+"/duplicate.json",MB.safeLoading(I18N.load_project),$.getJSON(n,function(){return function(t){var n;if(t.project.combo)n=new Combo;else{if(!t.project.template)return;n=new Template}return n.load(t.project),e&&(n.name=e,n.lsave()),Screen.refresh(t.screens),Widget.refresh(t.widgets),Link.refresh(t.links),Panel.refresh(t.panels),ScreenAlign.refresh(t.screen_aligns),$("#safemode").hide(),i(n)}}(this))},MB.triggerProgress=function(t){var e,i;return $("body").trigger("queue:save"),i=MB.autoSaver.queue.length,e=setInterval(function(){var i;if(i=MB.autoSaver.queue.length,0===i&&(clearInterval(e),"function"==typeof t))return t()},1e3)},MB.checkDupProgress=function(t,e){return setTimeout(function(){return function(){var i,n;return n="/sidekiq/critical/job/"+t+".json",i=$.getJSON(n,function(i){return"complete"===i.result?"function"==typeof e?e():window.location.reload():MB.checkDupProgress(t,e)})}}(this),2e3)},MB.unescape=function(t){var e;return e={"&amp;":"&","&lt;":"<","&gt;":">"},t.replace(/(&amp;|&lt;|&gt;)/g,function(t){return e[t]})},MB.strip=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||""},MB.isEditing=function(t){var e;return!!t&&(e=(t.target||t.srcElement).tagName,"INPUT"===e||"SELECT"===e||"TEXTAREA"===e||MB.f.editing)},MB.hex=function(t){return("0"+parseInt(t).toString(16)).slice(-2)},MB.rgb2hex=function(t){return t&&"rgba(0, 0, 0, 0)"!==t&&"transparent"!==t?(t=t.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+this.hex(t[1])+this.hex(t[2])+this.hex(t[3])):"transparent"},MB.hex2rgb=function(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}},MB.atan2=function(t,e){return Math.atan2(e,t)/Math.PI*180},MB.cos=function(t){return Math.cos(t/180*Math.PI)},MB.sin=function(t){return Math.sin(t/180*Math.PI)},MB.hypotenuse=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},MB.activePanel=function(){return $("#screens").find(".panel.selected").length},MB.canvasLeft=function(){return MB.activePanel()?document.querySelector(".panel.selected").getBoundingClientRect().left:document.querySelector("#canvas").getBoundingClientRect().left},MB.canvasTop=function(){return MB.activePanel()?document.querySelector(".panel.selected").getBoundingClientRect().top:document.querySelector("#canvas").getBoundingClientRect().top},MB.trigger=function(t,e){return $("body").trigger(t,e)},MB.lastTimestamp=function(){return MB.maxTimestamp+1},MB.safeLoading=function(t){return t===!1?$("#safemode").hide():"number"==typeof t?$("#safemode .progress").text(""):($("#safemode .text").html(t),$("#safemode .progress").text(""),$("#safemode").show())},MB.globalStateAlert=function(){return!(!MB.currentScreen.cscreenstates().length||MB.getIsGlobalActive())&&(MB.alert({title:I18N.warning,desc:I18N.global_state_alert,isHTML:!0}),!0)},MB.minFontSizeIssue=function(){if(!(MB.f.inSharing||MB.f.minFSWarned||MB.isMobile()||MB.isPhantom()))return MB.f.minFSWarned=!0,MB.alert({title:I18N.warning,desc:I18N.font_size_issue,confirmText:I18N.know_how}).then(function(){return function(t){if(t)return window.open("https://modao.cc/posts/9166")}}(this))},MB.clearPasteBoard=function(){return $("#clipboard").focus().select(),document.execCommand("copy"),setTimeout(function(){return $("#clipboard").blur()},100)},MB.refreshWorkspaceRoute=function(){if(window.parent&&window.parent!==window)try{return window.parent.history.replaceState({},"",location.pathname+location.search)}catch(t){}},MB.supportsPassive=!1;try{e=Object.defineProperty({},"passive",{get:function(){return MB.supportsPassive=!0}}),window.addEventListener("test",null,e)}catch(t){}t=function(){var t,e;return t={getItem:function(){},setItem:function(){},removeItem:function(){},clear:function(){}},e=function(){var t;try{return localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage"),!0}catch(e){return t=e,!1}},e()?localStorage:t},MB.localStorageDelegate=t()}.call(this),function(){var t,e,i;MB.SHELLS={ipad_3_4:{device:"ipad",bg:"ipad",width:881,height:1247,top:111,left:56.5},ipad_pro:{device:"ipad",bg:"ipad_pro",width:1224,height:1716,top:175,left:100},web:{device:"web",bg:"desktop",width:960,height:1200,top:0,left:0},iphone_5:{device:"iphone_5",bg:"iphone_se",width:379,height:798,top:119,left:32},iphone_6:{device:"iphone_6",bg:"iphone_7",width:435,height:888,top:114,left:30},iphone_6_plus:{device:"iphone_6_plus",bg:"iphone_7_plus",width:482,height:983,top:127,left:34},iphone_x:{device:"iphone_x",bg:"iphone_x",width:431,height:862,top:25,left:28},Huawei:{device:"huawei",bg:"huawei_p9",width:400,height:800,top:77,left:20},samsung:{device:"samsung",bg:"samsung_s7",width:398,height:804,top:85,left:19},google_pixel_2:{device:"google_pixel_2",bg:"google_pixel_2",width:481,height:956,top:112,left:35},google_pixel_2_xl:{device:"google_pixel_2_xl",bg:"google_pixel_2_xl",width:509,height:955,top:70,left:49},android:{device:"android",bg:"nexus_5",width:402,height:798,top:70,left:21}},MB.DEVICES={android:{google_nexus:{width:360,height:640,name:"Google Nexus 5"},google_pixel_2:{width:411,height:731,name:"Google Pixel 2"},google_pixel_2_xl:{width:411,height:823,name:"Google Pixel 2 XL"},samsung:{width:360,height:640,name:"Samsung S7"},Xiaomi:{width:360,height:640,name:"Xiaomi"},Huawei:{width:360,height:640,name:"Huawei P8"},Meizu:{width:360,height:600,name:"Meizu",hide:!0},google_nexus_4:{width:384,height:640,name:"Google Nexus 4",hide:!0},customize:{width:360,height:640,name:"Customize"}},iphone:{iphone_4:{width:320,height:480,scale:100,icon_size:"120x120",name:"iPhone 4",hide:!0},iphone_5:{width:320,height:568,scale:100,icon_size:"120x120",name:"iPhone 5/SE"},iphone_6:{width:375,height:667,scale:100,icon_size:"180x180",name:"iPhone 6/7/8"},iphone_6_plus:{width:414,height:736,scale:100,icon_size:"180x180",name:"iPhone 6/7/8 Plus"},iphone_x:{width:375,height:812,scale:100,icon_size:"180x180",name:"iPhone X"}},ipad:{ipad_3_4:{width:768,height:1024,scale:75,icon_size:"152x152",name:"iPad"},ipad_pro:{width:1024,height:1366,scale:75,icon_size:"152x152",name:"iPad Pro"}},web:{desktop:{width:1440,height:1024,name:"Webpage"}},"default":{iphone:"iphone_6",ipad:"ipad_3_4",android:"google_nexus"}},MB.INSPECTABLES={label:["locked","text","fs","br","border_radius","bs","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","bc","tc","o","ts","text_shadow","tsc","ds","sc","ro","padding","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],text_view:["locked","text","fs","br","border_radius","bs","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","bc","tc","o","ts","text_shadow","tsc","ds","sc","ro","padding","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","clip"],sticky:["locked","text","fs","ha","lh","bo","i","td","width","height","top","left","bg","tc","th","slw","slt","padding"],button:["locked","text","fs","br","border_radius","bs","ha","va","width","height","top","left","z","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","box_shadow","sc","ro","ls","icon","is","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],icon_button:["locked","is","icon","br","border_radius","bs","top","left","width","height","z","th","bg","bc","tc","o","ds","text_shadow","sc","ro","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],text_field:["locked","text","fs","br","border_radius","bs","ha","va","width","height","top","left","z","th","bg","bc","tc","o","ds","box_shadow","sc","ro","td","bo","i","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],mtext_input:["locked","text","fs","br","border_radius","bs","ha","width","height","top","left","z","th","bg","bc","tc","o","ds","box_shadow","sc","td","bo","i","ls","primary_fixed","fixed","fixed_type","input_type"],mtextarea:["locked","text","fs","br","border_radius","bs","ha","width","height","top","left","z","th","lh","bg","bc","tc","o","ds","box_shadow","sc","td","bo","i","ls","primary_fixed","fixed","fixed_type","padding"],mselect:["locked","text","fs","bs","width","height","top","left","z","th","bg","bc","tc","o","ds","box_shadow","sc","td","bo","i","ls","primary_fixed","fixed","fixed_type"],"switch":["locked","top","left","z","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],ios_switch:["locked","top","left","z","width","height","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],android_switch:["locked","top","left","z","width","height","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],ios_check:["locked","top","left","z","width","height","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],android_check:["locked","top","left","z","width","height","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],android_radio:["locked","top","left","z","width","height","checked","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],mcheckbox2:["locked","top","left","width","height","z","o","checked","primary_fixed","fixed","fixed_type"],mradiobutton:["locked","top","left","width","height","z","o","checked","primary_fixed","fixed","fixed_type"],mfile_input:["locked","top","left","width","height","z","o","primary_fixed","fixed","fixed_type"],image_view:["locked","bs","br","border_radius","width","height","top","left","image","z","th","bg","bc","tc","o","p","ds","box_shadow","sc","ro","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","clip","filter"],map_view:["locked","width","height","top","left","z","primary_fixed","fixed","fixed_type"],navigation_bar:["locked","text","fs","top","left","z","width","height","th","td","bo","i","bg","tc","bc","o","ts","tsc","ds","box_shadow","sc","primary_fixed","fixed","fixed_type"],nav_bar:["locked","text","fs","top","left","z","width","height","th","td","bo","i","bg","tc","bc","o","ts","tsc","ds","box_shadow","sc","primary_fixed","fixed","fixed_type"],search_bar:["locked","text","fs","top","left","width","ha","z","th","bg","tc","bc","o","ds","box_shadow","sc","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],tab_item:["locked","text","is","icon","width","left","top","fs","z","th","bg","tc","o","ds","box_shadow","sc","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],tab_bar:["locked","height","z","th","bg","bc","o","ds","box_shadow","sc","ani_name","ani_delay","ani_count","ani_duration"],hr:["locked","width","height","top","left","o","z","th","bc","ls","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],ve:["locked","width","height","top","left","o","z","th","bc","ls","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],keyboard:["locked","z","numeric","primary_fixed"],iphone_keyboard:["locked","width","height","top","left","z","numeric","primary_fixed","fixed","fixed_type"],ipad_keyboard:["locked","width","height","top","left","z","numeric","primary_fixed","fixed","fixed_type"],android_keyboard:["locked","width","height","top","left","z","numeric","primary_fixed","fixed","fixed_type"],status_bar:["locked","text","th","bg","tc","bc","o","z","primary_fixed"],ios_status_bar:["locked","text","th","bg","tc","bc","o","width","height","top","left","z","primary_fixed","fixed","fixed_type"],iphone_x_status_bar:["locked","text","th","bg","tc","bc","o","width","height","top","left","z","primary_fixed","fixed","fixed_type"],android_status_bar:["locked","text","th","bg","tc","bc","o","width","height","top","left","z","primary_fixed","fixed","fixed_type"],rectangle:["locked","height","top","left","z","th","bg","bc","o","ds","box_shadow","sc","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],rounded_rect:["locked","text","fs","br","border_radius","bs","ha","va","width","height","top","left","z","lh","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","box_shadow","sc","ro","padding","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],circle_rect:["locked","text","fs","bs","ha","va","width","height","top","left","z","lh","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","box_shadow","sc","ro","padding","ls","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],triangleb:["locked","width","height","top","left","z","th","tc","o","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],triangletl:["locked","width","height","top","left","z","th","tc","o","ro","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],lr:["locked","width","height","top","left","z","primary_fixed","fixed","fixed_type"],webpage:["locked","width","height","top","left","z","text"],pg:["locked","icon"],mtooltip:["locked","text","fs","br","border_radius","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","tc","o","ts","tsc","ds","box_shadow","sc","bs","bc","ro","padding","tt_placement","tt_offset","tt_arrow_size","primary_fixed","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"]},MB.INSPECTABLES.pg=["left","top"],MB.INSPECTABLES_VERSION="1.0",e=MB.INSPECTABLES;for(t in e)i=e[t],i.push("v");window.Spine&&(Spine.Model.prototype.refresh=function(t){var e;return e=this.constructor.irecords[this.id],e&&e.load(t),this.trigger("refresh"),this},Spine.Model.State={lsave:function(t,e){var i,n,r,o,s,a,c,l,u,d;if(null==t&&(t=!0),null==e&&(e=!0),Spine.Ajax.disable(function(t){return function(){return t.save()}}(this)),!t)return!0;if(n=this.getState("default").dup(),u=this.getState(this.screenstate_cid),u.restore(this),u.lsave(),o=MB.getIsGlobalActive&&MB.getIsGlobalActive(),!o&&"default"!==this.screenstate_cid)return!0;if(i=this.cs(),!i||!e)return!0;for(l=i.cscreenstates(),s=0,a=l.length;s<a;s++)d=l[s],d.cid!==this.screenstate_cid&&(c=this.getState(d.cid),c.exists()||"default"!==this.screenstate_cid?c.exists()&&o&&(r=c.gid,c.restore(this),c.gid=r,c.lsave(!0,!1)):(c.restore(n),c.lsave(!0,!1)));return"default"!==this.screenstate_cid&&o&&(c=this.getState("default"),r=c.gid,c.restore(this),c.gid=r,c.lsave(!0,!1)),!0},setState:function(t,e){var i,n,r,o;if(t||(t="default"),o=this.screenstate_cid||"default",o!==t)return i=this.getState("default"),i.exists()||i.lsave(!1,!1),r=this.getState(o),r.exists()&&r.restore(this),n=this.getState(t),n.exists()?this.restore(n):this.restore(i),e?(this.screenstate_cid=t,this.lsave(!1,!1)):void 0}},Spine.Model.Dirty={lsave:function(t){return null==t&&(t=!0),Spine.Ajax.disable(function(t){return function(){return t.save()}}(this)),t&&$("body").trigger("queue:add",[this,!1]),!0},ldestroy:function(t){if(null==t&&(t=!0),Spine.Ajax.disable(function(t){return function(){return t.destroy()}}(this)),t)return $("body").trigger("queue:add",[this,!0])}})}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Project=function(e){function i(){i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","_shell_type","archived","deleted","destroyed","highlight","_highlight","combo","template","wechat","duplicating","owner_id","owner_email","owner_name","owner_avatar","owner_plan","owner_paid","expired","validated","parent_cid","auto_scale","description","version","team_cid","slack_web_hook_url","channels","png_scale","pngs_scale","limitation"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){var e;return this.id=t.cid,i.__super__.load.call(this,t),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model()),void 0===this._highlight&&(this._highlight=t.highlight),this._shell_type||(this._shell_type=t.shell_type),e="web"===this.device?100:200,this.png_scale||(this.png_scale=e),this.pngs_scale||(this.pngs_scale=e)},i.prototype.cscreens=function(){return Screen.findAllByAttribute("project_cid",this.cid)},i.prototype.cteam=function(){return Team.find(this.team_cid)},i.prototype.type=function(){return this.template?"template":this.combo?"combo":"project"},i.prototype.rootScreens=function(){var t;return t=Screen.select(function(t){return function(e){return e.project_cid===t.cid&&!e.parent_cid}}(this)),t.sort(function(t,e){return t.position-e.position})},i.prototype.homeScreen=function(){return this.rootScreens()[0]},i.prototype.orient=function(){return"customize"===this.model||"web"===this.device?"portrait":this.width>this.height?"landscape":"portrait"},i.prototype.isPrivate=function(){return"private"===this.access},i.prototype.isPublic=function(){return"public"===this.access},i.prototype.isWeb=function(){return"web"===this.device},i.prototype.isAndroid=function(){return"android"===this.device&&("customize"!==this.model||this.width<=720)},i.prototype.swidth=function(t){return t===this.orient()?this.width:this.height},i.prototype.sheight=function(t){return t===this.orient()?this.height:this.width},i.prototype.deviceShell=function(){var t;return["customize","Meizu"].indexOf(this.model)!==-1||"device"!==this._shell_type?null:MB.SHELLS[this.model]||MB.SHELLS[this.device]?t=$.extend({},MB.SHELLS[this.model]||MB.SHELLS[this.device]):null},i.prototype.defaultShell=function(){var t,e,i,n,r,o;return r="none"===this._shell_type?0:12,o=this.width+2*r,n=this.height+2*r,i=this.template||this.combo||"customize"===this.model||"web"===this.device?o:Math.min(o,n),e=this.template||this.combo||"customize"===this.model||"web"===this.device?n:Math.max(o,n),t={device:"default",width:i,height:e,top:r,left:r}},i.prototype.icon_size=function(){return MB.DEVICES[this.device][this.model].icon_size},i.prototype.splash_width=function(){return MB.DEVICES[this.device][this.model].width},i.prototype.splash_height=function(){return MB.DEVICES[this.device][this.model].height},i.prototype.shell=function(){var t,e,i,n;return n=this.deviceShell()||this.defaultShell(),e=this.homeScreen(),e&&"landscape"===e.orientation&&(t=n.height,i=n.left,n.height=n.width,n.width=t,n.left=n.top,n.top=i),n},i.prototype.device_model=function(){var t,e,i,n,r;r=Math.min(this.width,this.height),t=Math.max(this.width,this.height),i=MB.DEVICES[this.device];for(e in i)if(n=i[e],r===n.width&&t===n.height)return e},i.prototype.device_name=function(){switch(this.device){case"android":return"Android";case"web":return I18N.w.webpage;default:return MB.DEVICES[this.device][this.model].name}},i.prototype.setDevice=function(){return!0},i.prototype.setup=function(){return"android"===this.device?this._setupAndroid():this._setupiOS()},i.prototype._setupAndroid=function(){return MB.COMPONENTS.status_bar.height=23,MB.COMPONENTS.nav_bar.top=23,MB.COMPONENTS.nav_bar.height=55},i.prototype._setupiOS=function(){return"iphone_x"===this.model?(MB.COMPONENTS.status_bar.height=44,MB.COMPONENTS.nav_bar.top=44,MB.COMPONENTS.nav_bar.height=45):(MB.COMPONENTS.status_bar.height=20,MB.COMPONENTS.nav_bar.top=20,MB.COMPONENTS.nav_bar.height=45)},i.prototype.isTeam=function(){return!1},i.prototype.collaborators=function(){return Collaborator.select(function(t){return function(e){return"MOCK"!==e.email&&(e.project_cid===t.cid||t.team_cid&&e.team_cid===t.team_cid)}}(this))},i.prototype.collaboratorByUid=function(t){var e,i,n,r;for(r=this.collaborators(),i=0,n=r.length;i<n;i++)if(e=r[i],e.user_id===t)return e;return null},i.prototype.roleByUid=function(t){var e;return t===this.owner_id?"admin":(e=this.collaboratorByUid(t),e?e.role:"none")},i.prototype.canEdit=function(){var t;return"admin"===(t=this.roleByUid(MB.user.id))||"editor"===t},i.prototype.canAdmin=function(){return"admin"===this.roleByUid(MB.user.id)},i.prototype.isCollaborated=function(){return this.collaborators().length>1},i.prototype.isViewOnly=function(){return this.isCollaborated()&&this.limitation.collaborators<1},i.prototype.leftPanelMode=function(){return localStorage[this.cid+"_leftPanelMode"]},i.prototype.setLeftPanelMode=function(t){return localStorage[this.cid+"_leftPanelMode"]=t},i.prototype.fixBadScreens=function(){return Screen.each(function(t){return function(e){var i;if(e.project_cid===t.cid&&e.parent_cid)return i=e.parent(),(!i||i&&i.project_cid!==t.cid)&&(MB.ga("send","event","bug","\u53d1\u73b0\u4e00\u4e2a\u6ca1\u6709\u7236\u9875\u9762\u7684\u9875\u9762: "+e.cid),e.parent_cid=null,e.lsave()),ScreenManager.fixBadScreen(e)}}(this))},i.prototype.download=function(t,e){return this.cscreens().length>0?t():(MB.currentProject=this,MB.safeLoading(I18N.load_project),MB.pusher.subscribe(this.cid),$.getJSON("/templates.json",function(i){return function(n){return Template.refresh(n.templates),Combo.refresh(n.combos),Screen.refresh(n.screens),Widget.refresh(n.widgets),Link.refresh(n.links),$.ajax({type:"GET",url:"/app/"+i.access_token+".json?password="+md5(i.password),timeout:18e4,success:function(e){var n,r,o,s,a,c,l;for(a=e.templates,n=0,o=a.length;n<o;n++)l=a[n],l.host_cid=i.cid;for(Template.refresh(e.templates),Screen.refresh(e.screens),i.fixBadScreens(),Widget.refresh(e.widgets),Link.refresh(e.links),Panel.refresh(e.panels),ScreenAlign.refresh(e.screen_aligns),Screenstate.refresh(e.screenstates),Widgetstate.refresh(e.widgetstates),Panelstate.refresh(e.panelstates),CommentThread.refresh(e.threads),Comment.refresh(e.comments),c=e.templates,r=0,s=c.length;r<s;r++)l=c[r],MB.pusher.subscribe(l.cid);return MB.pusher.open||!i.isCollaborated()?($("#safemode").hide(),t()):($("#safemode .text").text(I18N.connect_to_push_server),MB.pusher.onOpen=function(){return $("#safemode").hide(),t()})},error:e})}}(this)))},i.prototype.duplicate=function(t,e,n){var r,o,s,a,c,l,u,d,h,p,f,g,m,v,y,b,_,w,x,S,T,M,k,B,E,C,P,A,j,L,N,D,O,W,H,R,I,$,X,z,Y,F,q,U,V;for(null==t&&(t=!0),null==e&&(e=!1),null==n&&(n={}),P=this.template?"t":this.combo?"c":"p",o=P+Math.uuid(10,16)+(new Date).valueOf(),d=this.template?Template:this.combo?Combo:i,k="break_away"===this.behavior?this.name:this.name+I18N.name_copy,C=new d({name:k,access_token:Math.uuid(31),scale:this.scale,width:this.width,height:this.height,device:this.device,access:this.access,cid:o,icon:"/images/icon_normal.png",splash:this.splash,password:this.password,template:this.template,combo:this.combo,builtin:!1,master:!!t&&this.master,behavior:this.behavior,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),model:this.model,archived:!1,auto_scale:this.auto_scale,parent_cid:e?this.cid:null,shell_type:this.shell_type,team_cid:this.team_cid,owner_id:MB.user.id,owner_email:MB.user.email,owner_name:MB.user.name,owner_avatar:MB.user.avatar,
limitation:this.limitation}),this.team_cid&&(C.owner_id=this.owner_id,C.owner_email=this.owner_email,C.owner_name=this.owner_name,C.owner_avatar=this.owner_avatar),C.template&&(C.host_cid=MB.project().cid),C.lsave(),X={},p={},U={},E={},z={"default":"default"},L=this.cscreens(),l=0,f=L.length;l<f;l++)$=L[l],$.parent_cid||(a=new Screen({name:$.name,project_cid:C.cid,cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),orientation:$.orientation,position:$.position,expanded:$.expanded,width:$.width,height:$.height,hh:$.hh,fh:$.fh,bgcolor:$.bgcolor,bgimage:$.bgimage}),a.lsave(),X[$.cid]=a.cid);for(N=this.cscreens(),u=0,g=N.length;u<g;u++)r=N[u],r.parent_cid&&(s=new Screen({name:r.name,project_cid:C.cid,parent_cid:X[r.parent_cid],cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),orientation:r.orientation,position:r.position,expanded:r.expanded,width:r.width,height:r.height,hh:r.hh,fh:r.fh,bgcolor:r.bgcolor,bgimage:r.bgimage}),s.lsave(),X[r.cid]=s.cid);for(D=this.cscreens(),S=0,m=D.length;S<m;S++)for($=D[S],O=$.clinks(),T=0,v=O.length;T<v;T++)x=O[T],Y="prev"===x.target_cid?x.target_cid:X[x.target_cid],h=new Link,h.restore(x),h.load({screen_cid:X[$.cid],target_cid:Y,cid:"l"+Math.uuid(10,16)+(new Date).valueOf(),sourcestate_cid:z[x.sourcestate_cid],targetstate_cid:z[x.targetstate_cid]}),h.lsave(),p[x.cid]=h.cid;for(W=this.cscreens(),A=0,y=W.length;A<y;A++)for($=W[A],H=$.cwidgets(),j=0,b=H.length;j<b;j++)q=H[j],B=null,B=Link.exists(q.gid)?p[q.gid]:E[M=q.gid]||(E[M]=MB.nextgid(q.gid)),c=new Widget,c.restore(q),c.load({screen_cid:X[$.cid],cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),gid:B}),c.lsave(),this.template&&(U[q.cid]=c.cid);if(this.template)for(R=this.cscreens(),F=0,_=R.length;F<_;F++)for($=R[F],I=Link.findAllByAttribute("state_cid",$.cid),V=0,w=I.length;V<w;V++)x=I[V],Y="prev"===x.target_cid?x.target_cid:n[x.target_cid]||x.target_cid,h=new Link,h.restore(x),h.load({screen_cid:null,state_cid:X[x.state_cid],target_cid:Y,cid:"l"+Math.uuid(10,16)+(new Date).valueOf()}),h.lsave();return MB.pusher.subscribe(this.cid),C},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Asset=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Asset","cid","sid","user_id","width","height","image","raw","name","deleted","destroyed","uri","project_cid","timestamp","size","thumb"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t),this.sid||(this.sid=this.cid)},i.prototype.properSrc=function(){return/svg$/.test(this.image)?this.image:this.thumb||this.raw||this.image},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Assettag=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Assettag","cid","tag","asset_cids"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t),this.asset_cids||(this.asset_cids=""),this.assets_count=this.cids().length},i.prototype.cids=function(){var t,e,i,n,r;for(n=this.asset_cids.split(","),r=[],e=0,i=n.length;e<i;e++)t=n[e],t&&r.push(t);return r},i.prototype.addAsset=function(t){var e;return e=this.cids(),e.push(t),this.asset_cids=e.join(","),this.lsave()},i.prototype.removeAsset=function(t){var e,i;return e=this.cids(),i=e.indexOf(t),e.splice(i,1),this.asset_cids=e.join(","),this.lsave()},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.CoWorker=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("CoWorker","name","avatar","screen_cid","last_seen"),i.prototype.load=function(t){return i.__super__.load.call(this,t)},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Collaborator=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Collaborator","name","email","role","project_cid","avatar","cid","team_cid","user_id","channel"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t)},i.prototype.updateHostChannel=function(t){var e,i;if(this.channel&&(e=Project.find(this.project_cid)||Team.find(this.team_cid),e&&e.channels))return i=e.channels.indexOf(this.channel),i===-1&&"update"===t?e.channels.push(this.channel):i!==-1&&"destroy"===t&&e.channels.splice(i,1),e.lsave(!1)},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Combo=function(e){function i(){i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","archived","deleted","destroyed","highlight","combo","template","wechat","owner_id","owner_email","owner_name","owner_avatar","owner_plan","expired","validated","parent_cid","auto_scale","description","version","builtin","limitation"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model())},i.prototype.swidth=function(){return this.width},i.prototype.sheight=function(){return this.height},i.prototype.orient=function(){return"portrait"},i.prototype.updatePanelSize=function(t,e){return this.height=e,this.width=t,this.lsave()},i}(Project)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.CommentThread=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("CommentThread","cid","screen_cid","user_id","created_at","updated_at","left","top"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t)},i.prototype.s=function(){return $("body").data("scale")},i.prototype.getLeft=function(){return(this.left||0)*this.s()/100},i.prototype.getTop=function(){return(this.top||0)*this.s()/100},i.prototype.setLeft=function(t){return this.left=Math.round(100*t/this.s())},i.prototype.setTop=function(t){return this.top=Math.round(100*t/this.s())},i}(Spine.Model),this.Comment=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Comment","cid","thread_cid","user_id","created_at","updated_at","message"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t)},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Link=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Link","cid","target_cid","screen_cid","transition","gesture","destroyed","timer","state_cid","menu_offset","timestamp","targetstate_cid","sourcestate_cid","ani_duration","easing","ani_delay","reset","left","right","top","bottom","width","height"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){var e;return this.id=t.cid,i.__super__.load.call(this,t),this.panel_cid="",this.menu_offset||(this.menu_offset=75),this.ani_duration||(this.ani_duration=this.targetstate_cid?"0.4s":"0.2s"),this.ani_delay||(this.ani_delay=""),this.easing||(this.easing="linear"),this.sourcestate_cid||(this.sourcestate_cid="default"),this.targetstate_cid||(this.targetstate_cid=null),e=Screen.find(this.target_cid),e&&e.cp()?this.template=e.cp().template:this.template=!1},i.prototype.cs=function(){return Screen.find(this.screen_cid)},i.prototype.ts=function(){return this.target_cid?Screen.find(this.target_cid):this.targetstate_cid?Screen.find(this.screen_cid):void 0},i.prototype.cwidgets=function(){var t,e;return MB.linkCaches||(MB.linkCaches={}),t=this.cs()?this.cid+this.cs().state_cid:this.cid,MB.linkCaches[t]?MB.linkCaches[t]:(e=[],e=Widget.findAllByAttribute("gid",this.cid),e=e.concat(Panel.findAllByAttribute("gid",this.cid)),MB.linkCaches[t]=e,e)},i.prototype.delay=function(){return this.ani_duration||"0s"},i.prototype.restore=function(t){return this.transition=t.transition,this.timer=t.timer,this.menu_offset=t.menu_offset,this.gesture=t.gesture,this.ani_duration=t.ani_duration,this.ani_delay=t.ani_delay,this.target_cid=t.target_cid,this.targetstate_cid=t.targetstate_cid},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Panel=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Panel","cid","screen_cid","template_cid","top","left","width","height","name","gid","behavior","z","timestamp","v","fixed","fixed_type","main_state_cid","screenstate_cid","locked","timerFired","primary_fixed"),i.include(Spine.Model.Dirty),i.include(Spine.Model.State),i.extend(Spine.Model.Ajax),i.ATTRS=["top","left","width","height","v","fixed","fixed_type","z","gid","behavior","template_cid","timestamp","main_state_cid","locked","primary_fixed"],i.prototype.inspectables=function(){return["states","left","top","width","height","fixed","fixed_type","v","main_state_cid","locked","primary_fixed"]},i.prototype.load=function(t){var e,n,r;this.id=t.cid,n=MB.panelMigrator(t);for(e in n)r=n[e],t[e]=r;return this.moveable=!0,this.gestureable=!0,this.name="panel",i.__super__.load.call(this,t),this.timestamp||(this.timestamp=MB.lastTimestamp()),this.timestamp>MB.maxTimestamp&&(MB.maxTimestamp=this.timestamp),this.zoomable="e,w,n,s",this.ro=0,this.v!==!1&&(this.v||(this.v=!0)),this.locked||(this.locked=!1),this.primary_fixed||(this.primary_fixed=0),0!==this.z&&(this.z||(this.z=5)),this.z=Math.min(this.z,Widget.STICKY_Z),this.o||(this.o=100),this.main_state_cid||(this.main_state_cid=null),this.screenstate_cid||(this.screenstate_cid="default")},i.prototype.getState=function(t){var e;return e=Panelstate.find(t+this.cid),e||new Panelstate({cid:t+this.cid,screenstate_cid:t,panel_cid:this.cid}).restore(this)},i.prototype.restore=function(t){var e,n,r,o;for(t.screen_cid&&(this.screen_cid=t.screen_cid),o=i.ATTRS,n=0,r=o.length;n<r;n++)e=o[n],this[e]=t[e];return this},i.prototype.equals=function(t){var e,n,r,o;for(o=i.ATTRS,n=0,r=o.length;n<r;n++)if(e=o[n],this[e]!==t[e])return!1;return!0},i.prototype.ct=function(){return Template.find(this.template_cid)},i.prototype.mainState=function(){var t;return t=Screen.find(this.main_state_cid),t&&t.project_cid===this.template_cid?t:this.ct().homeScreen()},i.prototype.l=function(){return this.left},i.prototype.t=function(){return this.top},i.prototype.w=function(){return this.width},i.prototype.h=function(){return this.height},i.prototype.r=function(){return this.left+this.width},i.prototype.b=function(){return this.top+this.height},i.prototype.bR=function(){return 0},i.prototype.rect=function(){return{top:this.top,left:this.left,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}},i.prototype.s=function(){return 100},i.prototype.cs=function(){return this._cs||(this._cs=Screen.find(this.screen_cid))},i.prototype.isFooter=function(){return!1},i.prototype.inFooter=function(){return this.t()>=this.cs().footerTop()&&this.t()<=this.cs().height},i.prototype.valid=function(){var t;return t=Template.find(this.template_cid),!(!t||!t.cscreens().length)||(MB.ga("send","event","bug","\u53d1\u73b0\u4e00\u4e2a\u9875\u9762\u6ca1\u6709\u4e0b\u8f7d\u7684\u6bcd\u7248"),this.ldestroy(),!1)},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Panelstate=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Panelstate","screen_cid","cid","template_cid","top","left","width","height","name","gid","behavior","z","timestamp","v","fixed","fixed_type","main_state_cid","screenstate_cid","panel_cid","locked","primary_fixed"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){if(i.__super__.load.call(this,t),"default"!==this.screenstate_cid)return this.screen_cid=null},i}(Panel)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Preference=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Preference","cid","gt","gl","asset","at","al","rt","rl","link_line","grid","ct","cl","pt","pl","ruler","guide","app_order"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return i.__super__.load.call(this,t),this.states=!0},i}(Spine.Model)}.call(this),function(){var t,e=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){return function(t){var e;return e=t.cid,/^w_default_/.test(e)}}(this),this.Screen=function(i){function r(){r.__super__.constructor.apply(this,arguments)}return e(r,i),r.configure("Screen","cid","name","orientation","position","project_cid","parent_cid","expanded","height","hh","fh","bgcolor","bgimage","width","artboard_id","artboard_asset_id","state_cid","_widgetsByName"),r.include(Spine.Model.Dirty),r.extend(Spine.Model.Ajax),r.prototype.load=function(t){if(this.id=t.cid,r.__super__.load.call(this,t),this.project_cid||(this.project_cid=t.Project_cid),this.project_cid)return this.height||(this.height=this.cp().sheight(this.orientation||this.orient())),this.width||(this.width=this.cp().swidth(this.orientation||this.orient())),this.bgcolor||(this.bgcolor=this.dBg()),this.state_cid||(this.state_cid="default")},r.prototype.device=function(){return this.cp().device},r.prototype.scale=function(){return this.cp().scale},r.prototype.orient=function(){return"customize"===this.cp().model?this.width&&this.cp().width!==this.width?"landscape":"portrait":this.orientation.toLowerCase()},r.prototype.h=function(){return Math.round(this.height*MB.scale()/100)},r.prototype.w=function(){return Math.round(this.width*MB.scale()/100)},r.prototype.cp=function(){return Project.find(this.project_cid)||Template.find(this.project_cid)||Combo.find(this.project_cid)},r.prototype.cwidgets=function(){return Widget.findAllByAttribute("screen_cid",this.cid).sort(function(t,e){return t.timestamp-e.timestamp})},r.prototype.cpanels=function(){return Panel.findAllByAttribute("screen_cid",this.cid).sort(function(t,e){return t.timestamp-e.timestamp})},r.prototype.cscreenstates=function(){return Screenstate.findAllByAttribute("screen_cid",this.cid).sort(function(t,e){return t.timestamp-e.timestamp})},r.prototype.citems=function(){var t,e;return e=Widget.findAllByAttribute("screen_cid",this.cid),t=Panel.findAllByAttribute("screen_cid",this.cid),e.concat(t).sort(function(t,e){return t.z-e.z||t.timestamp-e.timestamp})},r.prototype.clinks=function(){return Link.select(function(t){return function(e){return e.screen_cid===t.cid&&!e.state_cid}}(this))},r.prototype.parent=function(){return r.find(this.parent_cid)},r.prototype.expandable=function(){var t,e,i,r;for(r=this,t=[r.cid];e=r.parent();)i=e.cid,n.call(t,i)>=0?(r.parent_cid=null,r.lsave()):(r=e,t.push(r.cid));return t.length<4},r.prototype.siblings=function(){var t;return t=this.parent_cid?this.parent().children():this.cp().rootScreens()},r.prototype.isLastChild=function(){var t,e;return e=this.siblings(),t=e.findIndex(function(t){return function(e){return e.cid===t.cid}}(this)),t===e.length-1},r.prototype.children=function(){var t;return t=r.select(function(t){return function(e){return e.parent_cid===t.cid}}(this)),t.sort(function(t,e){return t.position-e.position})},r.prototype.getState=function(t){return Screenstate.find(t)||new Screenstate({cid:t})},r.prototype.setState=function(t,e){var i,n;if(t!==this.state_cid)return i=this.getState(this.cid+"default"),"default"===this.state_cid&&(i.hh=this.hh,i.fh=this.fh,i.lsave(!1)),this.state_cid=t,this.lsave(!1),n=this.getState(t),this.hh=n.hh||0===n.hh?n.hh:i.hh,this.fh=n.fh||0===n.fh?n.fh:i.fh,e?this.lsave(!1):void 0},r.prototype.setOrientation=function(t){return this.orientation=t,this.height=this.cp().sheight(t),this.width=this.cp().swidth(t)},r.prototype.setup=function(t){var e,i,n,r,o,s,a,c,l,u,d,h;if(e=this.cp(),i=e.device,a=e.model,"web"!==i)return h="iphone_x"===a?"iphone_x":["iphone","ipad"].includes(i)?"ios":"android"===i?"android":void 0,u=new Widget({cid:"w_default_"+Math.uuid(10,16)+(new Date).valueOf(),name:h+"_status_bar",left:null,top:null,width:this.width,height:MB.COMPONENTS[h+"_status_bar"].height,screen_cid:this.cid}),u.lsave(),t&&(c=new Widget({cid:"w_default_"+Math.uuid(10,16)+(new Date).valueOf(),name:"nav_bar",left:null,top:MB.COMPONENTS[h+"_status_bar"].height,height:MB.COMPONENTS.nav_bar.height,text:t,width:this.width,screen_cid:this.cid}),c.lsave()),"iphone_x"===a?(d=new Widget({cid:"w_default_"+Math.uuid(10,16)+(new Date).valueOf(),screen_cid:this.cid,name:"tab_bar",width:this.width,height:34,bc:"transparent"}),d.lsave(),l="portrait"===this.orientation?[799,121,134]:[364,299,214],o=l[0],r=l[1],s=l[2],n=new Widget({cid:"w_default_"+Math.uuid(10,16)+(new Date).valueOf(),screen_cid:this.cid,name:"rounded_rect",bs:0,border_radius:"3",bg:"#000000",top:o,left:r,width:s,height:5}),n.lsave()):void 0},r.prototype.maxZ=function(){var t;return t=-Infinity,Widget.select(function(e){return function(i){var r;return i.screen_cid===e.cid&&(r=i.name,n.call(Widget.ALWAYS_ON_TOP_NAMES,r)<0)&&(t=Math.max(t,i.z)),!1}}(this)),Panel.select(function(e){return function(i){var r;return i.screen_cid===e.cid&&(r=i.name,n.call(Widget.ALWAYS_ON_TOP_NAMES,r)<0)&&(t=Math.max(t,i.z)),!1}}(this)),isFinite(t)?t:5},r.prototype.minZ=function(){var t;return t=Infinity,Widget.select(function(e){return function(i){var r;return i.screen_cid===e.cid&&(r=i.name,n.call(Widget.ALWAYS_ON_TOP_NAMES,r)<0)&&(t=Math.min(t,i.z)),!1}}(this)),Panel.select(function(e){return function(i){var r;return i.screen_cid===e.cid&&(r=i.name,n.call(Widget.ALWAYS_ON_TOP_NAMES,r)<0)&&(t=Math.min(t,i.z)),!1}}(this)),isFinite(t)?t:5},r.prototype.widgetsByName=function(){var t,e,i,n;if(!this._widgetsByName){for(this._widgetsByName={},i=this.cwidgets(),t=0,e=i.length;t<e;t++)n=i[t],this._widgetsByName[n.name]=n;this.lsave(!1)}return this._widgetsByName},r.prototype.sb=function(){return this.widgetsByName().status_bar},r.prototype.tb=function(){return this.widgetsByName().tab_bar},r.prototype.nb=function(){return this.widgetsByName().navigation_bar},r.prototype.kb=function(){return this.widgetsByName().keyboard},r.prototype.sbH=function(){return this.sb()?this.sb().height:0},r.prototype.tbH=function(){return this.tb()?this.tb().height:0},r.prototype.nbH=function(){return this.nb()?this.nb().height:0},r.prototype.kbH=function(){return"web"!==this.cp().device&&this.kb()?this.kbDH():0},r.KEYBOARDS={ipad:{portrait:[1536,526],landscape:[2048,704]},iphone:{portrait:[640,348],landscape:[1136,252]},android:{portrait:[574,354],landscape:[956,278]}},r.prototype.kbDH=function(){var t,e,i,n;return t=this.cp().device,i=r.KEYBOARDS[t][this.orient()],n=i[0],e=i[1],Math.round(e*this.width/n)},r.prototype.headerHeight=function(e){var i,n,r,o,s,a,c,l,u,d,h,p,f;return null==e&&(e=100),this.cp().template?0:isFinite(this.hh)&&null!==this.hh?this.hh*e/100:(u=this.cp(),i=u.device,a=u.model,d=this.cwidgets(),n=d[0],p=d[1],f="iphone_x"===a?"iphone_x":["iphone","ipad"].includes(i)?"ios":"android"===i?"android":"ios",s=!!n&&/_status_bar$/.test(n.name)&&t(n),h=s?MB.COMPONENTS[n.name].height:this.sbH(),r=!!p&&"nav_bar"===p.name&&t(p),l=r?MB.COMPONENTS.nav_bar.height:this.nbH(),o=!!n&&"nav_bar"===n.name&&t(n),c=o?MB.COMPONENTS.nav_bar.height+MB.COMPONENTS[f+"_status_bar"].height:null,(c||h+l)*e/100)},r.prototype.footerHeight=function(t){return null==t&&(t=100),this.cp().template||0===this.fh?0:(this.fh||Math.max(this.kbH(),this.tbH()))*t/100},r.prototype.headerHeightS=function(){return this.headerHeight(MB.scale())},r.prototype.footerHeightS=function(){return this.footerHeight(MB.scale())},r.prototype.footerTop=function(){return this.height-this.footerHeight()},r.prototype.dW=function(){return Math.round(this.cp().swidth(this.orient())*MB.scale()/100)},r.prototype.dH=function(){return Math.round(this.cp().sheight(this.orient())*MB.scale()/100)},r.prototype.dBg=function(){return"project"===this.cp().type()?MB.config.screenBg:"transparent"},r.prototype.bg=function(){return"project"===this.cp().type()&&"transparent"===this.bgcolor?MB.config.screenBg:this.bgcolor},r.prototype.eH=function(){return this.h()-this.dH()},r.prototype.splash=function(){return this.cp().splash||""},r.prototype.sa=function(){return ScreenAlign.find(this.cid)||new ScreenAlign({cid:this.cid})},r.prototype.halignLines=function(){var t,e,i,n,r;for(n=this.sa().h.split(","),r=[],t=0,i=n.length;t<i;t++)e=n[t],e&&r.push(Number(e));return r},r.prototype.valignLines=function(){var t,e,i,n,r;for(n=this.sa().v.split(","),r=[],t=0,i=n.length;t<i;t++)e=n[t],e&&r.push(Number(e));return r},r.prototype.duplicate=function(){var t,e,i,n,o,s,a,c,l,u,d,h,p,f,g,m,v,y,b,_,w,x,S,T,M,k,B,E,C,P,A,j,L,N,D,O,W,H,R,I,$,X;for(e=new r({name:this.name+" Copy",project_cid:this.project_cid,orientation:this.orientation,cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),parent_cid:this.parent_cid,width:this.width,height:this.height,hh:this.hh,fh:this.fh,bgcolor:this.bgcolor,bgimage:this.bgimage,state_cid:"default",position:this.position+1,artboard_id:this.artboard_id,artboard_asset_id:this.artboard_asset_id}),e.lsave(),(W=ScreenAlign.find(this.cid))&&(i=new ScreenAlign({cid:e.cid,h:W.h,v:W.v}),i.lsave()),l={},B={},R={"default":"default"},A=this.cscreenstates(),o=0,u=A.length;o<u;o++)H=A[o],T=new Screenstate({screen_cid:e.cid,name:H.name,timestamp:H.timestamp,cid:"ss"+Math.uuid(10,16)+(new Date).valueOf()}),T.lsave(),R[H.cid]=T.cid;for(j=this.clinks(),s=0,d=j.length;s<d;s++)m=j[s],c=new Link,c.restore(m),c.load({screen_cid:e.cid,cid:"l"+Math.uuid(10,16)+(new Date).valueOf(),sourcestate_cid:R[m.sourcestate_cid],targetstate_cid:R[m.targetstate_cid]}),c.lsave(),l[m.cid]=c.cid;for(L=this.cwidgets(),a=0,h=L.length;a<h;a++)for($=L[a],$.setState("default",!1),k=null,k=Link.exists($.gid)?l[$.gid]:B[b=$.gid]||(B[b]=MB.nextgid($.gid)),n=new Widget,n.restore($),n.load({screen_cid:e.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),gid:k}),n.lsave(),N=Widgetstate.findAllByAttribute("widget_cid",$.cid),v=0,p=N.length;v<p;v++)X=N[v],R[X.screenstate_cid]&&"default"!==X.screenstate_cid&&(k=Link.exists(X.gid)?l[X.gid]:B[_=X.gid]||(B[_]=MB.nextgid(X.gid)),M=new Widgetstate,M.restore(X),M.load({cid:R[X.screenstate_cid]+n.cid,screenstate_cid:R[X.screenstate_cid],widget_cid:n.cid,gid:k}),M.lsave());for(D=this.cpanels(),y=0,f=D.length;y<f;y++)for(E=D[y],E.setState("default",!1),k=null,k=Link.exists(E.gid)?l[E.gid]:B[w=E.gid]||(B[w]=MB.nextgid(E.gid)),I=Template.find(E.template_cid),"break_away"===I.behavior&&(I=I.duplicate(!1)),t=new Panel,t.restore(E),t.load({screen_cid:e.cid,cid:"p"+Math.uuid(10,16)+(new Date).valueOf(),template_cid:I.cid,gid:k}),t.lsave(),O=Panelstate.findAllByAttribute("panel_cid",E.cid),P=0,g=O.length;P<g;P++)C=O[P],R[C.screenstate_cid]&&"default"!==C.screenstate_cid&&(S=new Panelstate,S.restore(C),k=Link.exists(C.gid)?l[C.gid]:B[x=C.gid]||(B[x]=MB.nextgid(C.gid)),S.load({cid:R[C.screenstate_cid]+t.cid,template_cid:t.template_cid,screenstate_cid:R[C.screenstate_cid],panel_cid:t.cid,gid:k}),S.lsave());return e},r.prototype.getRealBgImage=function(){var t;return t=Asset.find(this.bgimage),t?t.image||t.raw:this.bgimage},r.prototype.detectConflict=function(t){var e,i,n,r,o,s,a,c;for(s=t?[t]:this.clinks(),e=0,r=s.length;e<r;e++)if(n=s[e],["up","down"].indexOf(n.gesture)!==-1){if(this.height>this.dH())return void MB.alert({title:I18N.gesture_conflict,desc:I18N.vertical_conflict})}else if(["left","right"].indexOf(n.gesture)!==-1)for(c=this.cpanels(),i=0,o=c.length;i<o;i++)if(a=c[i],a.width<a.ct().width)return void MB.alert({title:I18N.gesture_conflict,desc:I18N.horizontal_conflict})},r}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.ScreenAlign=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("screen_align","cid","h","v"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return i.__super__.load.call(this,t),this.h||(this.h=""),this.v||(this.v="")},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Screenstate=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Screenstate","cid","name","screen_cid","timestamp","hh","fh"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t)},i.prototype.cs=function(){return Screen.find(this.screen_cid)},i.prototype.widgetStates=function(){return Widgetstate.findAllByAttribute("screenstate_cid",this.cid)},i.prototype.panelStates=function(){return Panelstate.findAllByAttribute("screenstate_cid",this.cid)},i.prototype.stateLinks=function(){return Link.select(function(t){return function(e){return e.sourcestate_cid===t.cid||e.targetstate_cid===t.cid}}(this))},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Team=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Team","name","icon","cid","owner_id","owner_email","owner_name","owner_avatar","color","updated_at","created_at","channels","limitation"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t)},i.prototype.cprojects=function(){return Project.select(function(t){return function(e){return e.team_cid===t.cid&&!e.deleted&&!e.template&&!e.combo&&e.screens_count}}(this))},i.prototype.collaborators=function(){return Collaborator.select(function(t){return function(e){return"MOCK"!==e.email&&e.team_cid===t.cid}}(this))},i.prototype.collaboratorByUid=function(t){var e,i,n,r;for(r=this.collaborators(),i=0,n=r.length;i<n;i++)if(e=r[i],e.user_id===t)return e;return null},i.prototype.roleByUid=function(t){var e;return t===this.owner_id?"admin":(e=this.collaboratorByUid(t),e?e.role:"none")},i.prototype.canAdmin=function(){return"admin"===this.roleByUid(MB.user.id)},i.prototype.isTeam=function(){return!0},i.prototype.colorO=function(t){return this.color.replace("RGB","RGBA").replace(")",","+t+")")},i}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Template=function(e){function i(){i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","archived","deleted","destroyed","highlight","combo","template","wechat","owner_id","owner_email","owner_name","owner_avatar","owner_plan","expired","validated","parent_cid","auto_scale","description","version","team_cid","builtin","master","behavior","host_cid","limitation"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.masters=function(){return this.select(function(t){return t.master&&!t.deleted})},i.prototype.load=function(t){return this.id=t.cid,i.__super__.load.call(this,t),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model())},i.prototype.swidth=function(){return this.width},i.prototype.sheight=function(){return this.height},i.prototype.orient=function(){return"portrait"},i.prototype.updatePanelSize=function(t,e){var i,n,r,o,s,a,c,l;for(a=Panel.findAllByAttribute("template_cid",this.cid),i=0,r=a.length;i<r;i++)s=a[i],s.height=e,s.width===this.width&&(s.width=t),s.lsave();for(c=this.cscreens(),n=0,o=c.length;n<o;n++)l=c[n],l.height=e,l.width=t,l.lsave();return this.height=e,this.width=t,this.lsave()},i}(Project)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};this.Widget=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.configure("Widget","screen_cid","name","text","icon","top","left","width","height","cid","fs","br","border_radius","bs","is","ha","va","image","z","th","lh","o","ds","box_shadow","sc","bg","tc","bc","bo","i","td","f","ts","text_shadow","tsc","p","destroyed","ro","gid","timestamp","padding","ls","checked","numeric","tt_placement","tt_offset","tt_arrow_size","v","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","screenstate_cid","input_type","slw","slt","clip","filter","locked","_ratio","_isPanelWidget","primary_fixed"),n.include(Spine.Model.Dirty),n.include(Spine.Model.State),n.extend(Spine.Model.Ajax),n.ATTRS=["name","text","icon","width","height","left","top","gid","timestamp","fs","is","bs","br","border_radius","va","ha","lh","z","th","image","bg","tc","bc","ds","box_shadow","sc","ts","text_shadow","tsc","o","bo","i","td","p","ro","ls","padding","checked","numeric","v","fixed","fixed_type","tt_placement","tt_offset","tt_arrow_size","ani_name","ani_delay","ani_count","ani_duration","input_type","slw","slt","clip","filter","locked","primary_fixed"],n.FIXED_TYPE={not_fixed:0,top:1,bottom:2},n.MAXZ=Math.pow(2,29)-1,n.STICKY_Z=Math.pow(2,30)-1,n.ALWAYS_ON_TOP_NAMES=["sticky","pg"],n.prototype.load=function(t){var e,r,o,s,a;this.id=t.cid,o=MB.widgetMigrator(t);for(e in o)a=o[e],t[e]=a;if(n.__super__.load.call(this,t),this.box_shadow&&(this.box_shadow=this.repairShadow(this.box_shadow)),this.text_shadow&&(this.text_shadow=this.repairShadow(this.text_shadow)),this.multiline=["text_view","sticky","rounded_rect","circle_rect","mtooltip","mselect"].indexOf(this.name)!==-1,this.richedit=["label","text_view","sticky","rounded_rect","circle_rect","mtooltip"].indexOf(this.name)!==-1,this.iconic=["icon_button","tab_item"].includes(this.name)||"button"===this.name&&!!this.icon,this.moveable=["status_bar","tab_bar","keyboard"].indexOf(this.name)===-1,this.gestureable=["pg","lr","image_view","rectangle","rounded_rect","circle_rect"].indexOf(this.name)!==-1,"mcheckbox"===this.name&&(this.name="mcheckbox2"),MB.COMPONENTS[this.name]?this.zoomable=MB.COMPONENTS[this.name].zoomable||"n,s,e,w,ne,nw,se,sw":this.zoomable=" ",["text_field"].indexOf(this.name)!==-1&&(this.zoomable="n,s,e,w,ne,nw,se,sw"),
r=MB.COMPONENTS[this.name],r&&("number"!=typeof this.fs&&(this.fs=r.fs),"number"!=typeof this.is&&(this.is=r.is),"number"!=typeof this.bs&&(this.bs=r.bs),this.ha||(this.ha=r.ha),this.va||(this.va=r.va),0!==this.z&&(this.z||(this.z=r.z)),r.lh&&(this.lh||(this.lh=Math.floor(this.fs*r.lh))),this.padding||(this.padding=r.padding)),this.text||(this.text=""),"label"===this.name&&(this.text=this.text.replace(/\n$/,"")),this.autoWidth="label"===this.name,this.autoHeight=["mtooltip","text_view","sticky"].indexOf(this.name)!==-1,this.th||(this.th="status_bar"===this.name?"light":""),0!==this.o&&(this.o||(this.o=100)),this.ds||(this.ds=0),this.bs||(this.bs=0),this.border_radius||(this.border_radius=""),this.sc||(this.sc=MB.currentProject&&MB.currentProject.isAndroid()?"#222222":"#aaaaaa"),this.ts||(this.ts=0),this.tsc||(this.tsc="#aaaaaa"),this.bo||(this.bo=0),this.i||(this.i=0),this.td||(this.td="normal"),this.bg||(this.bg=""),this.tc||(this.tc=""),this.bc||(this.bc=""),0!==this.z&&(this.z||(this.z=5)),this.ro||(this.ro=0),this.ls||(this.ls=0),this.filter||(this.filter=""),this.input_type||(this.input_type="text"),this.timestamp||(this.timestamp=MB.lastTimestamp()),this.timestamp>MB.maxTimestamp&&(MB.maxTimestamp=this.timestamp),this.padding||(this.padding=0),this.checked!==!1&&(this.checked||(this.checked=!0)),this.numeric||(this.numeric=!1),this.v!==!1&&(this.v||(this.v=!0)),this.p!==!1&&(this.p||(this.p=!0)),this.locked||(this.locked=!1),this.primary_fixed||(this.primary_fixed=0),this.tt_placement||(this.tt_placement="left"),this.tt_offset||(this.tt_offset=10),this.tt_arrow_size||(this.tt_arrow_size=10),this.screenstate_cid||(this.screenstate_cid="default"),this.ani_name||(this.ani_name="none"),this.slt||(this.slt=20),this.slw||(this.slw=50),s=this.name,i.call(n.ALWAYS_ON_TOP_NAMES,s)>=0&&(this.z=n.STICKY_Z),"label"===this.name&&/\n/.test(this.text))return this.name="text_view",this.lsave()},n.prototype.repairShadow=function(t){var e,i,n;try{return n=JSON.parse(t),i=[],i[0]=n[0].map(function(t,e){for(;t.indexOf&&t.indexOf("[[")>-1;)t=JSON.parse(t)[0][e];return t}),JSON.stringify(i).replace(/#rgba/,"rgba")}catch(t){return e=t,""}},n.prototype.cs=function(){return this._cs||(this._cs=Screen.find(this.screen_cid))},n.prototype.isFullWidth=function(){return["status_bar","tab_bar","keyboard"].indexOf(this.name)!==-1},n.prototype.isFooter=function(){return["tab_bar","keyboard"].indexOf(this.name)!==-1},n.prototype.inFooter=function(){return!this.isFooter()&&(0!==this.cs().footerHeight()&&(this.t()>=this.cs().footerTop()&&this.t()<=this.cs().height))},n.prototype.getState=function(t){var e;return e=Widgetstate.find(t+this.cid),e||new Widgetstate({cid:t+this.cid,screenstate_cid:t,widget_cid:this.cid}).restore(this)},n.prototype.restore=function(t){var e,i,r,o;for(t.screen_cid&&(this.screen_cid=t.screen_cid),o=n.ATTRS,i=0,r=o.length;i<r;i++)e=o[i],this[e]=t[e];return this},n.prototype.equals=function(t){var e,i,r,o;for(o=n.ATTRS,i=0,r=o.length;i<r;i++)if(e=o[i],this[e]!==t[e])return!1;return!0},n.prototype.styleEquals=function(t){var e,r,o,s,a;for(r="sticky"===t.name?[]:["top","left"],a=n.ATTRS,o=0,s=a.length;o<s;o++)if(e=a[o],i.call(r,e)<0&&this[e]!==t[e])return!1;return!0},n.prototype.status_bar_t=function(){return 0},n.prototype.keyboard_t=function(){return this.cs()?this.cs().height-this.height:null},n.prototype.tab_bar_t=function(){return this.cs()?this.cs().height-this.height:null},n.prototype.navigation_bar_t=function(){return this.cs()?this.cs().sbH():null},n.prototype.t=function(){return"navigation_bar"!==this.name||this.top?this.moveable?this.top:this[this.name+"_t"]():this.navigation_bar_t()},n.prototype.l=function(){return this.left||0},n.prototype.w=function(){return this.isFullWidth()&&this.cs()?this.cs().width:this.width},n.prototype.h=function(){return this.height},n.prototype.r=function(){return this.l()+this.w()},n.prototype.b=function(){return this.t()+this.h()},n.prototype.rect=function(){return this.ro?this._rotateRect():{top:this.t(),left:this.l(),width:this.w(),height:this.h(),right:this.r(),bottom:this.b()}},n.prototype._rotateRect=function(){var t,e,i,n,r,o,s,a,c,l,u,d,h,p;return o=MB.atan2(this.width,this.height),c=o-this.ro,l=c-2*o,u=c+180,d=l+180,e=this.left+this.width/2,i=this.top+this.height/2,r=MB.hypotenuse(this.width/2,this.height/2),s=h=Infinity,a=t=-Infinity,[c,l,u,d].forEach(function(n){var o,c;if(o=Math.round(e+r*MB.cos(n)),c=Math.round(i+r*MB.sin(n)),o<s&&(s=o),c<h&&(h=c),o>a&&(a=o),c>t)return t=c}),p=a-s,n=t-h,{top:h,left:s,width:p,height:n,right:a,bottom:t}},n.prototype.s=function(){return 100},n.prototype.fS=function(){var t;return t=(this.fs||0).toFixed(1),t<MB.config.minFS&&t>0&&MB.minFontSizeIssue(),t},n.prototype.bS=function(){return this.bs?Math.floor(this.bs)||1:0},n.prototype.iS=function(){return Math.round(this.is)},n.prototype.lH=function(){return Math.round(this.lh)},n.prototype.paddingS=function(){return Math.round(this.padding)},n.prototype.lineStyle=function(){return["solid","dotted","dashed"][this.ls]},n.prototype.arrowSize=function(){return Math.round(this.tt_arrow_size)},n.prototype.ttOffset=function(){return Math.round(this.tt_offset)},n.prototype.borderRadiusStr=function(){return this.border_radius.split(",").map(function(t){return(parseInt(t)||0)+"px"}).join(" ")},n.prototype.inspectables=function(){return MB.INSPECTABLES[this.name]},n.prototype._textWidth=function(){var t,e;return e=document.getElementById("font-preload"),MB.currentProject&&(e.className=MB.currentProject.device),$("#font-preload .aw").css("font-size",this.fs),$("#font-preload .aw").css("font-weight",this.bo?"bold":"normal"),t=$("#font-preload .aw").html(this.text).width()+1+2*this.padding+2*this.bs,t<20&&(t=20),t},n.prototype.textHeight=function(){return this._textHeight(this.text)},n.prototype._textHeight=function(t){var e,i,n,r,o;return o=this.width-2*this.padding-2*this.bs,"mtooltip"===this.name&&["left","right"].indexOf(this.tt_placement)!==-1&&(o-=10),n=this.bo?"bold":"normal",i=document.getElementById("font-preload"),MB.currentProject&&(i.className=MB.currentProject.device),e=i.getElementsByClassName("ah")[0],e.style.fontSize!==this.fs+"px"&&(e.style.fontSize=this.fs+"px"),e.style.width!==o+"px"&&(e.style.width=o+"px"),e.style.lineHeight!==this.lh+"px"&&(e.style.lineHeight=this.lh+"px"),e.style.fontWeight!==n&&(e.style.fontWeight=n),e.innerHTML=MB.v.multiline(t),r=e.offsetHeight+2*this.padding+2*this.bs,r<10&&(r=10),r},n.prototype.minWidth=function(){return["label","button"].indexOf(this.name)!==-1?this._textWidth():10},n.prototype.minHeight=function(){return["label","button"].indexOf(this.name)!==-1?this.lh+2*this.padding+2*this.bs:["mtooltip","text_view","sticky"].indexOf(this.name)!==-1?this.textHeight():10},n.prototype.initialWidth=function(){return["label"].indexOf(this.name)!==-1?this._textWidth():null},n.prototype.initialHeight=function(){return["mtooltip","text_view"].indexOf(this.name)!==-1?this.textHeight():null},n.prototype.clipType=function(){var t;return this.clip?(t=/(.*?)\(/.exec(this.clip)[1],t.charAt(0).toUpperCase()+t.slice(1)):null},n.prototype.clipPolygonPoints=function(){var t,e,i,n,r;for(n=this.clip.split(","),r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(i.replace(/[^\d\s\%]/g,""));return r},n.prototype.clipInsetPoints=function(){var t,e,i,n,r;for(n=this.clip.split(/\s/),r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(parseInt(i.replace(/[^\d]/g,"")));return r},n.prototype.clipCenter=function(){var t;return t=/at (\d*?)\% (\d*?)\%/.exec(this.clip)||[50,50],{x:parseInt(t[1]),y:parseInt(t[2])}},n.prototype.clipCRadius=function(){return parseInt(/(\d*?)\% at/.exec(this.clip)[1])},n.prototype.clipXRadius=function(){return parseInt(/(\d*?)\% (\d*?)\% at/.exec(this.clip)[1])},n.prototype.clipYRadius=function(){return parseInt(/(\d*?)\% (\d*?)\% at/.exec(this.clip)[2])},n.prototype.setClipPoint=function(t,e,i){return"number"==typeof t?this.set_poly_point(t,e):this["set_clip_"+t](e,i)},n.prototype.set_clip_xradius=function(t){var e,i;return e=this.clipCenter(),i=Math.round(Math.abs(e.x-t.left)),this.clip="ellipse("+i+"% "+this.clipYRadius()+"% at "+e.x+"% "+e.y+"%)"},n.prototype.set_clip_yradius=function(t){var e,i;return e=this.clipCenter(),i=Math.round(Math.abs(e.y-t.top)),this.clip="ellipse("+this.clipXRadius()+"% "+i+"% at "+e.x+"% "+e.y+"%)"},n.prototype.set_clip_cradius=function(t,e){var i,n,r,o,s,a,c;return i=this.clipCenter(),r=this.w()*i.x/100,o=this.h()*i.y/100,a=e.left-r,c=e.top-o,s=Math.sqrt(Math.pow(a,2)+Math.pow(c,2)),n=Math.round(s/(this.w()+this.h())*200),this.clip="circle("+n+"% at "+i.x+"% "+i.y+"%)"},n.prototype.set_clip_ccenter=function(t){return this.clip="circle("+this.clipCRadius()+"% at "+t.left+"% "+t.top+"%)"},n.prototype.set_clip_ecenter=function(t){return this.clip="ellipse("+this.clipXRadius()+"% "+this.clipYRadius()+"% at "+t.left+"% "+t.top+"%)"},n.prototype.set_clip_linset=function(t){var e;return e=this.clipInsetPoints(),this.clip="inset("+e[0]+"% "+e[1]+"% "+e[2]+"% "+t.left+"%)"},n.prototype.set_clip_tinset=function(t){var e;return e=this.clipInsetPoints(),this.clip="inset("+t.top+"% "+e[1]+"% "+e[2]+"% "+e[3]+"%)"},n.prototype.set_clip_rinset=function(t){var e;return e=this.clipInsetPoints(),this.clip="inset("+e[0]+"% "+(100-t.left)+"% "+e[2]+"% "+e[3]+"%)"},n.prototype.set_clip_binset=function(t){var e;return e=this.clipInsetPoints(),this.clip="inset("+e[0]+"% "+e[1]+"% "+(100-t.top)+"% "+e[3]+"%)"},n.prototype.set_clip_cinset=function(t){var e,i,n;return e=this.clipInsetPoints(),i=(100-e[1]-e[3])/2,n=(100-e[0]-e[2])/2,t.top>100-n&&(t.top=100-n),t.top<n&&(t.top=n),t.left>100-i&&(t.left=100-i),t.left<i&&(t.left=i),this.clip="inset("+(t.top-n)+"% "+(100-t.left-i)+"% "+(100-t.top-n)+"% "+(t.left-i)+"%)"},n.prototype.set_poly_point=function(t,e){var i;return i=this.clipPolygonPoints(),i[t]=e.left+"% "+e.top+"%",this.clip="polygon("+i.join(",")+")"},n.prototype.get_icon=function(t,e){var i,n,r,o,s,a,c;return c=/^(fa|md|mb|ci)\-/,n=c.test(this.icon),r=(this.icon||"").replace(c,""),s=n?this.icon.split("-")[0]:"fa",a="mb"===s?"icon":s,o=a+"-"+r,i=s+" "+o,!MB.isPhantom()&&t&&"fa-spinner"===o&&(i+=" is-spinning"),'<span class="icon '+i+'" style="'+e+'">'+("md"===s?r:"")+"</span>"},n}(Spine.Model)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.Widgetstate=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.configure("Widgetstate","screen_cid","name","text","icon","top","left","width","height","cid","fs","br","border_radius","bs","is","ha","va","image","z","th","lh","o","ds","box_shadow","sc","bg","tc","bc","bo","i","td","f","ts","text_shadow","tsc","p","destroyed","ro","gid","timestamp","padding","ls","checked","numeric","tt_placement","tt_offset","tt_arrow_size","v","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","screenstate_cid","widget_cid","input_type","slt","slw","clip","filter","locked","primary_fixed"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.serverCount=function(){return this.records.reduce(function(t,e){return t+="d"!==e.screenstate_cid[0]?1:0},0)},i.prototype.load=function(t){if(i.__super__.load.call(this,t),"default"!==this.screenstate_cid&&(this.screen_cid=null),"label"===this.name&&/\n/.test(this.text))return this.name="text_view",this.lsave()},i}(Widget)}.call(this),function(){var t,e,i;MB.PanelState=function(t,e){var i,n,r,o,s,a,c,l;for(s="state"+t.panel_cid+t.cid+"p",n="pstate state",e&&(n+=" active"),i=t.bgimage?"background-image:url("+t.getRealBgImage()+");":"",r="",c=t.cwidgets(),o=0,a=c.length;o<a;o++)l=c[o],"sticky"!==l.name&&("pg"===l.name&&(l.top=l.left=null),r+=MB.widget(l,t.panel_cid+"p"));return'<div id="'+s+'" class="'+n+'" data-cid="'+t.cid+'" style="background-color:'+t.bgcolor+";width:"+t.w()+"px;height:"+t.h()+"px;"+i+'"><div class="pwidgets"><div class="pscontainer">'+r+"</div></div></div>"},t=function(t){var e,i,n,r,o;return r=["left:"+t.l()+"px","width:"+t.w()+"px","height:"+t.h()+"px"],t.primary_fixed?(r.push("position:fixed"),t.primary_fixed===Widget.FIXED_TYPE.bottom?r.push("bottom:"+(t.cs().height-t.b())+"px"):r.push("top:"+t.t()+"px")):r.push("top:"+t.t()+"px"),o=t.z,r.push("z-index:"+o),n=t.v?1:0,r.push("opacity:"+n),t.v&&(i=t.mainState())&&(e=i.width>t.width||i.height>t.height,e&&r.push("pointer-events:auto")),r.join(";")},MB.PanelPreview=function(e){var i,n,r,o,s,a,c;return i="ppanel panel",(o=Link.find(e.gid))&&e.v?(i+=" clickable",s=o.cid,r="tap"!==o.gesture?o.gesture:"",a="<div class='region gesture "+r+"'></div>"):(n="",s=null,a=""),c=e.mainState(),c.panel_cid=e.cid,'<div id="panel'+e.cid+'p" class="'+i+'" data-cid="'+e.cid+'" data-link_cid="'+s+'" style="'+t(e)+'">\n  '+MB.PanelState(c,!0)+"\n  "+a+"\n</div>"},MB.PanelProjectFlow=function(t){var n;return n=t.mainState(),n.panel_cid=t.cid,'<div id="panel'+t.cid+'p" class="panel" data-cid="'+t.cid+'" style="'+e(t)+'">\n  '+i(n)+"\n</div>"},e=function(t){var e,i,n,r,o;return o=t.z,n=t.v?1:0,r="top:"+t.t()+"px;left:"+t.l()+"px;width:"+t.w()+"px;height:"+t.h()+"px;z-index:"+o+";opacity:"+n+";",t.v&&(i=t.mainState())&&(e=i.width>t.width||i.height>t.height,e&&(r+="pointer-events:auto;")),r},i=function(t){var e,i,n,r,o,s,a,c,l;for(o="state"+t.panel_cid+t.cid+"p",i="pstate state active",e=t.bgimage?"background-image:url("+t.getRealBgImage()+");":"",n="",a=t.cwidgets(),r=0,s=a.length;r<s;r++)l=a[r],"sticky"!==(c=l.name)&&"pg"!==c&&"lr"!==c&&(n+=MB.widget(l,t.panel_cid));return'<div id="'+o+'" class="'+i+'" data-cid="'+t.cid+'" style="background-color:'+t.bgcolor+";width:"+t.w()+"px;height:"+t.h()+"px;"+e+'"><div class="pwidgets"><div class="pscontainer">'+n+"</div></div></div>"}}.call(this),function(){var t,e,i,n,r;e='<svg xmlns="http://www.w3.org/2000/svg" width="17" height="12"><path d="M1.25 6.5h1a1 1 0 0 1 1 1V10a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V7.5a1 1 0 0 1 1-1zM5.75 5h1a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm4.5-2h1a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm4.5-2h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z" fill-rule="evenodd"/></svg>',i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="12"><path d="M8.007 2.787a8.64 8.64 0 0 1 5.953 2.379c.12.118.314.116.433-.004l1.156-1.166a.322.322 0 0 0-.003-.456 10.897 10.897 0 0 0-15.08 0 .322.322 0 0 0-.003.456L1.62 5.162c.119.12.312.122.433.004a8.641 8.641 0 0 1 5.954-2.379zm0 3.796c1.217 0 2.391.452 3.294 1.27a.31.31 0 0 0 .433-.006l1.155-1.167a.322.322 0 0 0-.005-.459 7.16 7.16 0 0 0-9.752 0 .322.322 0 0 0-.005.46l1.155 1.166a.31.31 0 0 0 .433.006 4.907 4.907 0 0 1 3.292-1.27zm2.219 2.784a.314.314 0 0 0-.01-.457 3.422 3.422 0 0 0-4.42 0 .314.314 0 0 0-.009.457l1.998 2.016a.312.312 0 0 0 .443 0l1.998-2.016z" fill-rule="nonzero"/></svg>',t='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="12"><path d="M2.667 1.333C1.747 1.333 1 2.08 1 3v6c0 .92.746 1.667 1.667 1.667h16.666C20.253 10.667 21 9.92 21 9V3c0-.92-.746-1.667-1.667-1.667H2.667zm0-1h16.666A2.667 2.667 0 0 1 22 3v6a2.667 2.667 0 0 1-2.667 2.667H2.667A2.667 2.667 0 0 1 0 9V3A2.667 2.667 0 0 1 2.667.333z" opacity=".35"/><path d="M23 4v4a2.17 2.17 0 0 0 0-4" opacity=".4"/><rect x="2" y="2.333" width="18" height="7.333" rx="1.333"/></svg>',n={},MB.v.multiline=function(t){var e,i,n,r,o;if(/^<p>/.test(t))return e=t.replace(/\n/g,"");for(e="",r=t.split(/\n/),i=0,n=r.length;i<n;i++)o=r[i],o||(o="&nbsp;"),e+="<p>"+o+"</p>";return e},n.text_field=n.navigation_bar=n.nav_bar=function(t){return'<span class="text">'+t.text+"</span>"},n.mtext_input=function(t,e){var i;return i=/p$/.test(e)?"":'readonly="readonly"','<input type="'+t.input_type+'" placeholder="'+t.text+'" '+i+"></input>"},n.mtextarea=function(t,e){var i,n,r,o;return i=/p$/.test(e)?"":'readonly="readonly"',n=Math.round(t.padding*t.s()/100),o=Math.round(n-(t.lh-t.fs)/2),o<0&&(o=0),r="padding:"+o+"px "+n+"px;",'<textarea style="'+r+'" placeholder="'+t.text+'" '+i+"></textarea>"},n.mcheckbox2=function(t){var e;return e=t.checked?'checked="true"':"",'<input type="checkbox" '+e+"></input>"},n.mfile_input=function(t,e){var i;return i=/p$/.test(e)?"onclick='MB.config.fileSelecting = true;'":"",'<input type="file" '+i+"></input>"},n.mradiobutton=function(t){var e;return e=t.checked?'checked="true"':"",'<input type="radio" name="'+t.gid+'" '+e+"></input>"},n.mselect=function(t){var e,i;return i=function(){var i,n,r,o;for(r=t.text.split(/\n/),o=[],i=0,n=r.length;i<n;i++)e=r[i],o.push("<option>"+e+"</option>");return o}().join(""),"<select>"+i+"</select>"},n.button=function(t){return'<div class="button-wrapper">\n  '+(t.icon?t.get_icon(!0,"font-size:"+t.iS()+"px;"):"")+'\n  <span class="text">'+t.text+"</span>\n</div>"},n.hr=function(t){var e;return e=t.h()-10*t.s()/100,e<1&&(e=1),'<span style="border-top-width: '+e+'px;"></span>'},n.ve=function(t){var e;return e=t.w()-10*t.s()/100,e<1&&(e=1),'<span style="border-left-width: '+e+'px;"></span>'},n.triangleb=function(t){var e,i,n;return n=[[t.width/2,0],[t.width,t.height],[0,t.height]],e="M "+function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(i.join(" "));return r}().join(" L ")+" Z",'<svg xmlns="http://www.w3.org/2000/svg"><path d="'+e+'"></path></svg>'},n.triangletl=function(t){var e,i,n;return n=[[0,0],[t.width,0],[0,t.height]],e="M "+function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(i.join(" "));return r}().join(" L ")+" Z",'<svg xmlns="http://www.w3.org/2000/svg"><path d="'+e+'"></path></svg>'},n.lr=n.tab_bar=n.rectangle=function(){return"<span></span>"},n.image_view=function(t){var e,i,n,r,o,s;return n=t.p?"auto":"100%",o="",t.image&&("i"===t.image[0]&&t.image.indexOf("images")===-1?(e=Asset.find(t.image),e&&(e.raw||e.image)&&(o="src='"+(e.image||e.raw)+"'")):o="src='"+t.image+"'"),o?(r="none",i="block"):(i="none",r="flex"),s="height:"+n+";display:"+i+";",t.filter.trim()&&(s+="filter:"+t.filter.trim()+";-webkit-filter:"+t.filter.trim()+";"),'<div class="image-wrapper">\n  <span style="background-color:'+t.bg+";display:"+r+';">\n    <i class="icon-widget-img"></i>\n  </span>\n  <div class="wrapper">\n    <img draggable="false" '+o+' style="'+s+'"/>\n  </div>\n</div>'},n.webpage=function(t){return'<div class="webpage-wrapper">\n  <span class="text">'+t.text+'</span>\n  <p class="notice">'+I18N.https_only+'</p>\n  <iframe class="iframe"></iframe>\n</div>'},n.video_view=function(){return'<span><i class="fa fa-play-circle-o"></i></span>'},n.keyboard=function(t){var e,i,n,r;return e=MB.project().device,r=t.numeric?"n":"r",i=t.cs().orientation,n="images/keyboards/"+e+"_"+r+"_"+i+".png",'<img draggable="false" src=\''+n+'\' class="keyboard-img" alt="keyboard"/>'},n.iphone_keyboard=function(t){var e,i,n;return n=t.numeric?"n":"r",e=t.cs().orientation,i="images/keyboards/iphone_"+n+"_"+e+".png",'<img draggable="false" src=\''+i+'\' class="keyboard-img" alt="keyboard"/>'},n.ipad_keyboard=function(t){var e,i,n;return n=t.numeric?"n":"r",e=t.cs().orientation,i="images/keyboards/ipad_"+n+"_"+e+".png",'<img draggable="false" src=\''+i+'\' class="keyboard-img" alt="keyboard"/>'},n.android_keyboard=function(t){var e,i,n;return n=t.numeric?"n":"r",e=t.cs().orientation,i="images/keyboards/android_"+n+"_"+e+".png",'<img draggable="false" src=\''+i+'\' class="keyboard-img" alt="keyboard"/>'},n.map_view=function(){return'<div class="image design">\n  <img draggable="false" src="'+MB.staticMap()+'"/>\n</div>'},n.search_bar=function(t,e){var i;return i=/p$/.test(e)?"":'readonly="readonly"','<div>\n  <div class="text_edit">\n    <input type="text" '+i+' placeholder="'+t.text+'"></input>\n  </div>\n  <i class="fa fa-search"></i>\n</div>'},n.status_bar=function(t){var e,i,n;return t.tc?(i="background-color:"+t.tc+";",e="border-color:"+t.tc+";",n="color:"+t.tc):i=e=n="",'<div>\n  <div class="signal" style="'+n+'">\n    <div class="ball"></div>\n    <div class="ball"></div>\n    <div class="ball"></div>\n    <div class="ball"></div>\n    <div class="ball"></div>\n  </div>\n  <div class="carrier">\n    <span class="text">'+t.text+'</span>\n  </div>\n  <div class="time">\n    12:00<span class="meridian"> AM</span>\n  </div>\n  <div class="wifi md">wifi</div>\n  <div class="battery">\n    <div class="body" style="'+e+'">\n      <div class="inner" style="'+i+'"></div>\n    </div>\n    <div class="head" style="'+i+'"></div>\n  </div>\n</div>'},n.ios_status_bar=function(n){return'<div class="iOS-StatusBar" style="color: '+n.tc+';">\n  <div class="StatusBarSignal">'+e+'</div>\n  <div class="StatusBarWifi">'+i+'</div>\n  <div class="StatusBarTime">12:00</div>\n  <div class="StatusBarBattery">'+t+"</div>\n</div>"},n.iphone_x_status_bar=function(n){return'<div class="iPhoneX-StatusBar" style="color: '+n.tc+';">\n  <div class="StatusBarTime">12:00</div>\n  <div class="StatusBarSignal">'+e+'</div>\n  <div class="StatusBarWifi">'+i+'</div>\n  <div class="StatusBarBattery">'+t+"</div>\n</div>"},n.android_status_bar=function(t){return'<div class="Android-StatusBar" style="color: '+t.tc+';">\n  <div class="StatusBarWifi icon md">signal_wifi_4_bar</div>\n  <div class="StatusBarSignal icon md">signal_cellular_4_bar</div>\n  <div class="StatusBarBattery icon md">battery_full</div>\n  <div class="StatusBarTime">12:00</div>\n</div>'},n.ios_switch=function(t){var e;return e=t.checked?'checked="true"':"",'<label class="iOS-Switch">\n  <input type="checkbox" '+e+' />\n  <span class="CheckState"></span>\n</label>'},n["switch"]=n.ios_switch,n.android_switch=function(t){var e;return e=t.checked?'checked="true"':"",'<label class="Android-Switch">\n  <input type="checkbox" '+e+' />\n  <span class="CheckState"></span>\n</label>'},n.ios_check=function(t){var e;return e=t.checked?'checked="true"':"",'<label class="iOS-Check">\n  <input type="checkbox" '+e+' />\n\n  <span class="CheckState">\n    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="8" viewBox="0 0 13 8"><path d="M1 4.5L4.5 8l8-8" /></svg>\n  </span>\n</label>'},n.android_check=function(t){var e;return e=t.checked?'checked="true"':"",'<label class="Android-Check">\n  <input type="checkbox" '+e+' />\n\n  <span class="CheckState">\n    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 14 10"><path d="M5 10L0 5.192l1.4-1.346L5 7.308 12.6 0 14 1.346" /></svg>\n  </span>\n</label>'},n.android_radio=function(t){var e;return e=t.checked?'checked="true"':"",'<label class="Android-Radio">\n  <input type="radio" name="'+t.gid+'" '+e+' />\n  <span class="CheckState"></span>\n</label>'},n.tab_item=function(t){return'<div class="wrapper">\n  '+n.icon_button(t)+'\n  <span class="text">'+t.text+"</span>\n</div>"},n.pg=function(t){var e,i;return i=Link.find(t.gid),e=i?i.gesture:"tap",'<i class="icon-gesture-'+e+'"></i>'},n.icon_button=function(t,e){var i;return i="font-size:"+t.iS()+"px;",t.get_icon(e,i)},n.label=function(t){var e;return e=t.text,/<p>/.test(t.text)||(e="<p>"+e+"</p>"),e},n.circle_rect=n.rounded_rect=n.text_view=function(t){var e;return e="padding: "+t.paddingS()+"px;",'<div class="text" style="'+e+'">'+MB.v.multiline(t.text)+"</div>"},r=function(t){var e,i,n;i="";for(e in t)n=t[e],i+=e+":"+n+";";return i},n.sticky=function(t){var e,i,n,o,s,a,c,l,u;return o=t.l()<160,n=t.bg||"#fffbba",l=t.slt,t.slt<20?l=20:t.slt>t.height-20&&(l=t.height-20),a=(t.slt-l)*t.s()/100,i={top:(t.slt<=t.top-20?a:"")+"px",height:Math.abs(a)+"px"},s={top:a+"px"},c={top:l*t.s()/100+"px",width:t.slw*t.s()/100+"px","border-color":n},e={left:(o?"100%":"")+"px",right:(o?"":"100%")+"px","background-color":n,cursor:"pointer"},u={"background-image":"linear-gradient(135deg, "+n+" 25%, transparent 25%, transparent 100%), linear-gradient(45deg, transparent 75%, "+n+" 75%, "+n+" 100%)"},'<div>\n  <div class="text">'+MB.v.multiline(t.text)+'</div>\n  <div class="sideline" style="'+r(c)+'">\n    <div class="box" style="'+r(i)+'"></div>\n    <div class="line" style="'+r(s)+'">\n      <div class="arrow" style="'+r(e)+'"></div>\n    </div>\n  </div>\n  <div class="sawtooth" style="'+r(u)+'"></div>\n</div>'},n.mtooltip=function(t){var e,i,n,r;return e={top:"border-bottom-color",bottom:"border-top-color",left:"border-right-color",right:"border-left-color"},i=e[t.tt_placement],n="top"===t.tt_placement||"bottom"===t.tt_placement?"left:"+t.ttOffset()+"px":"top:"+t.ttOffset()+"px",r="padding: "+t.paddingS()+"px;",t.text&&"middle"===t.va&&(r+="margin-top: "+(0-t.textHeight()/2)+"px;"),'<div>\n  <div class="arrow1 arrow '+t.tt_placement+'" style="border-width:'+t.arrowSize()+"px;"+t.tt_placement+":"+(0-t.arrowSize())+"px;"+i+":"+(t.bc||"#aaa")+";"+n+';"></div>\n  <div class="arrow2 arrow '+t.tt_placement+'" style="border-width:'+t.arrowSize()+"px;"+t.tt_placement+":"+(0-t.arrowSize()+t.bS())+"px;"+i+":"+(t.bg||"white")+";"+n+';"></div>\n  <div class="text" style="'+r+'">'+MB.v.multiline(t.text)+"</div>\n</div>"},MB.l.parseBoxShadow=function(t){return t.reduce(function(t,e){return t+=" "+(1===e[0]?"inset ":"")+e[1]+"px "+e[2]+"px "+e[3]+"px "+e[4]+"px "+e[5]},"")},MB.l.parseTextShadow=function(t){return t.reduce(function(t,e){return t+=" "+e[0]+"px "+e[1]+"px "+e[2]+"px "+e[3]},"")},MB.widgetStyle=function(t,e){var i,n,r,o,s,a,c,l,u;return null==e&&(e=""),i=t.inspectables(),c=[]," "!==t.zoomable&&(l=t.w(),r=t.h(),"mtooltip"===t.name&&("top"===t.tt_placement||"bottom"===t.tt_placement?r-=t.arrowSize():l-=t.arrowSize()),t.isFullWidth()||c.push("width:"+l+"px"),c.push("height:"+r+"px")),"mtooltip"===t.name&&(o=function(){var e,i,r,o;for(r=["top","right","bottom","left"],o=[],e=0,i=r.length;e<i;e++)n=r[e],n===t.tt_placement?o.push(t.arrowSize()+"px"):o.push("0");return o}(),c.push("margin: "+o.join(" "))),"pg"===t.name&&e||(c.push("left:"+t.l()+"px"),t.primary_fixed&&e?(c.push("position:fixed"),t.primary_fixed===Widget.FIXED_TYPE.bottom?c.push("bottom:"+(t.cs().height-t.b())+"px"):c.push("top:"+t.t()+"px")):c.push("top:"+t.t()+"px")),u=t.z,c.push("z-index:"+u),t.tc&&i.indexOf("tc")!==-1&&c.push("color:"+t.tc),t.bg&&i.indexOf("bg")!==-1&&c.push("background-color:"+t.bg),t.bc&&i.indexOf("bc")!==-1&&c.push("border-color:"+t.bc),i.indexOf("box_shadow")!==-1&&t.box_shadow&&c.push("box-shadow:"+MB.l.parseBoxShadow(JSON.parse(t.box_shadow))),i.indexOf("text_shadow")!==-1&&t.text_shadow?c.push("text-shadow:"+MB.l.parseTextShadow(JSON.parse(t.text_shadow))):t.ts>0&&c.push("text-shadow: 0 0 "+t.ts+"px "+t.tsc),i.indexOf("border_radius")!==-1&&t.border_radius&&c.push("border-radius: "+t.borderRadiusStr()),i.indexOf("ro")!==-1&&t.ro&&(c.push("transform: rotate("+t.ro+"deg)"),c.push("-webkit-transform: rotate("+t.ro+"deg)")),t.clip&&i.indexOf("clip")!==-1&&(c.push("clip-path: "+t.clip),c.push("-webkit-clip-path:  "+t.clip)),i.indexOf("fs")!==-1&&t.fS()>0&&c.push("font-size:"+t.fS()+"px"),i.indexOf("padding")!==-1&&"mtextarea"!==t.name&&c.push("padding:"+t.paddingS()+"px"),i.indexOf("bs")!==-1&&c.push("border-width:"+t.bS()+"px"),i.indexOf("ls")!==-1&&c.push("border-style:"+t.lineStyle()),i.indexOf("ha")!==-1&&"label"!==t.name&&c.push("text-align:"+t.ha),i.indexOf("lh")!==-1&&c.push("line-height:"+t.lH()+"px"),c.push("font-weight:"+(t.bo?"bold":"normal")),c.push("font-style:"+(t.i?"italic":"normal")),!MB.isPhantom()&&"none"!==t.ani_name&&e&&(t.ani_delay&&"0"!==t.ani_delay&&c.push("animation-delay: "+t.ani_delay),c.push("animation-iteration-count: "+t.ani_count),t.ani_duration&&"0"!==t.ani_duration&&c.push("animation-duration: "+t.ani_duration)),s=t.v?i.indexOf("o")!==-1?t.o/100:"":e?0:.4,!t.v&&e&&(a="none"),""!==s&&c.push("opacity:"+s),a&&c.push("pointer-events:"+a),t.transition&&c.push("transition:"+t.transition),c},MB.widgetClassName=function(t,e){var i,n;return null==e&&(e=""),i="widget "+t.name,t.inspectables().indexOf("ha")!==-1&&(i+=" h"+t.ha),t.inspectables().indexOf("va")!==-1&&(i+=" v"+t.va),"normal"!==t.td&&(i+=" td"+t.td),"pg"===t.name&&(i+=" s"+t.icon),e&&(n=Link.find(t.gid))&&t.v&&(i+=" clickable"),!MB.isPhantom()&&"none"!==t.ani_name&&e&&t.v&&(i+=" animated "+t.ani_name),"sticky"===t.name&&(i+=t.l()>160?" rsticky":" lsticky",t.slt<20?i+=" tsticky":t.slt>t.height-20&&(i+=" bsticky")),i},MB.widget=function(t,e){var i,r,o,s,a,c;return null==e&&(e=""),i=MB.widgetClassName(t,e),c=MB.widgetStyle(t,e),e&&(o=Link.find(t.gid))&&t.v&&(s=o.cid,r="tap"!==o.gesture?o.gesture:"",a="<div class='region gesture "+r+"'></div>"),'<div class="'+i+'" id="widget'+t.cid+e+'" data-cid="'+t.cid+'" data-link_cid="'+(s||"")+'" style="'+c.join(";")+'">\n  '+n[t.name](t,e)+"\n  "+(a||"")+"\n</div>"}}.call(this),function(){this.AutoSaver=function(){function t(){$("body").on("queue:add",function(t){return function(e,i,n){return t.add(i,n)}}(this)),$("body").on("queue:save",function(t){return function(){return t.save()}}(this)),this.queue=[],this.setup(),setInterval(function(t){return function(){return t.save(),MB.refreshCoWorkers&&MB.refreshCoWorkers()}}(this),2e4)}return t.prototype.add=function(t,e){var i,n,r,o;for(o=this.queue,n=0,r=o.length;n<r;n++)if(i=o[n],i.cid===t.cid&&!i.saving&&i.constructor===t.constructor)return void(i.destroyed=e);return this.queue.push(t),MB.setSaveQueue&&MB.setSaveQueue()},t.prototype.save=function(){var t,e,i,n;if(0===this.queue.length)return void(MB.setSaving&&MB.setSaving(!1));if(n=this.queue[0],!(n.saving&&(i=n.saveAt+$.ajaxSettings.timeout+6e4,new Date<i))){n.saving=!0,n.saveAt=(new Date).valueOf(),MB.setSaving&&MB.setSaving();try{return n.constructor.exists(n.cid)?n.constructor===Asset?(t=n.constructor.find(n.cid),t.id=null,t.save()):n.constructor.find(n.cid).save():n.destroyed&&n.constructor!==Asset?n.destroy():n.save()}catch(t){return e=t,this.queue.shift(),this.save()}}},t.prototype.pushObject=function(t){var e,i,n,r,o,s;if(r=MB.project(),r&&!r.combo&&(r.template&&(r=Project.find(r.host_cid)),r&&r.channels&&(i=r.channels.filter(function(t){return t!==MB.user.channel}),i.length>0&&(t.constructor===Widget?(s="Widget",e=Widget.find(t.cid)?"update":"destroy"):t.constructor===Widgetstate?"default"===t.screenstate_cid?(s="Widget",t=Widget.find(t.widget_cid),t&&(e="update")):(s="Widgetstate",e="update"):t.constructor===Link?(s="Link",e=Link.find(t.cid)?"update":"destroy"):t.constructor===Screen?(s="Screen",e=Screen.find(t.cid)?"update":"destroy"):t.constructor===Screenstate?(s="Screenstate",e=Screenstate.find(t.cid)?"update":"destroy"):t.constructor===Panel?(s="Panel",e=Panel.find(t.cid)?"update":"destroy"):t.constructor===Panelstate&&("default"===t.screenstate_cid?(s="Panel",t=Panel.find(t.panel_cid),t&&(e="update")):(s="Panelstate",e="update")),e))))return"Panel"===s&&(o=Template.find(t.template_cid),o&&(n={template_token:o.access_token})),MB.pusher.pusher.send({data:{event:"collaboration",action:e,t:s,from:{id:MB.user.id,name:MB.user.name,avatar:MB.user.avatar},to:r.cid,object:t,extras:n},expiration_interval:60,channels:i})},t.prototype.setup=function(){return MB.myXhr=$.ajaxSettings.xhr(),MB.myXhr.upload&&MB.myXhr.upload.addEventListener("progress",function(t){return function(e){var i,n;if(i=Math.floor(100*e.loaded/e.total),100!==i)return n="("+i+"% "+t.queue.length+" "+I18N.unsaved+")",$("#last_saved .progress").text(n)}}(this),!1),$.ajaxSettings.xhr=function(){return MB.myXhr},$.ajaxSetup({timeout:6e4}),window.onbeforeunload=function(t){return function(){var e;if(t.queue.length)return MB.isLegacyElectron()?(e=MB.confirm({title:I18N.warning,desc:I18N.data_lost_warning}),!e||void 0):I18N.data_lost_warning}}(this),window.onerror=function(t,e,i,n,r){var o,s;if(!MB.config.ignoreError.test(t)&&r&&r.stack)return o=(MB.currentProject||{cid:"none"}).cid,s=(MB.currentScreen||{cid:"none"}).cid,console.error(r)},$(document).on("ajaxComplete",function(t){return function(e,i,n){var r,o;if(t.resetReloadTimer(),200===i.status||422===i.status){if(!i.responseJSON||!i.responseJSON.cid)return;return(o=MB.currentProject)&&(o.updated_at=(new Date).toISOString(),o.lsave(!1)),t.queue[0]&&(t.queue[0].saving=!1,r=t.queue.shift(),t.pushObject(r),MB.setSaveQueue&&MB.setSaveQueue()),t.save()}if(0===i.status?(MB.alert({title:I18N.error_happened,desc:I18N.network_error}),$.ajaxSettings.timeout<12e4&&$.ajaxSetup({timeout:2*$.ajaxSettings.timeout}),MB.ga("send","event","saving","saving timeout",n.url+"("+n.type+")("+n.data+")("+MB.user.email+")")):new URLSearchParams(n.data).get("NO_ERROR_ALERT")||(MB.alert({desc:I18N.unknown_error.replace(/%s/i,i.status),isHTML:!0}).then(function(){return location.reload()}),MB.ga("send","event","saving","saving error: "+i.status,i.status+": "+n.url+"("+n.type+")("+n.data+")("+MB.user.email+")")),t.queue[0])return MB.setSaving&&MB.setSaving(!1),t.queue[0].saving=!1}}(this))},t.prototype.resetReloadTimer=function(){return this.timer&&clearTimeout(this.timer),
this.timer=setTimeout(function(){return MB.alert({desc:I18N.new_version_detected,isHTML:!0}).then(function(){return location.reload()})},216e5)},t}()}.call(this),function(){this.WidgetManager=function(){function t(){}return t.remove=function(t){var e;if(Widget.exists(t))return e=Widget.find(t),e.ldestroy()},t.newImageView=function(t,e,i,n){var r,o,s,a,c;return c=t.width,r=t.height,c>n.width&&(r=Math.round(r*(n.width/c)),c=n.width),s=MB.scale()/100,o="image_view",a=new Widget({name:o,top:Math.round(i/s),left:Math.round(e/s),width:c,height:r,bs:MB.COMPONENTS[o].bs,border_radius:MB.COMPONENTS[o].border_radius,image:t.cid,screen_cid:n.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),z:n.maxZ()+1}),a.lsave(),ScreenManager.updateWidgetList(),a},t.renderText=function(t,e){var i;if(e&&(i=e.getElementsByClassName("text")[0]))return t.richedit?i.innerHTML=MB.v.multiline(t.text):i.innerHTML=""+t.text},t.renderExtras=function(t,e){var i;if(e)return i="_render_"+t.name,"function"==typeof this[i]?this[i](t,e):void 0},t._render_label=function(t,e){var i;return i=t.text,/<p>/.test(t.text)||(i="<p>"+i+"</p>"),e.innerHTML=i},t._render_text_align=function(t,e){return e.className=e.className.replace(/v(middle|top|bottom)/,"v"+t.va)},t._render_text_view=function(t,e){var i;return e.style.clipPath=t.clip,e.style.webkitClipPath=t.clip,i=e.getElementsByClassName("text")[0],i.style.padding=t.paddingS()+"px",this._render_text_align(t,e)},t._render_rounded_rect=function(t,e){if(t.text)return this._render_text_align(t,e)},t._render_circle_rect=function(t,e){if(t.text)return this._render_text_align(t,e)},t._render_hr=function(t,e){var i,n;return n=e.getElementsByTagName("span")[0],i=t.h()-10,i<1&&(i=1),n.style.borderTopWidth=i+"px"},t._render_ve=function(t,e){var i,n;return n=e.getElementsByTagName("span")[0],i=t.w()-10,i<1&&(i=1),n.style.borderLeftWidth=i+"px"},t._render_triangleb=function(t,e){var i,n,r,o;return r=e.getElementsByTagName("path")[0],o=[[(t.w()-1)/2,0],[t.w()-1,t.h()-1],[0,t.h()-1]],i="M "+function(){var t,e,i;for(i=[],t=0,e=o.length;t<e;t++)n=o[t],i.push(n.join(" "));return i}().join(" L ")+" Z",r.setAttribute("d",i)},t._render_triangletl=function(t,e){var i,n,r,o;return r=e.getElementsByTagName("path")[0],o=[[0,0],[t.w()-1,0],[0,t.h()-1]],i="M "+function(){var t,e,i;for(i=[],t=0,e=o.length;t<e;t++)n=o[t],i.push(n.join(" "));return i}().join(" L ")+" Z",r.setAttribute("d",i)},t._render_status_bar=function(t,e){var i,n,r,o,s,a,c;for(n=e.getElementsByClassName("body")[0],s=e.getElementsByClassName("inner")[0],r=e.getElementsByClassName("head")[0],c=e.getElementsByClassName("ball"),o=0,a=c.length;o<a;o++)i=c[o],i.style.backgroundColor=t.tc;return n.style.borderColor=t.tc,s.style.backgroundColor=t.tc,r.style.backgroundColor=t.tc},t._render_icon_button=function(t,e){var i;if(i=e.querySelector(".icon"))return i.insertAdjacentHTML("afterend",t.get_icon(!0,"font-size:"+t.iS()+"px;")),i.remove()},t._render_button=function(t,e){return this._render_icon_button(t,e)},t._render_tab_item=function(t,e){return this._render_icon_button(t,e)},t._render_image_view=function(t,e){var i,n,r,o;return e.style.clipPath=t.clip,e.style.webkitClipPath=t.clip,t.image?("i"===t.image[0]&&t.image.indexOf("images")===-1?(i=Asset.find(t.image),i&&(o=i.raw||i.image)):o=t.image,n=e.getElementsByTagName("img")[0],o&&n.src!==o&&(n.src=o),n.style.filter=t.filter.trim(),n.style.webkitFilter=t.filter.trim(),n.style.display=null,r=e.getElementsByTagName("span")[0],r.style.display="none"):(n=e.getElementsByTagName("img")[0],n.style.display="none",r=e.getElementsByTagName("span")[0],r.style.display=null)},t._render_webpage=function(t,e){var i;if(i=$(e).find(".iframe"),i[0]&&i.attr("src")!==t.text)return i[0].contentWindow.location.replace(MB.unescape(t.text))},t._render_switch=t._render_ios_switch=t._render_android_switch=t._render_ios_check=t._render_android_check=t._render_android_radio=function(t,e){var i;return i=e.querySelector("input"),i&&(i.checked=t.checked)},t._render_mtooltip=function(t,e){var i,n,r,o,s,a,c,l,u,d;for(r=e.querySelectorAll(".arrow"),c=0,l=r.length;c<l;c++)o=r[c],o.classList.remove("top","right","bottom","left"),o.classList.add(t.tt_placement),o.style.borderWidth=t.arrowSize()+"px",o.style.borderColor="transparent",o.style.left=o.style.top=o.style.bottom=o.style.right=null;return i=e.querySelector(".arrow1"),n=e.querySelector(".arrow2"),i.style[t.tt_placement]=0-t.arrowSize()+"px",n.style[t.tt_placement]=0-t.arrowSize()+t.bS()+"px",s={top:"borderBottomColor",bottom:"borderTopColor",left:"borderRightColor",right:"borderLeftColor"},a=s[t.tt_placement],i.style[a]=t.bc||"#aaa",n.style[a]=t.bg||"white","top"===t.tt_placement||"bottom"===t.tt_placement?(e.style.height=t.h()-t.arrowSize()+"px",i.style.left=n.style.left=t.ttOffset()+"px"):(e.style.width=t.w()-t.arrowSize()+"px",i.style.top=n.style.top=t.ttOffset()+"px"),u=function(){var e,i,n,r;for(n=["top","right","bottom","left"],r=[],e=0,i=n.length;e<i;e++)a=n[e],a===t.tt_placement?r.push(t.tt_arrow_size+"px"):r.push("0");return r}(),e.style.margin=u.join(" "),d=e.getElementsByClassName("text")[0],d.style.padding=t.paddingS()+"px",this._render_text_align(t,e),"middle"===t.va?d.style.marginTop=0-t.textHeight()/2+"px":d.style.marginTop="0px"},t._render_mtext_input=function(t,e){var i;return i=e.getElementsByTagName("input")[0],i.placeholder=t.text},t._render_mtextarea=function(t,e){var i,n,r;return i=e.getElementsByTagName("textarea")[0],n=Math.round(t.padding),r=Math.round(n-(t.lh-t.fs)/2),r<0&&(r=0),i.placeholder=t.text,i.style.padding=r+"px "+n+"px"},t._render_mcheckbox2=function(t,e){var i;return i=e.getElementsByTagName("input")[0],i.checked=t.checked},t._render_mradiobutton=function(t,e){var i;return i=e.getElementsByTagName("input")[0],i.checked=t.checked},t._render_mselect=function(t,e){var i,n;return n=function(){var e,n,r,o;for(r=t.text.split(/\n/),o=[],e=0,n=r.length;e<n;e++)i=r[e],o.push("<option>"+i+"</option>");return o}().join(""),e.innerHTML="<select>"+n+"</select>"},t.transform=function(t,e,i,n){var r;if(n.className=MB.widgetClassName(i,"p").replace("animated",""),r=n.style,e.fs!==i.fs&&(r.fontSize=i.fS()+"px"),e.bs!==i.bs&&(r.borderWidth=i.bs+"px"),e.border_radius!==i.border_radius&&(r.borderRadius=i.borderRadiusStr()),e.lh!==i.lh&&(r.lineHeight=i.lH()+"px"),e.padding!==i.padding&&(r.padding=i.paddingS()+"px"),i.bg!==e.bg&&(r.backgroundColor=i.bg),i.tc!==e.tc&&(r.color=i.tc),i.bc!==e.bc&&(r.borderColor=i.bc),i.ls!==e.ls&&(r.borderStyle=i.lineStyle()),i.bo!==e.bo&&(r.fontWeight=i.bo?"bold":"normal"),i.i!==e.i&&(r.fontStyle=i.i?"italic":"normal"),i.box_shadow&&i.box_shadow!==e.box_shadow&&(r.boxShadow=MB.l.parseBoxShadow(JSON.parse(i.box_shadow))),i.text_shadow&&i.text_shadow!==e.text_shadow?r.textShadow=MB.l.parseTextShadow(JSON.parse(i.text_shadow)):i.ts===e.ts&&i.tsc===e.tsc||(r.textShadow="0 0 "+i.ts+"px "+i.tsc),"label"===i.name&&(i.ha!==e.ha&&(r.justifyContent={left:"flex-start",center:"center",right:"flex-end"}[i.ha]),i.va!==e.va&&(r.alignItems={top:"flex-start",middle:"center",bottom:"flex-end"}[i.va])),MB.isPhantom()||"none"===i.ani_name||("0"!==i.ani_delay&&(r.animationDelay=i.ani_delay),r.animationIterationCount=i.ani_count,"0"!==i.ani_duration&&(r.animationDuration=i.ani_duration)),i.ro!==e.ro)return r.transform="rotate("+i.ro+"deg)"},t}()}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};this.ScreenManager=function(){function e(){var t;t=$("#design"),t.on("slider:update",function(){return MB.renderFixedSlider&&MB.renderFixedSlider()}),this.initCanvasDnd()}return e.sortScreens=function(t){var e;return e=function(t){return t.children().forEach(function(t,i){return t.position!==i+1&&(t.position=i+1,t.lsave()),e(t)})},t.rootScreens().forEach(function(t,i){return t.position!==i+1&&(t.position=i+1,t.lsave()),e(t)})},e.fixBadScreen=function(e){var i,n,r,o;for(i=[e.cid],o=[];n=Screen.find(e.parent_cid);)r=n.cid,t.call(i,r)>=0?(e.parent_cid=null,o.push(e.lsave())):(e=n,o.push(i.push(e.cid)));return o},e.activate=function(t){var e;return e=Screen.find(t.cid),MB.currentScreen=e,MB.action("selection:clear:state"),e.setState("default"),MB.action("entry:activate:screen",{screen:e}),MB.action("statepanel:set:global",{isGlobalActive:!0}),MB.action("entry:reset:canvas:offset"),this.updateWidgetList()},e.updateWidgetList=function(){var t,e,i,n,r,o;for(r=Screen.find(MB.currentScreen.cid),r._widgetsByName=null,r.lsave(!1),o=[],n=r.citems(),e=0,i=n.length;e<i;e++)t=n[e],t._isPanelWidget=!1,t.setState(r.state_cid,!0),"panel"===t.name?t.valid()&&(o.push(t.dup()),t.ct().cscreens().forEach(function(t){return t.cwidgets().forEach(function(t){var e;return e=t.dup(),e._isPanelWidget=!0,o.push(e)})})):o.push(t.dup());return MB.renderLinks(),MB.action("update:widget:all",{widgetList:o})},e.updateStateHeight=function(t){var e,i,n,r;return i=Screen.find(t),e=i.cid+"default",MB.getIsGlobalActive()?(r=i.cscreenstates(),r.push(Screenstate.find(e))):(n="default"===i.state_cid?e:i.state_cid,r=[Screenstate.find(n)]),r.forEach(function(t){if(t)return t.hh=i.hh,t.fh=i.fh,t.lsave(t.cid!==e)})},e.newScreen=function(t,e,i,n,r,o,s){var a;return null==s&&(s=!0),a=new Screen({cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),name:e,position:i,parent_cid:n,project_cid:t.cid,orientation:r,bgcolor:t.template?"transparent":MB.config.screenBg}),a.lsave(),o&&!t.template&&a.setup(null),this.activate(a),s&&MB.action("rightnav:edit:screen",{cid:a.cid}),MB.renderScreenList(),a},e.updateOrientation=function(){var t,e,i,n,r,o;for(r=Screen.find(MB.currentScreen.cid),i="portrait"===r.orient()?"landscape":"portrait",r.setOrientation(i),r.lsave(),n=r.cwidgets(),t=0,e=n.length;t<e;t++)o=n[t],o.isFullWidth()&&(o.width=r.width,"keyboard"===o.name&&(o.height=r.kbDH()),o.lsave());return MB.action("set:current:screen",{screen:r}),this.updateWidgetList()},e.prototype.initCanvasDnd=function(){return $("#design").on("dragleave","#screens",function(){return $(".canvas").removeClass("hover")}),$("#design").on("dragover","#screens",function(t){return t.stopPropagation(),t.preventDefault(),$("#canvas").addClass("hover"),t.originalEvent.dataTransfer.dropEffect="copy"}),$("#design").on("drop","#screens",function(t){var e,i,n,r,o;if(t.stopPropagation(),t.preventDefault(),$("#canvas").removeClass("hover"),!MB.globalStateAlert())return MB.action("entry:clear:selection"),r=MB.scale()/100,i=t.originalEvent.pageX-MB.canvasLeft(),o=t.originalEvent.pageY-MB.canvasTop(),e=t.originalEvent.dataTransfer.files,n=Screen.find(MB.currentScreen.cid),MB.createAssetFromFiles(e,function(t){var e;return e=WidgetManager.newImageView(t,i,o,n),o+=t.height*r,MB.trigger("undoStack:add",[null,[e.dup()]]),MB.action("selection:select:items",{cids:[e.cid]})})})},e.updateSize=function(t,e,i){var n,r,o,s,a,c,l,u,d;if(u=Screen.find(MB.currentScreen.cid),n=[u.dup()],a=u.height,u.height+=e,s=Math.round(100*u.dH()/MB.scale()),MB.project().template||MB.project().combo)u.width+=t,u.height<10&&(u.height=10),u.width<10&&(u.width=10);else for(u.height<s&&(e=s-a,u.height=s),l=u.cwidgets(),r=0,o=l.length;r<o;r++)d=l[r],d.inFooter()&&d.top&&(d.top+=e,d.lsave());return u.lsave(),c=MB.project(),"project"!==c.type()&&c.updatePanelSize(u.width,u.height),i&&$("body").trigger("undoStack:add",[n,[u.dup()]]),this.updateWidgetList(),MB.action("set:current:screen",{screen:u})},e}()}.call(this),function(){this.PanelManager=function(){function t(){}return t.remove=function(t,e){var i;if(null==e&&(e=!0),i=Panel.find(t))return i.ldestroy(e)},t}()}.call(this),function(){var t,e,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e={},t=function(){function t(){MB.setRunnerExtra(e),this.timeoutBucket=new e.TimeoutBucket,this.eventBucket=new e.EventBucket,this.runnerUtil=new e.RunnerUtil,this.transitionUtil=new e.TransitionUtil,this.clearCallbackBucket={},this.mode="default",MB.isMobile()?this.eventBucket.bindMobile({onOrientationChange:function(t){return function(){return setTimeout(function(){return t.reload()},100)}}(this)}):this.eventBucket.bindDesktop({onAppMouseDown:function(t){return function(e,i){var n,r,o,s;if("immersive"===t.mode)return!0;if(n=$(e.target).closest(".map_view .image"),r=$(e.target).closest(".ppanel"),n.length)o=s=n[0];else{if(!r.length)return!0;o=s=r[0]}return!($(o).width()<o.scrollWidth||$(s).height()<s.scrollHeight)||(i.vScrollTarget=s,i.hScrollTarget=o,i.top=s.scrollTop,i.left=o.scrollLeft,!1)}}(this),onAppMouseMove:function(t,e,i){var n,r,o,s,a,c;return n=e.hScrollTarget,s=e.vScrollTarget,o=e.top,r=e.left,a=e.x,c=e.y,!i.down||(t.preventDefault(),n&&(n.scrollLeft=Math.min(r-t.clientX+a,n.scrollWidth-$(n).width())),s?s.scrollTop=Math.min(o-t.clientY+c,s.scrollHeight-$(s).height()):void 0)}}),window.addEventListener("message",function(t){return function(e){var i;try{if(i=JSON.parse(e.data),"back"===i.event)return t.backPrev()}catch(t){}}}(this),!1)}return t.prototype.init=function(){var t;return MB.trackPageView("/workspace/app/preview"),$("#simulator .splash").css("background-color",this.home.bg()),$("#app").show(),this.runnerUtil.setupSplash(this.home,$("#simulator .splash img")),this.project.setup(),this.setupPG(),this.currentScreen=this.currentMenu=null,this.renderScreen(),t=setTimeout(function(t){return function(){if($("#simulator .splash").hide(),$("#splash").hide(),t.reload(),MB.messageBucket)return MB.messageBucket.send("ready",JSON.stringify(MB.currentProject.cscreens()))}}(this),1e3),MB.webpackInterface.checkLocationHash(),this.clearCallbackBucket.init=function(){return clearTimeout(t)}},t.prototype.clear=function(){var t,e,i;this.timerFired=!1,i=this.clearCallbackBucket;for(e in i)(t=i[e])();return this.timeoutBucket.clear(),this.runnerUtil.clear()},t.prototype.loadScreen=function(t){var e,i,n,r;if(this.currentMenu)return void this.closeMenu(function(e){return function(){return e.loadScreen(t)}}(this));if($(".pcanvas.active").data("cid")!==t&&(this.currentScreen=this.currentMenu=null,n=Screen.find(t)))return this.timeoutBucket.clear(),e=$(".pcanvas.active"),i=$("#pscreen"+n.cid),r=this.getTransition(n.cid,"none",!0),this.prepareTransition(n.cid,r),this.transitionUtil.doTransition("none",e,i,new Link)},t.prototype.backPrev=function(){var t;return this.home.cid===$(".pcanvas.active").data("cid")&&MB.messageBucket?void MB.messageBucket.send("exit"):(t=new Link({target_cid:"prev",transition:"none"}),this.j(t))},t.prototype.closeMenu=function(t){var e,i,n;return i=$("#pscreen"+this.currentScreen),e=$("#pscreen"+this.currentMenu),n=function(n){return function(){return n.transitionUtil.hideScreen(e),e.removeClass("drawer ldrawer rdrawer"),i.removeClass("menu lmenu rmenu"),n.doneTransition(i),n.currentScreen=n.currentMenu=null,$.nextTick(function(){if("function"==typeof t)return t()})}}(this),i.hasClass("menu")?(i.transitionEnd(n),i.enableTransition("0.3s"),i.translateX(0)):e.hasClass("drawer")?(e.transitionEnd(n),e.enableTransition("0.3s"),e.hasClass("ldrawer")?e.translateX(0-this.transitionUtil.activeWidth()):e.translateX(this.transitionUtil.activeWidth())):void 0},t.prototype.pj=function(t,e){var i,n,r,o,s,a,c,l,u,d,h;if("immersive"!==this.mode&&this.eventBucket.isCoolDown()&&!this.timerFired){if(i=$(t.target).closest(".clickable"),r=$(t.target).closest(".ppanel"),n=$(t.target).closest(".pcanvas"),"shake"===e&&(n=this.currentMenu?$("#pscreen"+this.currentMenu):$(".pcanvas.active")),this.currentMenu&&n.data("cid")!==this.currentMenu)return this.closeMenu();if(r.length){if(this.panelEventHandler(t,e))return}else if(i.length&&(c=Link.find(i.attr("data-link_cid")),c&&c.gesture===e))return this.j(c);if(o=n.data("cid"),u=Screen.find(o)){for(l=Widget.records,s=0,a=l.length;s<a;s++)if(d=l[s],d.screen_cid===u.cid&&"pg"===d.name&&(h=d.getState(u.state_cid),h.gid&&(c=Link.find(h.gid))&&c.gesture===e))return this.j(c);if(!this.eventBucket.mouseState.moved)return"hold"===e&&MB.messageBucket&&!window.parent.webkit?void MB.messageBucket.send("settings"):MB.project()._highlight?this.highlightClickables():void 0}}},t.prototype.panelEventHandler=function(t,e){var i,n,r,o,s,a,c,l,u,d,h,p;if(n=$(t.target).closest(".clickable"),i=$(t.target).closest(".ppanel"),r=i.find(".pstate.active"),o=i.data("cid"),l=Panel.find(o),n.length){if(c=Link.find(n.attr("data-link_cid")),!c)return!1;if("prev"===c.target_cid)return this.j(c),!0;if(c.gesture===e){if(i[0]===n[0])this.j(c);else if($("#pscreen"+c.target_cid).length)this.j(c);else{if(l.timerFired)return!1;h="#"+i.attr("id").replace(/pg[h|f]$/,"p"),this.panelWJ(c,$(h)),$("#panel"+o+"pgh").length&&this.panelWJ(c,$("#panel"+o+"pgh")),$("#panel"+o+"pgf").length&&this.panelWJ(c,$("#panel"+o+"pgf"))}return!0}}if(d=Screen.find(r.data("cid")),!d)return!1;for(u=d.cwidgets(),s=0,a=u.length;s<a;s++)if(p=u[s],"pg"===p.name&&(c=Link.find(p.gid),p.icon===e&&c))return!l.timerFired&&(h="#"+i.attr("id").replace(/pg[h|f]$/,"p"),this.panelWJ(c,$(h)),$("#panel"+o+"pgh").length&&this.panelWJ(c,$("#panel"+o+"pgh")),$("#panel"+o+"pgf").length&&this.panelWJ(c,$("#panel"+o+"pgf")),!0);return!1},t.prototype.highlightClickables=function(){var t;return t=$(".pcanvas.active .region"),t.show(),$(".pcanvas.active .pg").css({display:"flex",opacity:.8}),this.hightTimer=setTimeout(function(){return t.hide(),$(".pcanvas.active .pg").css("opacity","0").hide()},400)},t.prototype.j=function(t){var e,i,n,r,o,s;if(t&&t.target_cid!==MB.currentScreen.cid){if(this.timeoutBucket.clear(),o=t.screen_cid,i=t.target_cid,s=t.transition,this.currentMenu)return void(i===$(".pcanvas.active").data("cid")?this.closeMenu():t.targetstate_cid?this.stateTransition(t):this.closeMenu(function(e){return function(){return e.j(t)}}(this)));if(t.targetstate_cid)return this.stateTransition(t);if(i&&("prev"===i||$("#pscreen"+i).length)){if("prev"===i){if(r=$(".pcanvas.active").data("prev"),!r)return;if(i=r.pop(),!i)return;$(".pcanvas.active").data("prev",r)}else r=$("#pscreen"+i).data("prev"),r||(r=[]),r.push($(".pcanvas.active").data("cid")),$("#pscreen"+i).data("prev",r);return e=$(".pcanvas.active"),n=$("#pscreen"+i),s=this.getTransition(i,s,t.reset),this.prepareTransition(i,s),this.transitionUtil.doTransition(s,e,n,t)}}},t.prototype.panelWJ=function(t,e){var i,n,r;if(t&&(i=t.target_cid,r=t.transition,n=e.data("cid"),i))return this.preparePanelTransition(i,r,e,function(o){return function(){var s,a;return s=e.find(".pstate.active"),a=e.find("#state"+n+i+"p"),o.transitionUtil.doTransition(r,s,a,t)}}(this))},t.prototype.prepareTransition=function(t,e){var i,n,r,o,s,a,c,l,u;if(this.timerFired=!0,i=$(".pcanvas.active").removeClass("top drawer ldrawer rdrawer"),i.find(".pstate").css("transition","none"),n=$("#pscreen"+t),n.show(),u=Screen.find(t),this.renderWidgets(u),"leftmenu"!==e&&"rightmenu"!==e&&"leftdrawer"!==e&&"rightdrawer"!==e||(this.currentScreen=i.data("cid"),this.currentMenu=t,e.indexOf("menu")!==-1&&($(".pcanvas.active .widgets")[0].scrollTop=0)),this.runnerUtil.setScreenBg(i),this.runnerUtil.setScreenBg(n),this.transitionUtil.transitionHandler(e,i,n,this.transitionUtil.activeWidth()-1,this.transitionUtil.activeHeight()-1),$("#pscreen"+u.cid+" .panel").length){for(c=u.cpanels(),l=[],o=0,s=c.length;o<s;o++)a=c[o],(r=$("#panel"+a.cid+"p")[0])&&this.activatePanelMainState(a,r,"p"),(r=$("#panel"+a.cid+"pgh")[0])&&this.activatePanelMainState(a,r,"pgh"),(r=$("#panel"+a.cid+"pgf")[0])?l.push(this.activatePanelMainState(a,r,"pgf")):l.push(void 0);return l}},t.prototype.preparePanelTransition=function(t,e,i,n){var r,o,s,a,c;return null==n&&(n=null),"leftmenu"!==e&&"rightmenu"!==e&&"leftdrawer"!==e&&"rightdrawer"!==e||(e="none"),a=i.data("cid"),s=Panel.find(a),c=Screen.find(t),o=i.find("#state"+a+t+"p"),o.length||(c.panel_cid=s.cid,i[0].innerHTML+=MB.PanelState(c,!1),o=i.find("#state"+a+t+"p")),r=i.find(".pstate.active"),o.show(),o.enableTransition("10ms"),n&&"function"==typeof n&&("popin"===e||"slidebottom"===e||"topin"===e||"slidetop"===e||"slideright"===e||"slideleft2"===e||"slideleft"===e||"slideright2"===e?o.transitionEnd(function(){return n()}):setTimeout(function(){return n()},10)),setTimeout(function(t){return function(){return t.transitionUtil.transitionHandler(e,r,o,i.width()-1,i.height()-1)}}(this))},t.prototype.doneTransition=function(t){var e,i,n,r,o;return t.removeClass("menu lmenu rmenu"),t.zindex(""),t.disableTransition(),t.hasClass("state")?(this.setupPanelLinks(t),this.setupPanelAnimationAndFixed(t),n=Panel.find(t.closest(".ppanel").data("cid")),r=Screen.find(t.data("cid")),this.setupPanelTimers(n,r),n.timerFired=!1,void n.lsave(!1)):(o=Screen.find(t.data("cid")),this.setupPageTimers(o),this.setupFixedWidgets(o),MB.isStandAlone()&&this.setupStatusBar(o),MB.isAndroid()&&this.setupPageGesture(o),this.timerFired=!1,MB.currentScreen=o,MB.webpackInterface.updateCurrentScreenRunner(o),i=MB.isMobile()||MB.isEmbedded()||"immersive"!==this.mode&&"none"!==MB.currentProject._shell_type,this.runnerUtil.toggleScrollBar(i),MB.isMobile()&&(e=t.find(".animated"),e.css({animationName:"noop",visibility:"hidden"}),setTimeout(function(){return e.css({animationName:"",visibility:""})})),setTimeout(function(t){return function(){var e,i,n,r,s,a;for(r=o.clinks(),s=[],e=0,n=r.length;e<n;e++)i=r[e],i.target_cid&&"prev"!==i.target_cid&&(a=Screen.find(i.target_cid),a&&a.project_cid===o.project_cid?(t.renderWidgets(a),s.push($("#pscreen"+a.cid).enableTransition("10ms"))):s.push(void 0));return s}}(this),10))},t.prototype.getTransition=function(t,e,i){var n;return n=Screen.find(t),n.orient()!==MB.currentScreen.orient()&&(e="none"),i&&this.resetScreen(n),e},t.prototype.resetScreen=function(t){var e;return MB.webpackInterface.store.dispatch({type:"entry:update:screen:state",payload:{screen:t,stateCid:"default"}}),this.runnerUtil.destroyScrollBarByCid(t.cid),$("#pscreen"+t.cid+" .scontainer").html(""),e=document.querySelector("#stickies"),e&&(e.style.marginTop=0)},t.prototype.reload=function(){var t;return this.timerFired?void $.nextTick(function(t){return function(){return t.reload()}}(this)):this.currentMenu?void this.closeMenu(function(t){return function(){return t.reload()}}(this)):(t=$(".pcanvas.active").data("cid"),Screen.exists(t)?(this.runnerUtil.resetScrollState(),this.runnerUtil.destroyScrollBar(),$(".scontainer").html(""),this.prepareTransition(t,"none"),this.doneTransition($(".pcanvas.active"))):void 0)},t.prototype.transformItem=function(t,e,i,n,r){var o,s,a,c,l,u,d,h,p,f,g,m,v;return m=i.t(),s=t.height-i.b(),d=h=u="",i.primary_fixed?(d="fixed",i.primary_fixed===Widget.FIXED_TYPE.bottom?u=s+"px":h=m+"px"):(d="absolute",/gf$/.test(n.id)?(o=i.t()+i.h(),a=0===t.footerHeight()?Number.MAX_VALUE:Math.floor(t.h()-t.footerHeight()),o>=a&&g<t.h()&&(g-=a),h=g+"px"):h=m+"px"),p=i.v?i.o/100:0,v=i.z,"panel"===i.name?i.v&&(l=i.mainState())?(c=l.width>i.width||l.height>i.height,f=c?"auto":""):f="":f=i.v?"":"none",e.l()!==i.l()&&(n.style.left=i.l()+"px"),e.width!==i.width&&(n.style.width=i.w()+"px"),e.height!==i.height&&(n.style.height=i.h()+"px"),Object.assign(n.style,{position:d,top:h,bottom:u,zIndex:v,opacity:p,pointerEvents:f,transition:r})},t.prototype.transformWidget=function(t,e,i,n,r){return this.transformItem(t,e,i,n,r),WidgetManager.transform(t,e,i,n,r)},t.prototype.activatePanelMainState=function(t,e,i){var n,r,o;return this.timeoutBucket.clearTimeoutByKey(t.cid),o=t.mainState(),$("#panel"+t.cid+i+" .state").disableTransition(),r=$(e).find("#state"+t.cid+o.cid+"p"),r.length||(o.panel_cid=t.cid,e.innerHTML+=MB.PanelState(o,!1),r=$(e).find("#state"+t.cid+o.cid+"p"),MB.runner.setupPanelLinks(r)),n=$(e).find(".state.active"),n.css("transform",""),n.removeClass("active top"),MB.runner.transitionUtil.hideScreen(n),MB.runner.setupPanelAnimationAndFixed(r),r.css("transform",""),r.addClass("active top"),r.show()},t.prototype.transformPanel=function(t,e,i,n,r,o){if(this.transformItem(t,e,i,n,r),i.mainState().cid!==e.mainState().cid)return this.activatePanelMainState(i,n,o),this.setupPanelTimers(i,i.mainState())},t.prototype.stateTransition=function(t){var e,i,n,r,o,s,a,c,l,u,d,h,p;if(a=Screen.find(t.screen_cid),a.state_cid!==t.targetstate_cid)return d=t.targetstate_cid,h=t.ani_duration+" "+(t.ani_delay||"0s")+" "+(t.ani_easing||"linear"),u=Screenstate.find(d),n=$(".pcanvas.active .screen-header"),i=$(".pcanvas.active .screen-footer"),e=$(".pcanvas.active .scontainer"),p=[],Widget.select(function(t){var e,i,n,r,o;return t.screen_cid===a.cid&&("sticky"!==t.name&&(o=Widgetstate.find(a.state_cid+t.cid),r=Widgetstate.find(d+t.cid),o||r?(o&&(o.screen_cid=a.cid),r&&(r.screen_cid=a.cid),o||(o=t),r||(r=t),(e=$("#widget"+t.cid+"p")[0])&&MB.runner.transformWidget(a,o,r,e,h),(i=$("#widget"+t.cid+"pgf")[0])&&MB.runner.transformWidget(a,o,r,i,h),(n=$("#widget"+t.cid+"pgh")[0])&&MB.runner.transformWidget(a,o,r,n,h),p.push([o,r,e,n,i]),!1):void 0))}),s=[],Panel.select(function(t){var e,i,n,r,o;if(t.screen_cid===a.cid&&(o=Panelstate.find(a.state_cid+t.cid),r=Panelstate.find(d+t.cid),o||r))return r&&(r.cid=t.cid),o||(o=t),r||(r=t),(e=$("#panel"+t.cid+"p")[0])&&MB.runner.transformPanel(a,o,r,e,h,"p"),(n=$("#panel"+t.cid+"pgh")[0])&&MB.runner.transformPanel(a,o,r,n,h,"pgh"),(i=$("#panel"+t.cid+"pgf")[0])&&MB.runner.transformPanel(a,o,r,i,h,"pgf"),s.push([o,r,e,n,i]),!1}),o=a.headerHeight(),r=a.footerHeight(),a.setState(d,!0),MB.webpackInterface.store.dispatch({type:"entry:update:screen:state",payload:{screen:a,stateCid:d}}),this.timerFired=!1,l=p.sort(function(t,e){return t[1].timestamp-e[1].timestamp}),c=s.sort(function(t,e){return t[1].timestamp-e[1].timestamp}),this.timeoutBucket.setTimeout("stateTimer",function(t){return function(){var s,u,d,h,f,g,m,v,y,b,_,w,x,S,T,M,k;for(f=a.headerHeight(),d=a.footerHeight(),o!==f&&(n.css("height",f),e.css("marginTop",-f)),r!==d&&(i.css("height",f),e.css("height",a.height-d)),l=p.sort(function(t,e){return t[1].timestamp-e[1].timestamp}),m=0,b=l.length;m<b;m++)g=l[m],S=g[0],k=g[1],s=g[2],h=g[3],u=g[4],"none"!==k.ani_name&&(s&&(s.className+=" animated"),h&&(h.className+=" animated"),u&&(u.className+=" animated")),S.text!==k.text&&(WidgetManager.renderText(k,s),WidgetManager.renderText(k,u),WidgetManager.renderText(k,h)),WidgetManager.renderExtras(k,s,"p"),WidgetManager.renderExtras(k,h,"p"),WidgetManager.renderExtras(k,u,"p");for(T=l.concat(c),M=[],v=0,_=T.length;v<_;v++)g=T[v],x=g[0],w=g[1],s=g[2],h=g[3],u=g[4],y=Link.find(w.gid),y&&(y.targetstate_cid&&y.sourcestate_cid===w.screenstate_cid||y.target_cid)?(w.v&&(s&&t.setupWidgetLink($(s),y),h&&t.setupWidgetLink($(h),y),u&&t.setupWidgetLink($(u),y)),y.timer>0&&(!y.targetstate_cid||y.sourcestate_cid===w.screenstate_cid)?M.push(t.pageTimer(y)):M.push(void 0)):M.push($(s).removeClass("clickable"));return M}}(this),0),this.timeoutBucket.setTimeout("stateTimer2",function(t){return function(){var e,r,o,s,u,h,p,f,g,m,v,y,b,_;for(h=a.headerHeight(),o=a.footerHeight(),s=0===o?Number.MAX_VALUE:Math.floor(a.h()-a.footerHeight()),_=l.concat(c),m=0,v=_.length;m<v;m++)p=_[m],b=p[0],y=p[1],e=p[2],u=p[3],r=p[4],e&&(g=y.t()<h,f=y.t()+y.h()>s,!g||u||y.primary_fixed||(u=$(e).clone()[0],u.id=e.id+"gh",n[0].appendChild(u)),!g&&u&&(u.remove(),u=null,$(e).show()),!f||r||y.primary_fixed||(r=$(e).clone()[0],r.id=r.id+"gf",r.style.top=y.t()-s+"px",i[0].appendChild(r)),!f&&r&&(r.remove(),r=null,$(e).show()));return t.setupPageTimers(a,d)}}(this),1e3*(parseFloat(t.ani_duration)+parseFloat(t.ani_delay||"0")))},t.prototype.setupWidgetLink=function(t,e){var i,n;if(n=this.currentMenu?Screen.find(this.currentMenu):Screen.find($(".pcanvas.active").data("cid")),!(e.target_cid===n.cid||e.targetstate_cid&&e.targetstate_cid===n.state_cid))return t.addClass("clickable"),t.attr("data-link_cid",e.cid),t.find(".region").length?void 0:(i="tap"!==e.gesture?e.gesture:"",t.append("<div class='region gesture "+i+"'></div>"))},t.prototype.setupPanelLinks=function(t){var e,i,n,r,o,s,a,c,l,u,d,h,p,f;for(u=Link.findAllByAttribute("screen_cid",t.data("cid")),i=0,o=u.length;i<o;i++)r=u[i],h=t[0].id.replace(t.data("cid"),r.target_cid),$("#"+h).enableTransition("10ms");for(l=t[0].parentElement.dataset.cid,p=Link.findAllByAttribute("state_cid",t.data("cid")),n=0,s=p.length;n<s;n++)for(r=p[n],d=r.cwidgets(),c=0,a=d.length;c<a;c++)f=d[c],f.v&&(e=t.find("#widget"+f.cid+l+"p"),this.setupWidgetLink(e,r));return setTimeout(function(t){return function(){var e,i,n,o;for(n=[],i=0,e=p.length;i<e;i++)r=p[i],o=Screen.find(r.target_cid),o?(t.renderWidgets(o),n.push($("#pscreen"+o.cid).enableTransition("10ms"))):n.push(void 0);return n}}(this),100)},t.prototype.setupPanelAnimationAndFixed=function(t){var e,i,n,r,o,s,a,c,l;for(r=t[0].parentElement,o=r.dataset.cid,c=Screen.find(t.data("cid")),s=c.cwidgets(),a=[],i=0,n=s.length;i<n;i++)l=s[i],e=t.find("#widget"+l.cid+o+"p"),"webpage"===l.name&&l.text?a.push(this.runnerUtil.setObjectUrl(e.find(".iframe")[0],l.text.replace(/&amp;/g,"&"))):a.push(void 0);return a},t.prototype.setupFixedWidgets=function(t){var e,i,n,r,o,s,a,c,l,u,d,h,p,f,g,m,v,y,b,_,w,x,S,T,M,k,B,E,C,P,A,j,L,N,D;for(f=t.headerHeight(),u=t.footerHeight(),d=0===u?Number.MAX_VALUE:Math.floor(t.h()-u),r=$(".pcanvas.active .screen-header").html(""),n=$(".pcanvas.active .screen-footer").html(""),this.runnerUtil.updateScreenContentHeight(t),p=document.createDocumentFragment(),h=document.createDocumentFragment(),k=[],D=[],E=t.citems(),b=0,w=E.length;b<w;b++)g=E[b],g.primary_fixed||"sticky"!==(C=g.name)&&"pg"!==C&&("panel"===g.name&&k.push(g),"webpage"===g.name&&D.push(g),j=g.t(),o="panel"===g.name?$("#panel"+g.cid+"p"):$("#widget"+g.cid+"p"),c=Math.floor(j+o.outerHeight()),"image_view"===g.name&&(/.gif$/.test(g.image)||(s=Asset.find(g.image))&&/.gif$/.test(s.image))&&(m=o.find("img")[0],m.src=m.src),y=j<f,v=c>=d&&j<t.h(),y&&(e=o.clone(),e.attr("id",e.attr("id")+"gh"),p.appendChild(e[0])),v&&(e=o.clone(),e.attr("id",e.attr("id")+"gf"),e.css("top",j-d),h.appendChild(e[0])));for(r[0].appendChild(p),n[0].appendChild(h),P=["p","pgh","pgf"],A=[],_=0,x=P.length;_<x;_++){for(B=P[_],T=0,S=k.length;T<S;T++)M=k[T],(l=document.getElementById("panel"+M.cid+B))&&(a=$(l).find(".state.active"),this.setupPanelLinks(a),this.setupPanelAnimationAndFixed(a));A.push(function(){var t,e,n;for(n=[],e=0,t=D.length;e<t;e++)N=D[e],(l=document.getElementById("widget"+N.cid+B))?(i=$(l).find(".iframe")[0],L=N.text?N.text.replace(/&amp;/g,"&"):"about:blank",n.push(this.runnerUtil.setObjectUrl(i,L))):n.push(void 0);return n}.call(this))}return A},t.prototype.setupStatusBar=function(t){var e,i,n;if(e=$(".pcanvas.active .status_bar").removeClass("standalone light"),window.innerHeight>window.innerWidth&&(e.addClass("standalone"),!(i=t.sb())||i.th&&"light"!==i.th||e.addClass("light")),MB.isIOS9()&&this.runnerUtil.deviceOrient()===t.orient())return n=MB.COMPONENTS.status_bar.height,$("#app").css({top:0-n,height:window.innerHeight+n})},t.prototype.setupPG=function(){var t;return this.hammertime=new e.Hammer($("#app")[0],{touchAction:"auto",inputClass:MB.isMobile()?e.Hammer.TouchInput:null}),this.hammertime.get("swipe").set({direction:e.Hammer.DIRECTION_ALL,velocity:.05,threshold:50}),this.hammertime.on("swipeleft",function(t){return function(e){return setTimeout(function(){return t.pj(e,"left")})}}(this)),this.hammertime.on("swiperight",function(t){return function(e){return setTimeout(function(){return t.pj(e,"right")})}}(this)),this.hammertime.on("swipeup",function(t){return function(e){return setTimeout(function(){return t.pj(e,"up")})}}(this)),this.hammertime.on("swipedown",function(t){return function(e){return setTimeout(function(){return t.pj(e,"down")})}}(this)),this.hammertime.on("press",function(t){return function(e){return setTimeout(function(){return t.pj(e,"hold")})}}(this)),this.hammertime.on("tap",function(t){return function(e){if(1===e.tapCount&&setTimeout(function(){return t.pj(e,"tap")}),2===e.tapCount)return t.eventBucket.resetCoolDown(),t.hightTimer&&clearTimeout(t.hightTimer),setTimeout(function(){return t.pj(e,"dtap")})}}(this)),t=new Shake({threshold:15}),t.start(),window.addEventListener("shake",function(t){return function(e){return setTimeout(function(){return t.pj(e,"shake")})}}(this),!1)},t.prototype.setupPageGesture=function(t){var e,i,n,r,o,s;for(e=[],o=t.clinks(),i=0,r=o.length;i<r;i++)n=o[i],"left"!==n.gesture&&"right"!==n.gesture||e.indexOf("pan-y")===-1&&e.push("pan-y"),"up"!==n.gesture&&"down"!==n.gesture||e.indexOf("pan-x")===-1&&e.push("pan-x");return s=e.length?e.join(" "):"auto",this.hammertime.touchAction.actions=s,$(".pcanvas.active .widgets").css("touch-action",s)},t.prototype.pageTimer=function(t){return this.timeoutBucket.setTimeout(t.cid,function(e){return function(){if(!e.timerFired&&(e.timerFired=!0,"immersive"!==e.mode))return e.j(t)}}(this),1e3*t.timer);
},t.prototype.panelTimer=function(t,e){if(Screen.find(t.target_cid))return this.timeoutBucket.setTimeout(e.cid,function(i){return function(){if(!e.timerFired&&!i.timerFired&&(e.timerFired=!0,e.lsave(!1),"immersive"!==i.mode))return i.panelWJ(t,$("#panel"+e.cid+"p")),$("#panel"+e.cid+"pgh").length&&i.panelWJ(t,$("#panel"+e.cid+"pgh")),$("#panel"+e.cid+"pgf").length?i.panelWJ(t,$("#panel"+e.cid+"pgf")):void 0}}(this),1e3*t.timer)},t.prototype.setupPanelTimers=function(t,e){var i,n,r,o,s,a,c,l,u;if(e||(i=$("#panel"+t.cid+"p .pstate.active").data("cid"),e=Screen.find(i)),e){for(this.timeoutBucket.clearTimeoutByKey(t.cid),t.timerFired=!1,t.lsave(!1),c=e.clinks(),n=0,o=c.length;n<o;n++)a=c[n],a.timer>0&&this.panelTimer(a,t);for(l=Link.findAllByAttribute("state_cid",e.cid),u=[],r=0,s=l.length;r<s;r++)a=l[r],a.timer>0&&u.push(this.pageTimer(a));return u}},t.prototype.setupPageTimers=function(t,e){var i,n,r,o,s,a,c,l,u,d;if(null==e&&(e="default"),"immersive"!==this.mode){for(this.timeoutBucket.clear(),l=t.cwidgets(),n=0,s=l.length;n<s;n++)i=l[n],e&&i.setState(e,!1),o=Link.find(i.gid),o&&o.timer>0&&(!o.targetstate_cid||o.sourcestate_cid===e)&&this.pageTimer(o);for(u=t.cpanels(),d=[],r=0,a=u.length;r<a;r++)c=u[r],d.push(this.setupPanelTimers(c));return d}},t.prototype.renderScreen=function(){var t,e,i,n,r,o,s,a;for(a="",r=this.project.cscreens(),t=0,i=r.length;t<i;t++)s=r[t],a+=this.runnerUtil.screenPreview(s);for($("#app").append(a),o=this.project.cscreens(),e=0,n=o.length;e<n;e++)s=o[e],s.cid!==this.home.cid&&this.transitionUtil.hideScreen("#pscreen"+s.cid);return $("#pscreen"+this.home.cid).addClass("active")},t.prototype.renderWidgets=function(t){var e,i,n,r,o,s,a,c,l,u,d,h,p;if(!$("#pscreen"+t.cid+" .screen-content .widget").length){for(p=new Date,t.setState("default",!0),u=t.citems(),o=0,a=u.length;o<a;o++)r=u[o],r.setState("default",!0);for(l=document.querySelector("#pscreen"+t.cid),h=document.querySelector("#pscreen"+t.cid+" .scontainer"),e="",d=t.citems(),s=0,c=d.length;s<c;s++)r=d[s],"sticky"!==r.name&&("pg"!==r.name||/^l/.test(r.gid))&&("panel"===r.name?r.valid()&&(e+=MB.PanelPreview(r)):(n=MB.widget(r,"p"),e+=n));return h.innerHTML+=e,this.runnerUtil.updateScreenContentHeight(t),this.runnerUtil.initScrollBar(t.cid),i=new Date,i-p>500?MB.ga("send","event","performance","render("+(i-p)+")("+t.cid+")("+MB.project().model+")("+navigator.userAgent+")"):void 0}},t}(),this.DesignerRunner=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.render=function(t,e){return this.project=Project.find(t)||Template.find(t)||Combo.find(t),this.project?($("body").data("scale",100),this.home=Screen.find(e),this.home.setState("default",!0),this.init()):MB.webpackInterface.navigateTo("/workspace/apps")},e}(t),this.SharingRunner=function(t){function e(t){this.project=t,e.__super__.constructor.call(this)}return i(e,t),e.prototype.render=function(){return MB.currentScreen=this.home=this.project.homeScreen(),$("body").data("scale",100),(MB.isMobile()||MB.isEmbedded())&&(this.project.scale=100,this.project.lsave(!1)),MB.webpackInterface.renderPreview(document.querySelector("#workspace")),setTimeout(function(t){return function(){return $("#workspace").show(),t.init()}}(this),100)},e}(t)}.call(this),function(){this.Pusher=function(){function t(){var t,e,i,n;/modao.cc/.test(window.MBServer)?(e="zr0zakpglowydpzdfm9biewf3e1mv43ykz24ieu20vb8s3bl",i="0qbkbb3sxie08vnnac8ns2bz86lu9m8oam4wlvynh3mu3n08",n="cn"):(e="mw2fpdz5dqyge9ag4u9oxj6bvmx6fs1m3zq6po8dy36zkl8v",i="b3jezh7100lhusvjy7mzktticqzkrx7yj7y7j04lon7ct9c9",n="us"),this.open=!1,this.subscribed=[],this.pusher=AV.push({appId:e,appKey:i,region:n});try{this.pusher.open(function(t){return function(){return t.open=!0}}(this)),this.pusher.subscribe([MB.user.channel],function(){return console.log("\u8ba2\u9605\u6210\u529f\uff01")})}catch(t){}this.pusher.on("close",function(t){return function(){return t.open=!1}}(this)),this.pusher.on("open",function(t){return function(){return t.open=!0,t.onOpen&&t.onOpen(),t.onOpen=null}}(this)),this.pusher.on("message",function(t){return function(e){return t.onReceive(e)}}(this)),this.pusher.on("error",function(t){return function(){return t.open=!1}}(this)),t=$("#notification"),t.on("click",".icon-times, .ask_later",function(){return t.removeClass("active"),t.find(".request_permission").remove(),$("body").removeClass("notification-show")})}return t.prototype.subscribe=function(t){if(this.subscribed.indexOf(t)===-1)return this.subscribed.push(t)},t.prototype.onReceive=function(t){var e,i,n;if(t._channel===MB.user.channel)switch(t.event){case"notification":return MB.notifier&&this.handleNotification(t);case"collaboration":if("Project"===t.t)return this.updateProject(t.action,t.object);if("Team"===t.t)return this.updateTeam(t.action,t.object);if("Collaborator"===t.t)return this.updateCollaborator(t.action,t.object);if(t.from.id===MB.user.id)return;switch(t.t){case"Asset":return this.updateAsset(t.action,t.object);case"PointComments::Thread":return MB.webpackInterface&&MB.webpackInterface.pushData("comment-threads",t.action,t.object);case"PointComments::Comment":return MB.webpackInterface&&MB.webpackInterface.pushData("comments",t.action,t.object);default:if(MB.pusher.subscribed.indexOf(t.to)===-1)return;if(MB.f.inSharing)return;switch(t.t){case"Widget":this.updateWidget(t.action,t.object);break;case"Link":this.updateLink(t.action,t.object);break;case"Screen":this.updateScreen(t.action,t.object);break;case"Panel":this.updatePanel(t.action,t.object,t.extras);break;case"Screenstate":this.updateScreenstate(t.action,t.object);break;case"Widgetstate":this.updateWidgetstate(t.action,t.object);break;case"Panelstate":this.updatePanelstate(t.action,t.object)}if(i="Screen"===t.t?t.object.cid:t.object.screen_cid,!i&&t.object.screenstate_cid&&(n=Screenstate.find(t.object.screenstate_cid),n&&(i=n.screen_cid)),!t.from.id)return;return e=CoWorker.find(t.from.id),e||(e=new CoWorker({cid:t.from.id,name:t.from.name,avatar:t.from.avatar})),e.screen_cid=i,e.last_seen=new Date,e.save(),MB.renderCoWorkers&&MB.renderCoWorkers()}}},t.prototype.handleNotification=function(t){var e,i;if(!(t._channel!==MB.user.channel||t._expired||"new_thread_comment"===t.event_type&&MB.commentModeOn))return i={icon:"/images/mockingbot-logo80x80.png",body:t.message},MB.notifier.notify(I18N.got_message,i,1e4,function(e){var i;return e.preventDefault(),i=window,i.focus(),MB.notification.markRead(t.id,function(){return MB.notification.gotoDataUrl(t.url,i,t.need_reload,t.need_new_win)}),this.close()},void 0,function(e){return function(){return e.notifyFallback(t)}}(this)),e=$("#header .notifications-dropdown")[0],e?(ReactDOM.unmountComponentAtNode(e),MB.renderNotifications(e)):void 0},t.prototype.notifyFallback=function(t){if($("#notification").addClass("active"),$("#notification .request_permission_message").hide(),$("#notification .message").text(t.message),setTimeout(function(){return $("#notification").removeClass("active")},1e4),t.url)return $("#notification .message").off("click"),$("#notification .message").on("click",function(e){return e.preventDefault(),MB.notification.markRead(t.id,function(){return MB.notification.gotoDataUrl(t.url,window,t.need_reload,t.need_new_win)})})},t.prototype.updateWidget=function(t,e){var i,n;if(i=MB.getCurrentScreen(),"update"===t){if(n=Widget.find(e.cid),n?n.refresh(e):(n=new Widget,n.load(e),n.lsave(!1)),i===n.screen_cid)return ScreenManager.updateWidgetList()}else if("destroy"===t){if(n=Widget.find(e.cid),!n)return;if(n.ldestroy(!1),i===n.screen_cid)return ScreenManager.updateWidgetList(),MB.action("selection:unselect:items",{cids:[n.cid]})}},t.prototype.updatePanel=function(t,e,i){var n,r;if(n=MB.getCurrentScreen(),"update"===t){if(r=Panel.find(e.cid),!r)return $.ajax({type:"GET",url:"/app/"+i.template_token+".json",success:function(t){if(Template.refresh([t.project]),Screen.refresh(t.screens),Widget.refresh(t.widgets),Link.refresh(t.links),MB.pusher.subscribe(t.project.cid),r=new Panel,r.load(e),r.lsave(!1),MB.renderTemplateList(),n===r.screen_cid)return ScreenManager.updateWidgetList()}});if(r.refresh(e),n===r.screen_cid)return ScreenManager.updateWidgetList()}else if("destroy"===t){if(r=Panel.find(e.cid),!r)return;return n===r.screen_cid?(PanelManager.remove(r.cid,!1),MB.action("selection:unselect:items",{cids:[r.cid]}),ScreenManager.updateWidgetList()):r.ldestroy(!1)}},t.prototype.updateLink=function(t,e){var i,n;if(i=MB.getCurrentScreen(),"update"===t)n=Link.find(e.cid),n?n.refresh(e):(n=new Link,n.load(e),n.lsave(!1));else if("destroy"===t){if(n=Link.find(e.cid),!n)return;n.ldestroy(!1)}if(n&&i===n.screen_cid)return MB.renderLinks()},t.prototype.updateScreen=function(t,e){var i,n;if("update"===t){if(i=Screen.find(e.cid),i?(i.refresh(e),MB.currentScreen.cid===i.cid&&(MB.action("set:current:screen",{screen:i}),$("#design").trigger("slider:update"))):(i=new Screen,i.load(e),i.lsave(!1)),MB.currentProject&&MB.currentProject.cid===i.project_cid)return n=MB.currentProject.cscreens(),MB.action("update:screens:all",{screens:n})}else if("destroy"===t){if(i=Screen.find(e.cid),!i)return;if(i.ldestroy(!1),MB.currentProject&&MB.currentProject.cid===i.project_cid)return MB.action("entry:remove:from:screen-history",{cids:[i.cid]})}},t.prototype.updateProject=function(t,e){var i,n,r;if(!MB.f.inSharing)return"update"===t&&((i=Project.find(e.cid))?i.duplicating&&(n=i.screens_count,i.refresh(e),i.screens_count=n):(i=new Project,i.load(e),i.screens_count||(i.screens_count=2),i.lsave(!1)),MB.webpackInterface.refreshAll(),i.duplicating||$("#notification").removeClass("active"),MB.f.isDuplicatingDemo&&!i.duplicating&&(MB.f.isDuplicatingDemo=!1,MB.webpackInterface.navigateTo("/workspace/apps/"+i.cid))),"destroy"===t&&((i=Project.find(e.cid))?MB.webpackInterface.deleteProjectByCid(i.cid):(r=Template.find(e.cid))&&(r.ldestroy(!1),MB.renderTemplateList())),$(".timeago").timeago()},t.prototype.updateTeam=function(t,e){var i;if(!MB.f.inSharing)return"update"===t&&(i=Team.find(e.cid),i?i.refresh(e):(i=new Team,i.load(e),i.lsave(!1)),MB.webpackInterface.refreshAll()),"destroy"===t&&(i=Team.find(e.cid))?MB.webpackInterface.deleteTeamByCid(i.cid):void 0},t.prototype.updateCollaborator=function(t,e){var i,n,r;if(MB.f.inSharing){if("update"===t&&(i=Collaborator.find(e.cid),i?i.refresh(e):(i=new Collaborator,i.load(e),i.lsave(!1)),i.updateHostChannel(t),MB.webpackInterface.store.dispatch({type:"entry:state:init"})),"destroy"===t){if(i=Collaborator.find(e.cid),!i)return;if(i.updateHostChannel(t),i.ldestroy(!1),i.user_id===MB.user.id)return i.project_cid&&(n=Project.find(i.project_cid)),window.location.reload()}}else if("update"===t&&(i=Collaborator.find(e.cid),i?i.refresh(e):(i=new Collaborator,i.load(e),i.lsave(!1)),i.updateHostChannel(t),MB.webpackInterface.refreshAll()),"destroy"===t){if(i=Collaborator.find(e.cid),!i)return;if(i.updateHostChannel(t),i.ldestroy(!1),i.user_id===MB.user.id&&(i.project_cid&&(n=Project.find(i.project_cid)),n&&MB.webpackInterface.deleteProjectByCid(n.cid),i.team_cid&&(r=Team.find(i.team_cid)),r))return MB.webpackInterface.deleteTeamByCid(r.cid)}},t.prototype.updateScreenstate=function(t,e){var i,n;if(i=Screen.find(MB.currentScreen.cid),"update"===t){if(n=Screenstate.find(e.cid),n?n.refresh(e):(n=new Screenstate,n.load(e),n.lsave(!1)),i&&i.cid===n.screen_cid)return MB.renderStateList()}else if("destroy"===t){if(n=Screenstate.find(e.cid),!n)return;if(n.ldestroy(!1),i&&i.cid===n.screen_cid)return i.state_cid===n.cid&&(i.setState("default",!0),MB.action("set:current:screen",{screen:i}),ScreenManager.updateWidgetList()),MB.renderStateList()}},t.prototype.updateWidgetstate=function(t,e){var i,n,r;if(i=Screen.find(MB.currentScreen.cid),"update"===t&&(r=Widgetstate.find(e.cid),r?r.refresh(e):(r=new Widgetstate,r.load(e),r.lsave(!1)),i&&i.state_cid===r.screenstate_cid&&(n=Widget.find(r.widget_cid),n.screenstate_cid===r.screenstate_cid)))return n.restore(r),n.lsave(!1),ScreenManager.updateWidgetList()},t.prototype.updateAsset=function(t,e){var i;if(!MB.f.inSharing)return"create"===t?(i=new Asset,i.load(e),i.lsave(!1)):void 0},t.prototype.updatePanelstate=function(t,e){var i,n,r;if(r=Screen.find(MB.currentScreen.cid),"update"===t&&(n=Panelstate.find(e.cid),n?n.refresh(e):(n=new Panelstate,n.load(e),n.lsave(!1)),r&&r.state_cid===n.screenstate_cid&&(i=Panel.find(n.panel_cid),i.screenstate_cid===n.screenstate_cid)))return i.restore(n),i.lsave(!1),ScreenManager.updateWidgetList()},t}()}.call(this),function(){}.call(this);